(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{GUIp:function(e,n,t){e.exports=function(){"use strict";var e=function(e){var n=e.addFilter,t=e.utils,l=t.Type,r=t.isString,i=t.replaceInString,a=t.guesstimateMimeType,o=t.getExtensionFromFilename,u=t.getFilenameFromURL,s=function(e,n){return e.some(function(e){return/\*$/.test(e)?(t=e,(/^[^\/]+/.exec(n)||[]).pop()===t.slice(0,-2)):e===n;var t})},c=function(e,n,t){if(0===n.length)return!0;var l=function(e){var n="";if(r(e)){var t=u(e),l=o(t);l&&(n=a(l))}else n=e.type;return n}(e);return t?new Promise(function(r,i){t(e,l).then(function(e){s(n,e)?r():i()}).catch(i)}):s(n,l)};return n("SET_ATTRIBUTE_TO_OPTION_MAP",function(e){return Object.assign(e,{accept:"acceptedFileTypes"})}),n("ALLOW_HOPPER_ITEM",function(e,n){var t=n.query;return!t("GET_ALLOW_FILE_TYPE_VALIDATION")||c(e,t("GET_ACCEPTED_FILE_TYPES"))}),n("LOAD_FILE",function(e,n){var t=n.query;return new Promise(function(n,l){if(t("GET_ALLOW_FILE_TYPE_VALIDATION")){var r=t("GET_ACCEPTED_FILE_TYPES"),a=t("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),o=c(e,r,a),u=function(){var e,n=r.map((e=t("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"),function(n){return null!==e[n]&&(e[n]||n)})).filter(function(e){return!1!==e});l({status:{main:t("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:i(t("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:n.join(", "),allButLastType:n.slice(0,-1).join(", "),lastType:n[n.length-1]})}})};if("boolean"==typeof o)return o?n(e):u();o.then(function(){n(e)}).catch(u)}else n(e)})}),{options:{allowFileTypeValidation:[!0,l.BOOLEAN],acceptedFileTypes:[[],l.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",l.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",l.STRING],fileValidateTypeLabelExpectedTypesMap:[{},l.OBJECT],fileValidateTypeDetectType:[null,l.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},LPyF:function(e,n,t){e.exports=function(){"use strict";var e={type:"spring",stiffness:.5,damping:.45,mass:10},n=function(e,n){return{x:e,y:n}},t=function(e,t){return n(e.x-t.x,e.y-t.y)},l=function(e,n){return Math.sqrt(function(e,n){return function(e,n){return e.x*n.x+e.y*n.y}(t(e,n),t(e,n))}(e,n))},r=function(e,t){var l=e,r=t,i=1.5707963267948966-t,a=Math.sin(1.5707963267948966),o=Math.sin(r),u=Math.sin(i),s=Math.cos(i),c=l/a;return n(s*(c*o),s*(c*u))},i='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',a=!1,o=0,u=function(){self.onmessage=function(e){createImageBitmap(e.data.message.file).then(function(n){self.postMessage({id:e.data.id,message:n},[n])})}},s={1:function(){return[1,0,0,1,0,0]},2:function(e){return[-1,0,0,1,e,0]},3:function(e,n){return[-1,0,0,-1,e,n]},4:function(e,n){return[1,0,0,-1,0,n]},5:function(){return[0,1,1,0,0,0]},6:function(e,n){return[0,1,-1,0,n,0]},7:function(e,n){return[0,-1,-1,0,n,e]},8:function(e){return[0,-1,1,0,0,e]}},c=function(e){return/^image/.test(e.type)&&!/svg/.test(e.type)},d=function(e){var n=Math.min(10/e.width,10/e.height),t=document.createElement("canvas"),l=t.getContext("2d"),r=t.width=Math.ceil(e.width*n),i=t.height=Math.ceil(e.height*n);l.drawImage(e,0,0,r,i);var a=null;try{a=l.getImageData(0,0,r,i).data}catch(p){return null}for(var o=a.length,u=0,s=0,c=0,d=0;d<o;d+=4)u+=a[d]*a[d],s+=a[d+1]*a[d+1],c+=a[d+2]*a[d+2];return{r:u=f(u,o),g:s=f(s,o),b:c=f(c,o)}},f=function(e,n){return Math.floor(Math.sqrt(e/(n/4)))},p=function(t){var f=t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(e){var n=e.root,t=e.props;!a&&document.querySelector("base")&&(i=i.replace(/url\(\#/g,"url("+window.location.href.replace(window.location.hash,"")+"#"),a=!0),o++,n.element.classList.add("filepond--image-preview-overlay-".concat(t.status)),n.element.innerHTML=i.replace(/__UID__/g,o)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),p=function(t){return t.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["crop","image"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:e,scaleY:e,translateY:e,opacity:{type:"tween",duration:400}}},create:function(i){var a=i.root,o=i.props;a.ref.clip=a.appendChildView(a.createChildView(function(t){return t.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},create:function(n){var l=n.root,r=n.props;l.ref.image=l.appendChildView(l.createChildView(function(n){return n.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:e,originY:e,scaleX:e,scaleY:e,translateX:e,translateY:e,rotateZ:e}},create:function(e){var t=e.root,l=e.props;l.width=l.image.width,l.height=l.image.height,t.ref.bitmap=t.appendChildView(t.createChildView(function(e){return e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(e){e.root.appendChild(e.props.image)}})}(n),{image:l.image}))},write:function(e){var n=e.props.crop.flip,t=e.root.ref.bitmap;t.scaleX=n.horizontal?-1:1,t.scaleY=n.vertical?-1:1}})}(t),Object.assign({},r)));var i=l.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==i&&(l.element.dataset.transparencyIndicator="grid"===i?i:"color")},write:function(e){var t=e.root,i=e.props,a=e.shouldOptimize,o=i.crop,u=i.width,s=i.height;t.ref.image.crop=o;var c={x:0,y:0,width:u,height:s,center:{x:.5*u,y:.5*s}},d={width:t.ref.image.width,height:t.ref.image.height},f={x:o.center.x*d.width,y:o.center.y*d.height},p={x:c.center.x-d.width*o.center.x,y:c.center.y-d.height*o.center.y},b=2*Math.PI+o.rotation%(2*Math.PI),m=o.aspectRatio||d.height/d.width,g=function(e,t,i,a){var o=2*(a.x>.5?1-a.x:a.x)*e.width,u=2*(a.y>.5?1-a.y:a.y)*e.height,s=function(e,t){var i=e.height,a=r(e.width,t),o=r(i,t),u=n(e.x+Math.abs(a.x),e.y-Math.abs(a.y)),s=n(e.x+e.width+Math.abs(o.y),e.y+Math.abs(o.x)),c=n(e.x-Math.abs(o.y),e.y+e.height-Math.abs(o.x));return{width:l(u,s),height:l(u,c)}}(t,i);return Math.max(s.width/o,s.height/u)}(d,function(e,n){var t=c.width,l=t*m;return l>c.height&&(t=(l=c.height)/m),{x:.5*(c.width-t),y:.5*(c.height-l),width:t,height:l}}(),b,o.center),h=o.zoom*g,E=t.ref.image;if(a)return E.originX=null,E.originY=null,E.translateX=null,E.translateY=null,E.rotateZ=null,E.scaleX=null,void(E.scaleY=null);E.originX=f.x,E.originY=f.y,E.translateX=p.x,E.translateY=p.y,E.rotateZ=b,E.scaleX=h,E.scaleY=h}})}(t),{image:o.image,crop:o.crop}))},write:function(e){var n=e.root,t=e.props,l=e.shouldOptimize,r=n.ref.clip,i=t.crop,a=t.image;if(r.crop=i,r.opacity=l?0:1,!l&&!n.rect.element.hidden){var o=i.aspectRatio||a.height/a.width,u=n.rect.inner.width,s=n.rect.inner.height,c=n.query("GET_IMAGE_PREVIEW_HEIGHT"),d=n.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),f=n.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),p=n.query("GET_PANEL_ASPECT_RATIO"),b=n.query("GET_ALLOW_MULTIPLE");p&&!b&&(c=u*p,o=p);var m=null!==c?c:Math.max(d,Math.min(u*o,f)),g=m/o;g>u&&(m=(g=u)*o),m>s&&(m=s,g=s/o),r.width=g,r.height=m}}})}(t),b=function(e){var n=e.root,t=e.image,l=e.props.id,r=n.query("GET_ITEM",{id:l});if(r){var i=r.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},a=n.appendChildView(n.createChildView(p,{image:t,crop:i,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),n.childViews.length);n.ref.images.push(a),a.opacity=1,a.scaleX=1,a.scaleY=1,a.translateY=0,setTimeout(function(){n.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:l})},250)}},m=function(e){var n=e.root;n.ref.overlayShadow.opacity=1,n.ref.overlayError.opacity=0,n.ref.overlaySuccess.opacity=0},g=function(e){var n=e.root;n.ref.overlayShadow.opacity=.25,n.ref.overlayError.opacity=1};return t.utils.createView({name:"image-preview-wrapper",create:function(e){var n=e.root;n.ref.images=[],n.ref.imageViewBin=[],n.ref.overlayShadow=n.appendChildView(n.createChildView(f,{opacity:0,status:"idle"})),n.ref.overlaySuccess=n.appendChildView(n.createChildView(f,{opacity:0,status:"success"})),n.ref.overlayError=n.appendChildView(n.createChildView(f,{opacity:0,status:"failure"}))},styles:["height"],apis:["height"],destroy:function(e){e.root.ref.images.forEach(function(e){e.image.width=1,e.image.height=1})},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:function(e){var n=e.root,t=n.ref.images[n.ref.images.length-1];t.translateY=0,t.scaleX=1,t.scaleY=1,t.opacity=1},DID_IMAGE_PREVIEW_CONTAINER_CREATE:function(e){var n,t,l,r=e.root,i=e.props.id,a=r.query("GET_ITEM",i);a&&(n=URL.createObjectURL(a.file),t=function(e,n){r.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:i,width:e,height:n})},(l=new Image).onload=function(){var e=l.naturalWidth,n=l.naturalHeight;l=null,t(e,n)},l.src=n)},DID_FINISH_CALCULATE_PREVIEWSIZE:function(e){var n=e.root,l=e.props,r=t.utils.createWorker,i=n.query("GET_ITEM",l.id);if(i){var a=URL.createObjectURL(i.file),o=function(){var e;(e=a,new Promise(function(n,t){var l=new Image;l.crossOrigin="Anonymous",l.onload=function(){n(l)},l.onerror=function(e){t(e)},l.src=e})).then(f)},f=function(e){URL.revokeObjectURL(a);var t=(i.getMetadata("exif")||{}).orientation||-1,r=e.width,o=e.height;if(t>=5&&t<=8){var u=[o,r];r=u[0],o=u[1]}var c=Math.max(1,.75*window.devicePixelRatio),f=n.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*c,p=o/r,m=n.rect.element.width,g=n.rect.element.height,h=m,E=h*p;p>1?E=(h=Math.min(r,m*f))*p:h=(E=Math.min(o,g*f))/p;var v=function(e,n,t,l){n=Math.round(n),t=Math.round(t);var r=document.createElement("canvas");r.width=n,r.height=t;var i=r.getContext("2d");if(l>=5&&l<=8){var a=[t,n];n=a[0],t=a[1]}return function(e,n,t,l){-1!==l&&e.transform.apply(e,s[l](n,t))}(i,n,t,l),i.drawImage(e,0,0,n,t),r}(e,h,E,t),_=n.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?d(e):null;i.setMetadata("color",_,!0),"close"in e&&e.close(),n.ref.overlayShadow.opacity=1,b({root:n,props:l,image:v})};if("createImageBitmap"in window&&c(i.file)){var p=r(u);p.post({file:i.file},function(e){p.terminate(),e?f(e):o()})}else o()}},DID_UPDATE_ITEM_METADATA:function(e){var n=e.root,t=e.props;if("crop"===e.action.change.key&&n.ref.images.length){var l=n.query("GET_ITEM",{id:t.id});if(l){var r,i,a=l.getMetadata("crop");if(Math.abs(a.aspectRatio-n.ref.images[n.ref.images.length-1].crop.aspectRatio)>1e-5){var o=function(e){var n=e.root,t=n.ref.images.shift();return t.opacity=0,t.translateY=-15,n.ref.imageViewBin.push(t),t}({root:n});b({root:n,props:t,image:(r=o.image,(i=i||document.createElement("canvas")).width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0),i)})}else!function(e){var n=e.root,t=n.query("GET_ITEM",{id:e.props.id});t&&(n.ref.images[n.ref.images.length-1].crop=t.getMetadata("crop"))}({root:n,props:t})}}},DID_THROW_ITEM_LOAD_ERROR:g,DID_THROW_ITEM_PROCESSING_ERROR:g,DID_THROW_ITEM_INVALID:g,DID_COMPLETE_ITEM_PROCESSING:function(e){var n=e.root;n.ref.overlayShadow.opacity=.25,n.ref.overlaySuccess.opacity=1},DID_START_ITEM_PROCESSING:m,DID_REVERT_ITEM_PROCESSING:m},function(e){var n=e.root,t=n.ref.imageViewBin.filter(function(e){return 0===e.opacity});n.ref.imageViewBin=n.ref.imageViewBin.filter(function(e){return e.opacity>0}),t.forEach(function(e){return function(e,n){e.removeChildView(n),n.image.width=1,n.image.height=1,n._destroy()}(n,e)}),t.length=0})})},b=function(e){var n=e.addFilter,t=e.utils,l=t.Type,r=t.createRoute,i=t.isFile,a=p(e);return n("CREATE_VIEW",function(e){var n=e.view,t=e.query;if((0,e.is)("file")&&t("GET_ALLOW_IMAGE_PREVIEW")){var l=function(e){e.root.ref.shouldRescale=!0};n.registerWriter(r({DID_RESIZE_ROOT:l,DID_STOP_RESIZE:l,DID_LOAD_ITEM:function(e){var l=e.root,r=e.props.id,o=t("GET_ITEM",r);if(o&&i(o.file)&&!o.archived){var u=o.file;if(function(e){return/^image/.test(e.type)}(u)){var s="createImageBitmap"in(window||{}),c=t("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!s&&c&&u.size>c)){l.ref.imagePreview=n.appendChildView(n.createChildView(a,{id:r}));var d=l.query("GET_IMAGE_PREVIEW_HEIGHT");d&&l.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:o.id,height:d});var f=!s&&u.size>t("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");l.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:r},f)}}}},DID_IMAGE_PREVIEW_CALCULATE_SIZE:function(e){var n=e.root,t=e.action;n.ref.imageWidth=t.width,n.ref.imageHeight=t.height,n.ref.shouldRescale=!0,n.ref.shouldDrawPreview=!0,n.dispatch("KICK")},DID_UPDATE_ITEM_METADATA:function(e){"crop"===e.action.change.key&&(e.root.ref.shouldRescale=!0)}},function(e){var n=e.root,t=e.props;n.rect.element.hidden||(n.ref.shouldRescale&&(function(e,n){if(e.ref.imagePreview){var t=e.query("GET_ITEM",{id:n.id});if(t){var l=e.query("GET_PANEL_ASPECT_RATIO"),r=e.query("GET_ITEM_PANEL_ASPECT_RATIO"),i=e.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(l||r||i)){var a=e.ref,o=a.imageWidth,u=a.imageHeight;if(o&&u){var s=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),d=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),f=(t.getMetadata("exif")||{}).orientation||-1;if(f>=5&&f<=8){var p=[u,o];o=p[0],u=p[1]}if(!c(t.file)||e.query("GET_IMAGE_PREVIEW_UPSCALE")){var b=2048/o;o*=b,u*=b}var m=u/o,g=(t.getMetadata("crop")||{}).aspectRatio||m,h=Math.max(s,Math.min(u,d)),E=Math.min(e.rect.element.width*g,h);e.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:t.id,height:E})}}}}}(n,t),n.ref.shouldRescale=!1),n.ref.shouldDrawPreview&&(requestAnimationFrame(function(){n.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:t.id})}),n.ref.shouldDrawPreview=!1))}))}}),{options:{allowImagePreview:[!0,l.BOOLEAN],imagePreviewHeight:[null,l.INT],imagePreviewMinHeight:[44,l.INT],imagePreviewMaxHeight:[256,l.INT],imagePreviewMaxFileSize:[null,l.INT],imagePreviewZoomFactor:[2,l.INT],imagePreviewUpscale:[!1,l.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,l.INT],imagePreviewTransparencyIndicator:[null,l.STRING],imagePreviewCalculateAverageImageColor:[!1,l.BOOLEAN]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:b})),b}()},WTRC:function(e,n,t){(function(e){var t,l;l=function(e,n){function t(e,n,t){for(var l=document.createElementNS("http://www.w3.org/2000/svg",n),r=2;r+1<arguments.length;r+=2)l.setAttribute(arguments[r],arguments[r+1]);e.appendChild(l)}function l(e){for(this.b=Math.min(Number(e.getAttribute("width"))||100,Number(e.getAttribute("height"))||100),this.a=e;e.firstChild;)e.removeChild(e.firstChild);e.setAttribute("viewBox","0 0 "+this.b+" "+this.b),e.setAttribute("preserveAspectRatio","xMidYMid meet")}function r(e){this.b=e,this.a='<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+e+'" viewBox="0 0 '+e+" "+e+'" preserveAspectRatio="xMidYMid meet">'}function i(e,n){var t=e.canvas.width,l=e.canvas.height;e.save(),this.b=e,n?this.a=n:(this.a=Math.min(t,l),e.translate((t-this.a)/2|0,(l-this.a)/2|0)),e.clearRect(0,0,this.a,this.a)}function a(e){return 0>(e|=0)?"00":16>e?"0"+e.toString(16):256>e?e.toString(16):"ff"}function o(e,n,t){return a(255*(1>(t=0>t?t+6:6<t?t-6:t)?e+(n-e)*t:3>t?n:4>t?e+(n-e)*(4-t):e))}function u(e,n,t){return parseInt(e.substr(n,t),16)}function s(e){return(10*e+.5|0)/10}function c(){this.j=""}function d(e){this.b={},this.h=e,this.a=e.b}function f(e){this.h=e,this.c=m.a}function p(e,n){return e=n.O(e),[T.i(e,n.H,n.G(0)),T.i(e,n.v,n.u(.5)),T.i(e,n.H,n.G(1)),T.i(e,n.v,n.u(1)),T.i(e,n.v,n.u(0))]}function b(e,n){this.x=e,this.y=n}function m(e,n,t,l){this.b=e,this.c=n,this.h=t,this.a=l}function g(e,n,t,l,r,i,a){function o(r,i,a,o,s){for(o=o?u(n,o,1):0,i=i[u(n,a,1)%i.length],e.D(b[g[r]]),r=0;r<s.length;r++)c.c=new m(t+s[r][0]*d,l+s[r][1]*d,d,o++%4),i(c,d,r);e.F()}function s(e){if(0<=e.indexOf(h))for(var n=0;n<e.length;n++)if(0<=g.indexOf(e[n]))return!0}a.C&&e.m(a.C),r-=2*(i=.5+r*(void 0===i?.08:i)|0);var c=new f(e),d=0|r/4;t+=0|i+r/2-2*d,l+=0|i+r/2-2*d;var b=p(u(n,-7)/268435455,a),g=[];for(r=0;3>r;r++){var h=u(n,8+r,1)%b.length;(s([0,4])||s([2,3]))&&(h=1),g.push(h)}o(0,R.I,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),o(1,R.I,4,5,[[0,0],[3,0],[3,3],[0,3]]),o(2,R.M,1,null,[[1,1],[2,1],[2,2],[1,2]]),e.finish()}function h(){function n(e,n){var t=l[e];return t&&1<t.length||(t=n),function(e){return 0>(e=t[0]+e*(t[1]-t[0]))?0:1<e?1:e}}var t=I.config||e.jdenticon_config||{},l=t.lightness||{},r=t.saturation||{},i="color"in r?r.color:r;return{O:function(e){var n,l=t.hues;return l&&0<l.length&&(n=l[0|.999*e*l.length]),"number"==typeof n?(n/360%1+1)%1:e},v:"number"==typeof i?i:.5,H:"number"==typeof(r=r.grayscale)?r:0,u:n("color",[.4,.8]),G:n("grayscale",[.3,.9]),C:T.parse(t.backColor)}}function E(e){return/^[0-9a-f]{11,}$/i.test(e)&&e}function v(e){return function(e){return function(e){for(var n=[],t=0;t<e.length;t++)for(var l=e[t],r=28;0<=r;r-=4)n.push((l>>>r&15).toString(16));return n.join("")}(function(e){for(var n=1732584193,t=4023233417,l=2562383102,r=271733878,i=3285377520,a=[n,t,l,r,i],o=0;o<e.length;o++){for(var u=e[o],s=16;80>s;s++){var c=u[s-3]^u[s-8]^u[s-14]^u[s-16];u[s]=c<<1|c>>>31}for(s=0;80>s;s++)c=(n<<5|n>>>27)+(20>s?1518500249+(t&l^~t&r):40>s?1859775393+(t^l^r):60>s?2400959708+(t&l^t&r^l&r):3395469782+(t^l^r))+i+u[s],i=r,r=l,l=t<<30|t>>>2,t=n,n=0|c;a[0]=n=a[0]+n|0,a[1]=t=a[1]+t|0,a[2]=l=a[2]+l|0,a[3]=r=a[3]+r|0,a[4]=i=a[4]+i|0}return a}(function(e){function n(e,n){for(var t=[],r=-1,i=0;i<n;i++)t[r=i/4|0]=(t[r]||0)+(l[e+i]<<8*(3-(3&i)));for(;16>++r;)t[r]=0;return t}var t=encodeURI(e),l=[];e=0;var r,i=[];for(r=0;r<t.length;r++){if("%"==t[r]){var a=u(t,r+1,2);r+=2}else a=t.charCodeAt(r);l[e++]=a}for(l[e++]=128,r=0;r+64<=e;r+=64)i.push(n(r,64));return r=n(r,t=e-r),64<t+8&&(i.push(r),r=n(0,0)),r[15]=8*e-8,i.push(r),i}(e)))}(null==e?"":""+e)}function _(e,n,t){if("string"==typeof e){if(y.J){e=document.querySelectorAll(e);for(var r=0;r<e.length;r++)_(e[r],n,t)}}else(r=y.w(e))&&(n=E(n)||null!=n&&v(n)||E(e.getAttribute(y.s))||e.hasAttribute(y.o)&&v(e.getAttribute(y.o)))&&g(e=r==y.B?new d(new l(e)):new i(e.getContext("2d")),n,0,0,e.a,t,h())}function I(){y.J&&_(y.A)}l.prototype={m:function(e,n){n&&t(this.a,"rect","width","100%","height","100%","fill",e,"opacity",n)},c:function(e,n){t(this.a,"path","fill",e,"d",n)}},r.prototype={m:function(e,n){n&&(this.a+='<rect width="100%" height="100%" fill="'+e+'" opacity="'+n.toFixed(2)+'"/>')},c:function(e,n){this.a+='<path fill="'+e+'" d="'+n+'"/>'},toString:function(){return this.a+"</svg>"}};var y={B:1,L:2,s:"data-jdenticon-hash",o:"data-jdenticon-value",J:"undefined"!=typeof document&&"querySelectorAll"in document,w:function(e){if(e){var n=e.tagName;if(/svg/i.test(n))return y.B;if(/canvas/i.test(n)&&"getContext"in e)return y.L}}};y.A="["+y.s+"],["+y.o+"]",i.prototype={m:function(e){var n=this.b,t=this.a;n.fillStyle=T.K(e),n.fillRect(0,0,t,t)},D:function(e){this.b.fillStyle=T.K(e),this.b.beginPath()},F:function(){this.b.fill()},f:function(e){var n,t=this.b;for(t.moveTo(e[0].x,e[0].y),n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.closePath()},g:function(e,n,t){var l=this.b;l.moveTo(e.x+(n/=2),e.y+n),l.arc(e.x+n,e.y+n,n,0,2*Math.PI,t),l.closePath()},finish:function(){this.b.restore()}};var T={P:function(e,n,t){return"#"+a(e)+a(n)+a(t)},parse:function(e){if(/^#[0-9a-f]{3,8}$/i.test(e)){if(6>e.length){var n=e[1],t=e[2],l=e[3];return"#"+n+n+t+t+l+l+(e=e[4]||"")+e}if(7==e.length||8<e.length)return e}},K:function(e){var n=u(e,7,2);return isNaN(n)?e:"rgba("+u(e,1,2)+","+u(e,3,2)+","+u(e,5,2)+","+(n/255).toFixed(2)+")"},N:function(e,n,t){return 0==n?"#"+(e=a(255*t))+e+e:"#"+o(t=2*t-(n=.5>=t?t*(n+1):t+n-t*n),n,6*e+2)+o(t,n,6*e)+o(t,n,6*e-2)},i:function(e,n,t){var l=[.55,.5,.5,.46,.6,.55,.55][6*e+.5|0];return T.N(e,n,.5>t?t*l*2:l+(t-.5)*(1-l)*2)}},R={M:[function(e,n){var t=.42*n;e.f([0,0,n,0,n,n-2*t,n-t,n,0,n])},function(e,n){var t=0|.5*n;e.b(n-t,0,t,0|.8*n,2)},function(e,n){var t=0|n/3;e.a(t,t,n-t,n-t)},function(e,n){var t=.1*n,l=6>n?1:8>n?2:0|.25*n;e.a(l,l,n-(t=1<t?0|t:.5<t?1:t)-l,n-t-l)},function(e,n){var t=0|.15*n,l=0|.5*n;e.g(n-l-t,n-l-t,l)},function(e,n){var t=.1*n,l=4*t;3<l&&(l|=0),e.a(0,0,n,n),e.f([l,l,n-t,l,l+(n-l-t)/2,n-t],!0)},function(e,n){e.f([0,0,n,0,n,.7*n,.4*n,.4*n,.7*n,n,0,n])},function(e,n){e.b(n/2,n/2,n/2,n/2,3)},function(e,n){e.a(0,0,n,n/2),e.a(0,n/2,n/2,n/2),e.b(n/2,n/2,n/2,n/2,1)},function(e,n){var t=.14*n,l=4>n?1:6>n?2:0|.35*n;t=8>n?t:0|t,e.a(0,0,n,n),e.a(l,l,n-l-t,n-l-t,!0)},function(e,n){var t=.12*n,l=3*t;e.a(0,0,n,n),e.g(l,l,n-t-l,!0)},function(e,n){e.b(n/2,n/2,n/2,n/2,3)},function(e,n){var t=.25*n;e.a(0,0,n,n),e.l(t,t,n-t,n-t,!0)},function(e,n,t){var l=.4*n;t||e.g(l,l,1.2*n)}],I:[function(e,n){e.b(0,0,n,n,0)},function(e,n){e.b(0,n/2,n,n/2,0)},function(e,n){e.l(0,0,n,n)},function(e,n){var t=n/6;e.g(t,t,n-2*t)}]};return c.prototype={f:function(e){for(var n="M"+s(e[0].x)+" "+s(e[0].y),t=1;t<e.length;t++)n+="L"+s(e[t].x)+" "+s(e[t].y);this.j+=n+"Z"},g:function(e,n,t){t=t?0:1;var l=s(n/2),r=s(n);this.j+="M"+s(e.x)+" "+s(e.y+n/2)+"a"+l+","+l+" 0 1,"+t+" "+r+",0a"+l+","+l+" 0 1,"+t+" "+-r+",0"}},d.prototype={m:function(e){e=/^(#......)(..)?/.exec(e),this.h.m(e[1],e[2]?u(e[2],0)/255:1)},D:function(e){this.c=this.b[e]||(this.b[e]=new c)},F:function(){},f:function(e){this.c.f(e)},g:function(e,n,t){this.c.g(e,n,t)},finish:function(){for(var e in this.b)this.h.c(e,this.b[e].j)}},f.prototype={f:function(e,n){var t=n?-2:2,l=this.c,r=[];for(n=n?e.length-2:0;n<e.length&&0<=n;n+=t)r.push(l.l(e[n],e[n+1]));this.h.f(r)},g:function(e,n,t,l){this.h.g(this.c.l(e,n,t,t),t,l)},a:function(e,n,t,l,r){this.f([e,n,e+t,n,e+t,n+l,e,n+l],r)},b:function(e,n,t,l,r,i){(e=[e+t,n,e+t,n+l,e,n+l,e,n]).splice((r||0)%4*2,2),this.f(e,i)},l:function(e,n,t,l,r){this.f([e+t/2,n,e+t,n+l/2,e+t/2,n+l,e,n+l/2],r)}},m.prototype={l:function(e,n,t,l){var r=this.b+this.h,i=this.c+this.h;return 1===this.a?new b(r-n-(l||0),this.c+e):2===this.a?new b(r-e-(t||0),i-n-(l||0)):3===this.a?new b(this.b+n,i-e-(t||0)):new b(this.b+e,this.c+n)}},m.a=new m(0,0,0,0),I.drawIcon=function(e,n,t,l){if(!e)throw Error("No canvas specified.");g(e=new i(e,t),E(n)||v(n),0,0,t,l||0,h())},I.toSvg=function(e,n,t){var l=new r(n);return g(new d(l),E(e)||v(e),0,0,n,t,h()),l.toString()},I.update=_,I.version="2.1.1",n&&(n.fn.jdenticon=function(e,n){return this.each(function(t,l){_(l,e,n)}),this}),"function"==typeof setTimeout&&setTimeout(function(){var n=(I.config||e.jdenticon_config||{}).replaceMode;"never"!=n&&(I(),"observe"==n&&function(e){"undefined"!=typeof MutationObserver&&new MutationObserver(function(n){for(var t=0;t<n.length;t++){for(var l=n[t],r=l.addedNodes,i=0;r&&i<r.length;i++){var a=r[i];if(1==a.nodeType)if(y.w(a))e(a);else{a=a.querySelectorAll(y.A);for(var o=0;o<a.length;o++)e(a[o])}}"attributes"==l.type&&y.w(l.target)&&e(l.target)}}).observe(document.body,{childList:!0,attributes:!0,attributeFilter:[y.o,y.s,"width","height"],subtree:!0})}(_))},0),I}(this,this.jQuery),"exports"in e?e.exports=l:void 0===(t=(function(){return l}).apply(n,[]))||(e.exports=t)}).call(this,t("YuTi")(e))},gtPb:function(e,n,t){e.exports=function(){"use strict";var e=function(e,n){return e.getUint16(n,arguments.length>2&&void 0!==arguments[2]&&arguments[2])},n=function(e,n){return e.getUint32(n,arguments.length>2&&void 0!==arguments[2]&&arguments[2])},t=function(t){var l=t.utils,r=l.Type,i=l.isFile;return(0,t.addFilter)("DID_LOAD_ITEM",function(t,l){var r=l.query;return new Promise(function(l,a){var o=t.file;if(!i(o)||!function(e){return/^image\/jpeg/.test(e.type)}(o)||!r("GET_ALLOW_IMAGE_EXIF_ORIENTATION"))return l(t);(function(t){return new Promise(function(l,r){var i=new FileReader;i.onload=function(t){var r=new DataView(t.target.result);if(65496===e(r,0)){for(var i=r.byteLength,a=2;a<i;){var o=e(r,a);if(a+=2,65505===o){if(1165519206!==n(r,a+=2))break;var u=18761===e(r,a+=6);a+=n(r,a+4,u);var s=e(r,a,u);a+=2;for(var c=0;c<s;c++)if(274===e(r,a+12*c,u))return void l(e(r,a+12*c+8,u))}else{if(65280!=(65280&o))break;a+=e(r,a)}}l(-1)}else l(-1)},i.readAsArrayBuffer(t.slice(0,65536))})})(o).then(function(e){t.setMetadata("exif",{orientation:e}),l(t)})})}),{options:{allowImageExifOrientation:[!0,r.BOOLEAN]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),t}()},"uP/6":function(e,n,t){"use strict";t.r(n);var l=t("CcnG"),r=t("wGJR"),i=Object(r.supported)(),a=["id","name","class","multiple","required","disabled","capture","accept"],o=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],u=["oninit","onwarning","onerror","onaddfilestart","onaddfileprogress","onaddfile","onprocessfilestart","onprocessfileprogress","onprocessfileabort","onprocessfilerevert","onprocessfile","onremovefile","onpreparefile","onupdatefiles"],s=function(){function e(e,n){var t=this;this.options={},this.handleEvent=null,this.root=e,this.zone=n,u.forEach(function(e){t[e]=new l.n})}return e.prototype.ngAfterViewInit=function(){var e=this,n=this.root.nativeElement.querySelector("input"),t=this.root.nativeElement.attributes;a.forEach(function(l){var r=t[l]?t[l].value:e.options[l];r&&n.setAttribute(l,r)}),i&&(this.handleEvent=function(n){e["on"+n.type.split(":")[1]].emit(Object.assign({},n.detail))},u.forEach(function(n){e.root.nativeElement.addEventListener("FilePond:"+n.substr(2),e.handleEvent)}),this.zone.runOutsideAngular(function(){e.pond=Object(r.create)(n,Object.assign({},e.options,{files:e.files}))}),Object.keys(this.pond).filter(function(e){return-1===o.indexOf(e)}).forEach(function(n){e[n]=e.pond[n]}))},e.prototype.ngOnChanges=function(e){if(!e.firstChange&&this.pond){var n=e.options?e.options.currentValue:this.options;e.files&&JSON.stringify(e.files.previousValue)!==JSON.stringify(e.files.currentValue)&&(n.files=e.files.currentValue),this.pond.setOptions(n)}},e.prototype.ngOnDestroy=function(){var e=this;this.pond&&(u.forEach(function(n){e.root.nativeElement.removeEventListener("FilePond:"+n.substr(2),e.handleEvent)}),this.pond.destroy())},e}(),c=function(){return function(){}}(),d=t("gtPb"),f=t.n(d),p=t("GUIp"),b=t.n(p),m=t("LPyF"),g=t.n(m);Object(r.registerPlugin)(f.a),Object(r.registerPlugin)(b.a),Object(r.registerPlugin)(g.a);var h=function(){return function(){}}(),E=t("pMnS"),v=t("lzlj"),_=t("FVSy"),I=t("6UMx"),y=t("0/Q6"),T=t("ZYCi"),R=t("Ip0R"),O=t("Mr+X"),w=t("SMsm"),S=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),D=l.qb({encapsulation:0,styles:[[""]],data:{}});function C(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,46,"mat-card",[["class","mat-card"]],null,null,null,v.d,v.a)),l.rb(1,49152,null,0,_.a,[],null,null),(e()(),l.sb(2,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,v.c,v.b)),l.rb(3,49152,null,0,_.e,[],null,null),(e()(),l.sb(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l.rb(5,16384,null,0,_.i,[],null,null),(e()(),l.Jb(-1,null,["Welcome"])),(e()(),l.sb(7,0,null,0,39,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(8,16384,null,0,_.d,[],null,null),(e()(),l.sb(9,0,null,null,37,"mat-nav-list",[["class","mat-nav-list mat-list-base"],["role","navigation"]],null,null,null,I.d,I.b)),l.rb(10,704512,null,0,y.g,[],null,null),(e()(),l.sb(11,0,null,0,11,"a",[["class","mat-list-item"],["mat-list-item",""]],[[1,"target",0],[8,"href",4],[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"click"]],function(e,n,t){var r=!0;return"click"===n&&(r=!1!==l.Bb(e,12).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&r),r},I.c,I.a)),l.rb(12,671744,null,0,T.l,[T.k,T.a,R.j],{routerLink:[0,"routerLink"]},null),l.Cb(13,2),l.rb(14,1228800,null,3,y.c,[l.k,[2,y.g],[2,y.a],l.h],null,null),l.Hb(603979776,1,{_lines:1}),l.Hb(335544320,2,{_avatar:0}),l.Hb(335544320,3,{_icon:0}),(e()(),l.sb(18,0,null,0,3,"mat-icon",[["class","mat-icon notranslate mat-list-icon"],["matListIcon",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,O.b,O.a)),l.rb(19,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),l.rb(20,16384,[[3,4]],0,y.b,[],null,null),(e()(),l.Jb(-1,0,["play_circle_filled"])),(e()(),l.Jb(-1,2,[" Play "])),(e()(),l.sb(23,0,null,0,11,"a",[["class","mat-list-item"],["mat-list-item",""]],[[1,"target",0],[8,"href",4],[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"click"]],function(e,n,t){var r=!0;return"click"===n&&(r=!1!==l.Bb(e,24).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&r),r},I.c,I.a)),l.rb(24,671744,null,0,T.l,[T.k,T.a,R.j],{routerLink:[0,"routerLink"]},null),l.Cb(25,2),l.rb(26,1228800,null,3,y.c,[l.k,[2,y.g],[2,y.a],l.h],null,null),l.Hb(603979776,4,{_lines:1}),l.Hb(335544320,5,{_avatar:0}),l.Hb(335544320,6,{_icon:0}),(e()(),l.sb(30,0,null,0,3,"mat-icon",[["class","mat-icon notranslate mat-list-icon"],["matListIcon",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,O.b,O.a)),l.rb(31,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),l.rb(32,16384,[[6,4]],0,y.b,[],null,null),(e()(),l.Jb(-1,0,["history"])),(e()(),l.Jb(-1,2,[" History "])),(e()(),l.sb(35,0,null,0,11,"a",[["class","mat-list-item"],["mat-list-item",""]],[[1,"target",0],[8,"href",4],[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"click"]],function(e,n,t){var r=!0;return"click"===n&&(r=!1!==l.Bb(e,36).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&r),r},I.c,I.a)),l.rb(36,671744,null,0,T.l,[T.k,T.a,R.j],{routerLink:[0,"routerLink"]},null),l.Cb(37,2),l.rb(38,1228800,null,3,y.c,[l.k,[2,y.g],[2,y.a],l.h],null,null),l.Hb(603979776,7,{_lines:1}),l.Hb(335544320,8,{_avatar:0}),l.Hb(335544320,9,{_icon:0}),(e()(),l.sb(42,0,null,0,3,"mat-icon",[["class","mat-icon notranslate mat-list-icon"],["matListIcon",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,O.b,O.a)),l.rb(43,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),l.rb(44,16384,[[9,4]],0,y.b,[],null,null),(e()(),l.Jb(-1,0,["settings"])),(e()(),l.Jb(-1,2,[" Settings "]))],function(e,n){var t=e(n,13,0,".","play");e(n,12,0,t),e(n,19,0);var l=e(n,25,0,".","history");e(n,24,0,l),e(n,31,0);var r=e(n,37,0,".","settings");e(n,36,0,r),e(n,43,0)},function(e,n){e(n,11,0,l.Bb(n,12).target,l.Bb(n,12).href,l.Bb(n,14)._avatar||l.Bb(n,14)._icon,l.Bb(n,14)._avatar||l.Bb(n,14)._icon),e(n,18,0,l.Bb(n,19).inline,"primary"!==l.Bb(n,19).color&&"accent"!==l.Bb(n,19).color&&"warn"!==l.Bb(n,19).color),e(n,23,0,l.Bb(n,24).target,l.Bb(n,24).href,l.Bb(n,26)._avatar||l.Bb(n,26)._icon,l.Bb(n,26)._avatar||l.Bb(n,26)._icon),e(n,30,0,l.Bb(n,31).inline,"primary"!==l.Bb(n,31).color&&"accent"!==l.Bb(n,31).color&&"warn"!==l.Bb(n,31).color),e(n,35,0,l.Bb(n,36).target,l.Bb(n,36).href,l.Bb(n,38)._avatar||l.Bb(n,38)._icon,l.Bb(n,38)._avatar||l.Bb(n,38)._icon),e(n,42,0,l.Bb(n,43).inline,"primary"!==l.Bb(n,43).color&&"accent"!==l.Bb(n,43).color&&"warn"!==l.Bb(n,43).color)})}function L(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,1,"app-main",[],null,null,null,C,D)),l.rb(1,114688,null,0,S,[],null,null)],function(e,n){e(n,1,0)},null)}var A=l.ob("app-main",S,L,{},{},[]),P=t("bujt"),B=t("UodH"),M=t("dWZg"),N=t("lLAP"),x=t("wFw1"),G=function(){function e(e){this.sanitizer=e}return Object.defineProperty(e.prototype,"rotation",{set:function(e){this.safeTransform=this.sanitizer.bypassSecurityTrustStyle("rotate("+e+"deg)")},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e}(),k=t("ZYjt"),F=l.qb({encapsulation:0,styles:[[""]],data:{}});function U(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,1,"div",[["style","background-image: url('assets/compass.svg'); background-size: 100% 100%;"]],null,null,null,null,null)),(e()(),l.sb(1,0,null,null,0,"img",[["height","100%"],["src","assets/compass-dial.png"],["width","100%"]],[[4,"transform",null]],null,null,null,null))],null,function(e,n){e(n,1,0,n.component.safeTransform)})}var V=t("Z+uX"),q=t("Fzqc"),z=t("Wf4p"),j=l.qb({encapsulation:2,styles:[".mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-background{display:none}}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:'';display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2s infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2s infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after{animation:none;transition:none}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(.5,0,.70173,.49582);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(.30244,.38135,.55,.95635);transform:translateX(83.67142%)}100%{transform:translateX(200.61106%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(.08)}36.65%{animation-timing-function:cubic-bezier(.33473,.12482,.78584,1);transform:scaleX(.08)}69.15%{animation-timing-function:cubic-bezier(.06,.11,.6,1);transform:scaleX(.66148)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(.15,0,.51506,.40969);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(.31033,.28406,.8,.73371);transform:translateX(37.65191%)}48.35%{animation-timing-function:cubic-bezier(.4,.62704,.6,.90203);transform:translateX(84.38617%)}100%{transform:translateX(160.27778%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(.15,0,.51506,.40969);transform:scaleX(.08)}19.15%{animation-timing-function:cubic-bezier(.31033,.28406,.8,.73371);transform:scaleX(.4571)}44.15%{animation-timing-function:cubic-bezier(.4,.62704,.6,.90203);transform:scaleX(.72796)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}"],data:{}});function H(e){return l.Lb(2,[l.Hb(402653184,1,{_primaryValueBar:0}),(e()(),l.sb(1,0,null,null,4,":svg:svg",[["class","mat-progress-bar-background mat-progress-bar-element"],["focusable","false"],["height","4"],["width","100%"]],null,null,null,null,null)),(e()(),l.sb(2,0,null,null,2,":svg:defs",[],null,null,null,null,null)),(e()(),l.sb(3,0,null,null,1,":svg:pattern",[["height","4"],["patternUnits","userSpaceOnUse"],["width","8"],["x","4"],["y","0"]],[[8,"id",0]],null,null,null,null)),(e()(),l.sb(4,0,null,null,0,":svg:circle",[["cx","2"],["cy","2"],["r","2"]],null,null,null,null,null)),(e()(),l.sb(5,0,null,null,0,":svg:rect",[["height","100%"],["width","100%"]],[[1,"fill",0]],null,null,null,null)),(e()(),l.sb(6,0,null,null,1,"div",[["class","mat-progress-bar-buffer mat-progress-bar-element"]],null,null,null,null,null)),l.rb(7,278528,null,0,R.p,[l.v,l.k,l.G],{ngStyle:[0,"ngStyle"]},null),(e()(),l.sb(8,0,[[1,0],["primaryValueBar",1]],null,1,"div",[["class","mat-progress-bar-primary mat-progress-bar-fill mat-progress-bar-element"]],null,null,null,null,null)),l.rb(9,278528,null,0,R.p,[l.v,l.k,l.G],{ngStyle:[0,"ngStyle"]},null),(e()(),l.sb(10,0,null,null,0,"div",[["class","mat-progress-bar-secondary mat-progress-bar-fill mat-progress-bar-element"]],null,null,null,null,null))],function(e,n){var t=n.component;e(n,7,0,t._bufferTransform()),e(n,9,0,t._primaryTransform())},function(e,n){var t=n.component;e(n,3,0,t.progressbarId),e(n,5,0,t._rectangleFillValue)})}var Y=t("FbN9"),X=t("8mMr"),W=t("21Lb"),J=t("OzfB"),$=t("H+Hf"),Z=t("AytR"),K=t("t/Na"),Q=function(){function e(e){this.http=e}return e.prototype.get=function(e){return this.http.get(Z.a.api+"/geocache/"+e.lat+","+e.lng)},e.ngInjectableDef=l.V({factory:function(){return new e(l.Z(K.c))},token:e,providedIn:"root"}),e}(),ee=t("S5bw"),ne="OTBP_SETTINGS_DO_CONSTANT_UPDATE",te=function(){function e(){this.doConstantUpdateEventEmitter=new ee.a(1);var e=localStorage.getItem(ne);this.doConstantUpdateEventEmitter.next(null!==e&&JSON.parse(e))}return Object.defineProperty(e.prototype,"doConstantUpdate",{set:function(e){this.doConstantUpdateEventEmitter.next(e),localStorage.setItem(ne,JSON.stringify(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"doConstantUpdateEvents",{get:function(){return this.doConstantUpdateEventEmitter},enumerable:!0,configurable:!0}),e.ngInjectableDef=l.V({factory:function(){return new e},token:e,providedIn:"root"}),e}();function le(e){return e*Math.PI/180}var re=function(){function e(n,t){this.start=n,this.end=t,this.distance=e.calculateHaversineDistance(n,t),this.compass=e.calculateCompassDirection(n,t)}return e.calculateHaversineDistance=function(e,n){var t=le(e.lat),l=le(n.lat),r=le(n.lat-e.lat),i=le(n.lng-e.lng),a=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t)*Math.cos(l)*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371e3},e.calculateCompassDirection=function(e,n){var t=le(e.lat),l=le(n.lat),r=le(n.lng-e.lng),i=Math.sin(r)*Math.cos(l),a=Math.cos(t)*Math.sin(l)-Math.sin(t)*Math.cos(l)*Math.cos(r);return(180*Math.atan2(i,a)/Math.PI+360)%360},e}(),ie=t("mrSG"),ae=t("IUTb"),oe=t("isby"),ue=t("FFOo"),se=t("MGBS"),ce=t("zotm"),de=t("En8+"),fe=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,n){return n.subscribe(new pe(e,this.resultSelector))},e}(),pe=function(e){function n(n,t,l){void 0===l&&(l=Object.create(null));var r=e.call(this,n)||this;return r.iterators=[],r.active=0,r.resultSelector="function"==typeof t?t:null,r.values=l,r}return ie.__extends(n,e),n.prototype._next=function(e){var n=this.iterators;Object(oe.a)(e)?n.push(new me(e)):n.push("function"==typeof e[de.a]?new be(e[de.a]()):new ge(this.destination,this,e))},n.prototype._complete=function(){var e=this.iterators,n=e.length;if(this.unsubscribe(),0!==n){this.active=n;for(var t=0;t<n;t++){var l=e[t];l.stillUnsubscribed?this.destination.add(l.subscribe(l,t)):this.active--}}else this.destination.complete()},n.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},n.prototype.checkIterators=function(){for(var e=this.iterators,n=e.length,t=this.destination,l=0;l<n;l++)if("function"==typeof(a=e[l]).hasValue&&!a.hasValue())return;var r=!1,i=[];for(l=0;l<n;l++){var a,o=(a=e[l]).next();if(a.hasCompleted()&&(r=!0),o.done)return void t.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):t.next(i),r&&t.complete()},n.prototype._tryresultSelector=function(e){var n;try{n=this.resultSelector.apply(this,e)}catch(t){return void this.destination.error(t)}this.destination.next(n)},n}(ue.a),be=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),me=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[de.a]=function(){return this},e.prototype.next=function(e){var n=this.index++;return n<this.length?{value:this.array[n],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),ge=function(e){function n(n,t,l){var r=e.call(this,n)||this;return r.parent=t,r.observable=l,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return ie.__extends(n,e),n.prototype[de.a]=function(){return this},n.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},n.prototype.hasValue=function(){return this.buffer.length>0},n.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},n.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},n.prototype.notifyNext=function(e,n,t,l,r){this.buffer.push(n),this.parent.checkIterators()},n.prototype.subscribe=function(e,n){return Object(ce.a)(this,this.observable,this,n)},n}(se.a),he=t("F/XL"),Ee=t("15JJ"),ve=function(){function e(e){this.http=e}return e.prototype.getAll=function(){return this.http.get(Z.a.api+"/checkin/user/")},e.prototype.getOne=function(e){return this.http.get(Z.a.api+"/checkin/"+e)},e.prototype.create=function(e,n){return this.http.post(Z.a.api+"/checkin",{geocache_id:e.id,location:n})},e.prototype.update=function(e){return this.http.put(Z.a.api+"/checkin/"+e.checkin_id,{text:e.text,image_id:e.image_id})},e.ngInjectableDef=l.V({factory:function(){return new e(l.Z(K.c))},token:e,providedIn:"root"}),e}(),_e=function(){function e(e,n,t,l,r){this.locationService=e,this.geoCacheService=n,this.settings=t,this.checkinService=l,this.router=r,this.directions=null,this.target=null,this.closeEnough=!1,this.automaticUpdateSubscription=null,this.doAutomaticUpdateSubscription=null}return e.prototype.ngOnInit=function(){var e=this;this.locationService.getCurrentPosition().pipe(Object(Ee.a)(function(n){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=e[e.length-1];return"function"==typeof t&&e.pop(),Object(ae.a)(e,void 0).lift(new fe(t))}(e.geoCacheService.get(n),Object(he.a)(n))})).subscribe(function(n){var t=n[1];e.target=n[0],e.updateDirections(t),e.automaticUpdate()},function(e){console.log("DirectionsComponent",e)})},e.prototype.doCheckIn=function(){var e=this;this.checkinService.create(this.target,this.directions.end).subscribe(function(n){return e.router.navigate(["/","dashboard","checkin",n.id])})},e.prototype.updateDirections=function(e){this.directions=new re(e,this.target.location),this.directions.distance<50?(console.log("DirectionsComponent","Within reach!"),!1===this.closeEnough&&(this.closeEnough=!0)):this.closeEnough=!1},e.prototype.ngOnDestroy=function(){null!==this.automaticUpdateSubscription&&(this.automaticUpdateSubscription.unsubscribe(),this.locationService.stopWatching()),null!==this.doAutomaticUpdateSubscription&&this.doAutomaticUpdateSubscription.unsubscribe()},e.prototype.onManualUpdate=function(){var e=this;this.locationService.getCurrentPosition().subscribe(function(n){return e.updateDirections(n)},function(e){console.log("DirectionsComponent",e)})},e.prototype.automaticUpdate=function(){var e=this;this.doAutomaticUpdateSubscription=this.settings.doConstantUpdateEvents.subscribe(function(n){n?(null!==e.automaticUpdateSubscription&&(e.automaticUpdateSubscription.unsubscribe(),e.locationService.stopWatching()),e.automaticUpdateSubscription=e.locationService.watchPosition().subscribe(function(n){return e.updateDirections(n)})):null!==e.automaticUpdateSubscription&&(e.automaticUpdateSubscription.unsubscribe(),e.automaticUpdateSubscription=null,e.locationService.stopWatching())})},e}(),Ie=l.qb({encapsulation:0,styles:[[""]],data:{}});function ye(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,2,"a",[["mat-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var r=!0,i=e.component;return"click"===n&&(r=!1!==l.Bb(e,1)._haltDisabledEvents(t)&&r),"click"===n&&(r=!1!==i.doCheckIn()&&r),r},P.c,P.a)),l.rb(1,180224,null,0,B.a,[M.a,N.g,l.k,[2,x.a]],null,null),(e()(),l.Jb(-1,0,[" CheckIn "]))],null,function(e,n){e(n,0,0,l.Bb(n,1).disabled?-1:l.Bb(n,1).tabIndex||0,l.Bb(n,1).disabled||null,l.Bb(n,1).disabled.toString(),"NoopAnimations"===l.Bb(n,1)._animationMode)})}function Te(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.onManualUpdate()&&l),l},P.d,P.b)),l.rb(1,180224,null,0,B.b,[l.k,M.a,N.g,[2,x.a]],null,null),(e()(),l.Jb(-1,0,[" Update "]))],null,function(e,n){e(n,0,0,l.Bb(n,1).disabled||null,"NoopAnimations"===l.Bb(n,1)._animationMode)})}function Re(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,17,"div",[],null,null,null,null,null)),(e()(),l.sb(1,0,null,null,16,"mat-card",[["class","mat-card"]],null,null,null,v.d,v.a)),l.rb(2,49152,null,0,_.a,[],null,null),(e()(),l.sb(3,0,null,0,1,"mat-card-header",[["class","mat-card-header"]],null,null,null,v.c,v.b)),l.rb(4,49152,null,0,_.e,[],null,null),(e()(),l.sb(5,0,null,0,1,"app-compass",[],null,null,null,U,F)),l.rb(6,114688,null,0,G,[k.c],{rotation:[0,"rotation"]},null),(e()(),l.sb(7,0,null,0,5,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(8,16384,null,0,_.d,[],null,null),(e()(),l.sb(9,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),l.sb(10,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),l.Jb(11,null,[" Distance: "," meters "])),l.Fb(12,2),(e()(),l.sb(13,0,null,0,4,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),l.rb(14,16384,null,0,_.b,[],null,null),(e()(),l.jb(16777216,null,null,1,null,ye)),l.rb(16,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,[["updateButton",2]],null,0,null,Te))],function(e,n){var t=n.component;e(n,6,0,t.directions.compass),e(n,16,0,t.closeEnough,l.Bb(n,17))},function(e,n){var t=n.component,r=l.Kb(n,11,0,e(n,12,0,l.Bb(n.parent,0),t.directions.distance,"1.1-1"));e(n,11,0,r),e(n,13,0,"end"===l.Bb(n,14).align)})}function Oe(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,14,"mat-card",[["class","mat-card"]],null,null,null,v.d,v.a)),l.rb(1,49152,null,0,_.a,[],null,null),(e()(),l.sb(2,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,v.c,v.b)),l.rb(3,49152,null,0,_.e,[],null,null),(e()(),l.sb(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l.rb(5,16384,null,0,_.i,[],null,null),(e()(),l.Jb(-1,null,[" Loading "])),(e()(),l.sb(7,0,null,0,7,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(8,16384,null,0,_.d,[],null,null),(e()(),l.sb(9,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),l.sb(10,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l.Jb(-1,null,["Note:"])),(e()(),l.Jb(-1,null,[" You must allow location access for this website to work properly. "])),(e()(),l.sb(13,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["color","primary"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,H,j)),l.rb(14,4374528,null,0,V.b,[l.k,l.B,[2,x.a],[2,V.a]],{color:[0,"color"],mode:[1,"mode"]},null)],function(e,n){e(n,14,0,"primary","indeterminate")},function(e,n){e(n,13,0,l.Bb(n,14).value,l.Bb(n,14).mode,l.Bb(n,14)._isNoopAnimation)})}function we(e){return l.Lb(0,[l.Db(0,R.f,[l.w]),(e()(),l.sb(1,0,null,null,6,"mat-toolbar",[["class","mat-toolbar"],["fxLayout","row"],["fxLayoutAlign","center center"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,Y.b,Y.a)),l.rb(2,4243456,null,1,X.a,[l.k,M.a,R.d],null,null),l.Hb(603979776,1,{_toolbarRows:1}),l.rb(4,671744,null,0,W.c,[l.k,J.i,[2,W.g],J.f],{fxLayout:[0,"fxLayout"]},null),l.rb(5,671744,null,0,W.b,[l.k,J.i,[2,W.f],J.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(e()(),l.sb(6,0,null,0,1,"span",[],null,null,null,null,null)),(e()(),l.Jb(-1,null,["You're On Your Way"])),(e()(),l.jb(16777216,null,null,1,null,Re)),l.rb(9,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,[["loader",2]],null,0,null,Oe))],function(e,n){var t=n.component;e(n,4,0,"row"),e(n,5,0,"center center"),e(n,9,0,t.directions,l.Bb(n,10))},function(e,n){e(n,1,0,l.Bb(n,2)._toolbarRows.length>0,0===l.Bb(n,2)._toolbarRows.length)})}function Se(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,1,"app-play",[],null,null,null,we,Ie)),l.rb(1,245760,null,0,_e,[$.a,Q,te,ve,T.k],null,null)],function(e,n){e(n,1,0)},null)}var De=l.ob("app-play",_e,Se,{},{},[]),Ce=t("26FU"),Le=t("VnD/"),Ae=t("67Y/"),Pe=function(){function e(e,n){this.httpClient=e,this.domSanitizer=n}return e.prototype.loadImage=function(e){var n=this;return this.httpClient.get(Z.a.api+"/image/"+e.filename,{responseType:"blob"}).pipe(Object(Ae.a)(function(e){return n.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(e))}))},e.ngInjectableDef=l.V({factory:function(){return new e(l.Z(K.c),l.Z(k.c))},token:e,providedIn:"root"}),e}(),Be=function(){function e(e){var n=this;this.imageService=e,this.allowDelete=!1,this.delete=new l.n,this.src$=new Ce.a(null),this.dataUrl$=this.src$.asObservable().pipe(Object(Le.a)(function(e){return!!e}),Object(Ee.a)(function(e){return n.imageService.loadImage(e)}))}return Object.defineProperty(e.prototype,"image",{set:function(e){this.src$.next(e)},enumerable:!0,configurable:!0}),e}(),Me=l.qb({encapsulation:0,styles:[[".mat-card-image[_ngcontent-%COMP%]{margin-top:auto!important}button[_ngcontent-%COMP%]{position:absolute;right:1rem;bottom:3rem}.container[_ngcontent-%COMP%]{position:relative}"]],data:{}});function Ne(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,1,"img",[["class","mat-card-image"],["mat-card-image",""]],[[8,"src",4]],null,null,null,null)),l.rb(1,16384,null,0,_.f,[],null,null)],null,function(e,n){e(n,0,0,n.context.ngIf)})}function xe(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,4,"button",[["mat-fab",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.delete.emit()&&l),l},P.d,P.b)),l.rb(1,180224,null,0,B.b,[l.k,M.a,N.g,[2,x.a]],null,null),(e()(),l.sb(2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,O.b,O.a)),l.rb(3,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),(e()(),l.Jb(-1,0,["delete"]))],function(e,n){e(n,3,0)},function(e,n){e(n,0,0,l.Bb(n,1).disabled||null,"NoopAnimations"===l.Bb(n,1)._animationMode),e(n,2,0,l.Bb(n,3).inline,"primary"!==l.Bb(n,3).color&&"accent"!==l.Bb(n,3).color&&"warn"!==l.Bb(n,3).color)})}function Ge(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["color","primary"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,H,j)),l.rb(1,4374528,null,0,V.b,[l.k,l.B,[2,x.a],[2,V.a]],{color:[0,"color"],mode:[1,"mode"]},null)],function(e,n){e(n,1,0,"primary","indeterminate")},function(e,n){e(n,0,0,l.Bb(n,1).value,l.Bb(n,1).mode,l.Bb(n,1)._isNoopAnimation)})}function ke(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,Ne)),l.rb(2,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l.Db(131072,R.b,[l.h]),(e()(),l.jb(16777216,null,null,1,null,xe)),l.rb(5,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,[["loader",2]],null,0,null,Ge))],function(e,n){var t=n.component;e(n,2,0,l.Kb(n,2,0,l.Bb(n,3).transform(t.dataUrl$)),l.Bb(n,6)),e(n,5,0,t.allowDelete)},null)}var Fe=t("WTRC"),Ue=t.n(Fe),Ve=function(){function e(e,n){this.el=e,this.renderer=n}return e.prototype.ngOnChanges=function(e){Ue.a.update(this.el.nativeElement,this.identiconHash)},e}(),qe=t("La40"),ze=t("M2Lx"),je=t("4c35"),He=t("qAlS"),Ye=l.qb({encapsulation:2,styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{padding:0 12px}}@media (max-width:959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],data:{}});function Xe(e){return l.Lb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function We(e){return l.Lb(0,[(e()(),l.jb(16777216,null,null,1,null,Xe)),l.rb(1,212992,null,0,je.c,[l.j,l.R],{portal:[0,"portal"]},null),(e()(),l.jb(0,null,null,0))],function(e,n){e(n,1,0,n.parent.context.$implicit.templateLabel)},null)}function Je(e){return l.Lb(0,[(e()(),l.Jb(0,null,["",""]))],null,function(e,n){e(n,0,0,n.parent.context.$implicit.textLabel)})}function $e(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,8,"div",[["cdkMonitorElementFocus",""],["class","mat-tab-label mat-ripple"],["mat-ripple",""],["matTabLabelWrapper",""],["role","tab"]],[[8,"id",0],[1,"tabIndex",0],[1,"aria-posinset",0],[1,"aria-setsize",0],[1,"aria-controls",0],[1,"aria-selected",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-tab-label-active",null],[2,"mat-ripple-unbounded",null],[2,"mat-tab-disabled",null],[1,"aria-disabled",0]],[[null,"click"]],function(e,n,t){var r=!0;return"click"===n&&(r=!1!==e.component._handleClick(e.context.$implicit,l.Bb(e.parent,3),e.context.index)&&r),r},null,null)),l.rb(1,212992,null,0,z.w,[l.k,l.B,M.a,[2,z.m],[2,x.a]],{disabled:[0,"disabled"]},null),l.rb(2,147456,null,0,N.d,[l.k,N.g],null,null),l.rb(3,16384,[[3,4]],0,qe.h,[l.k],{disabled:[0,"disabled"]},null),(e()(),l.sb(4,0,null,null,4,"div",[["class","mat-tab-label-content"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,We)),l.rb(6,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,Je)),l.rb(8,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,1,0,n.context.$implicit.disabled||n.component.disableRipple),e(n,3,0,n.context.$implicit.disabled),e(n,6,0,n.context.$implicit.templateLabel),e(n,8,0,!n.context.$implicit.templateLabel)},function(e,n){var t=n.component;e(n,0,1,[t._getTabLabelId(n.context.index),t._getTabIndex(n.context.$implicit,n.context.index),n.context.index+1,t._tabs.length,t._getTabContentId(n.context.index),t.selectedIndex==n.context.index,n.context.$implicit.ariaLabel||null,!n.context.$implicit.ariaLabel&&n.context.$implicit.ariaLabelledby?n.context.$implicit.ariaLabelledby:null,t.selectedIndex==n.context.index,l.Bb(n,1).unbounded,l.Bb(n,3).disabled,!!l.Bb(n,3).disabled])})}function Ze(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,1,"mat-tab-body",[["class","mat-tab-body"],["role","tabpanel"]],[[8,"id",0],[1,"aria-labelledby",0],[2,"mat-tab-body-active",null]],[[null,"_onCentered"],[null,"_onCentering"]],function(e,n,t){var l=!0,r=e.component;return"_onCentered"===n&&(l=!1!==r._removeTabBodyWrapperHeight()&&l),"_onCentering"===n&&(l=!1!==r._setTabBodyWrapperHeight(t)&&l),l},nn,Qe)),l.rb(1,245760,null,0,qe.d,[l.k,[2,q.b],l.h],{_content:[0,"_content"],origin:[1,"origin"],animationDuration:[2,"animationDuration"],position:[3,"position"]},{_onCentering:"_onCentering",_onCentered:"_onCentered"})],function(e,n){e(n,1,0,n.context.$implicit.content,n.context.$implicit.origin,n.component.animationDuration,n.context.$implicit.position)},function(e,n){var t=n.component;e(n,0,0,t._getTabContentId(n.context.index),t._getTabLabelId(n.context.index),t.selectedIndex==n.context.index)})}function Ke(e){return l.Lb(2,[l.Hb(402653184,1,{_tabBodyWrapper:0}),l.Hb(402653184,2,{_tabHeader:0}),(e()(),l.sb(2,0,null,null,4,"mat-tab-header",[["class","mat-tab-header"]],[[2,"mat-tab-header-pagination-controls-enabled",null],[2,"mat-tab-header-rtl",null]],[[null,"indexFocused"],[null,"selectFocusedIndex"]],function(e,n,t){var l=!0,r=e.component;return"indexFocused"===n&&(l=!1!==r._focusChanged(t)&&l),"selectFocusedIndex"===n&&(l=!1!==(r.selectedIndex=t)&&l),l},ln,tn)),l.rb(3,7520256,[[2,4],["tabHeader",4]],1,qe.g,[l.k,l.h,He.e,[2,q.b],l.B,M.a],{disableRipple:[0,"disableRipple"],selectedIndex:[1,"selectedIndex"]},{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}),l.Hb(603979776,3,{_labelWrappers:1}),(e()(),l.jb(16777216,null,0,1,null,$e)),l.rb(6,278528,null,0,R.l,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.sb(7,0,[[1,0],["tabBodyWrapper",1]],null,2,"div",[["class","mat-tab-body-wrapper"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Ze)),l.rb(9,278528,null,0,R.l,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,n){var t=n.component;e(n,3,0,t.disableRipple,t.selectedIndex),e(n,6,0,t._tabs),e(n,9,0,t._tabs)},function(e,n){e(n,2,0,l.Bb(n,3)._showPaginationControls,"rtl"==l.Bb(n,3)._getLayoutDirection())})}var Qe=l.qb({encapsulation:2,styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}"],data:{animation:[{type:7,name:"translateTab",definitions:[{type:0,name:"center, void, left-origin-center, right-origin-center",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:0,name:"left",styles:{type:6,styles:{transform:"translate3d(-100%, 0, 0)",minHeight:"1px"},offset:null},options:void 0},{type:0,name:"right",styles:{type:6,styles:{transform:"translate3d(100%, 0, 0)",minHeight:"1px"},offset:null},options:void 0},{type:1,expr:"* => left, * => right, left => center, right => center",animation:{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"},options:null},{type:1,expr:"void => left-origin-center",animation:[{type:6,styles:{transform:"translate3d(-100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"}],options:null},{type:1,expr:"void => right-origin-center",animation:[{type:6,styles:{transform:"translate3d(100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"}],options:null}],options:{}}]}});function en(e){return l.Lb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function nn(e){return l.Lb(2,[l.Hb(402653184,1,{_portalHost:0}),(e()(),l.sb(1,0,[["content",1]],null,4,"div",[["class","mat-tab-body-content"]],[[24,"@translateTab",0]],[[null,"@translateTab.start"],[null,"@translateTab.done"]],function(e,n,t){var l=!0,r=e.component;return"@translateTab.start"===n&&(l=!1!==r._onTranslateTabStarted(t)&&l),"@translateTab.done"===n&&(l=!1!==r._translateTabComplete.next(t)&&l),l},null,null)),l.Eb(2,{animationDuration:0}),l.Eb(3,{value:0,params:1}),(e()(),l.jb(16777216,null,null,1,null,en)),l.rb(5,212992,null,0,qe.e,[l.j,l.R,qe.d],null,null)],function(e,n){e(n,5,0)},function(e,n){var t=n.component,l=e(n,3,0,t._position,e(n,2,0,t.animationDuration));e(n,1,0,l)})}var tn=l.qb({encapsulation:2,styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{min-width:72px}}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}@media (-ms-high-contrast:active){.mat-ink-bar{outline:solid 2px;height:0}}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:'';height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-tab-labels{display:flex}[mat-align-tabs=center] .mat-tab-labels{justify-content:center}[mat-align-tabs=end] .mat-tab-labels{justify-content:flex-end}"],data:{}});function ln(e){return l.Lb(2,[l.Hb(402653184,1,{_inkBar:0}),l.Hb(402653184,2,{_tabListContainer:0}),l.Hb(402653184,3,{_tabList:0}),l.Hb(402653184,4,{_nextPaginator:0}),l.Hb(402653184,5,{_previousPaginator:0}),(e()(),l.sb(5,0,[[5,0],["previousPaginator",1]],null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"click"],[null,"mousedown"],[null,"touchend"]],function(e,n,t){var l=!0,r=e.component;return"click"===n&&(l=!1!==r._handlePaginatorClick("before")&&l),"mousedown"===n&&(l=!1!==r._handlePaginatorPress("before")&&l),"touchend"===n&&(l=!1!==r._stopInterval()&&l),l},null,null)),l.rb(6,212992,null,0,z.w,[l.k,l.B,M.a,[2,z.m],[2,x.a]],{disabled:[0,"disabled"]},null),(e()(),l.sb(7,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null)),(e()(),l.sb(8,0,[[2,0],["tabListContainer",1]],null,6,"div",[["class","mat-tab-label-container"]],null,[[null,"keydown"]],function(e,n,t){var l=!0;return"keydown"===n&&(l=!1!==e.component._handleKeydown(t)&&l),l},null,null)),(e()(),l.sb(9,0,[[3,0],["tabList",1]],null,5,"div",[["class","mat-tab-list"],["role","tablist"]],null,[[null,"cdkObserveContent"]],function(e,n,t){var l=!0;return"cdkObserveContent"===n&&(l=!1!==e.component._onContentChanges()&&l),l},null,null)),l.rb(10,1196032,null,0,ze.a,[ze.b,l.k,l.B],null,{event:"cdkObserveContent"}),(e()(),l.sb(11,0,null,null,1,"div",[["class","mat-tab-labels"]],null,null,null,null,null)),l.Ab(null,0),(e()(),l.sb(13,0,null,null,1,"mat-ink-bar",[["class","mat-ink-bar"]],null,null,null,null,null)),l.rb(14,16384,[[1,4]],0,qe.b,[l.k,l.B,qe.k],null,null),(e()(),l.sb(15,0,[[4,0],["nextPaginator",1]],null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"mousedown"],[null,"click"],[null,"touchend"]],function(e,n,t){var l=!0,r=e.component;return"mousedown"===n&&(l=!1!==r._handlePaginatorPress("after")&&l),"click"===n&&(l=!1!==r._handlePaginatorClick("after")&&l),"touchend"===n&&(l=!1!==r._stopInterval()&&l),l},null,null)),l.rb(16,212992,null,0,z.w,[l.k,l.B,M.a,[2,z.m],[2,x.a]],{disabled:[0,"disabled"]},null),(e()(),l.sb(17,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null))],function(e,n){var t=n.component;e(n,6,0,t._disableScrollBefore||t.disableRipple),e(n,16,0,t._disableScrollAfter||t.disableRipple)},function(e,n){var t=n.component;e(n,5,0,t._disableScrollBefore,l.Bb(n,6).unbounded),e(n,15,0,t._disableScrollAfter,l.Bb(n,16).unbounded)})}var rn=l.qb({encapsulation:2,styles:[],data:{}});function an(e){return l.Lb(0,[l.Ab(null,0),(e()(),l.jb(0,null,null,0))],null,null)}function on(e){return l.Lb(2,[l.Hb(402653184,1,{_implicitContent:0}),(e()(),l.jb(0,[[1,2]],null,0,null,an))],null,null)}var un=t("lDAE"),sn=t("dz7T"),cn=t("xMyE"),dn=t("4R65"),fn=function(){function e(e){this.checkInService=e,this.history$=null,this.leafletOptions=null,this.leafletLayers=null,this.leafletMap=null}return e.prototype.ngOnInit=function(){var e=this;this.history$=this.checkInService.getAll().pipe(Object(Ae.a)(function(e){return e.items}),Object(cn.a)(function(n){var t=n[0];n.slice(1),e.leafletOptions={layers:[Object(dn.tileLayer)("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"Open Street Map"})],zoom:5,center:Object(dn.latLng)(t.geocache.location.lat,t.geocache.location.lng)},e.leafletLayers=n.map(function(e){return Object(dn.marker)([e.geocache.location.lat,e.geocache.location.lng],{icon:Object(dn.icon)({iconSize:[25,41],iconAnchor:[13,41],iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png"})})})}))},e.prototype.onSelectedTabChange=function(e){this.leafletMap.invalidateSize()},e.prototype.onMapReady=function(e){this.leafletMap=e},e}(),pn=l.qb({encapsulation:0,styles:[[""]],data:{}});function bn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,1,"app-secure-image",[],null,null,null,ke,Me)),l.rb(1,49152,null,0,Be,[Pe],{image:[0,"image"]},null)],function(e,n){e(n,1,0,n.parent.context.$implicit.image)},null)}function mn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,27,"mat-card",[["class","mat-card"]],null,null,null,v.d,v.a)),l.rb(1,49152,null,0,_.a,[],null,null),(e()(),l.sb(2,0,null,0,12,"mat-card-header",[["class","mat-card-header"]],null,null,null,v.c,v.b)),l.rb(3,49152,null,0,_.e,[],null,null),(e()(),l.sb(4,0,null,0,3,"div",[["class","mat-card-avatar"],["mat-card-avatar",""]],null,null,null,null,null)),l.rb(5,16384,null,0,_.c,[],null,null),(e()(),l.sb(6,0,null,null,1,":svg:svg",[["height","40"],["width","40"]],null,null,null,null,null)),l.rb(7,540672,null,0,Ve,[l.k,l.G],{identiconHash:[0,"identiconHash"]},null),(e()(),l.sb(8,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l.rb(9,16384,null,0,_.i,[],null,null),(e()(),l.Jb(10,null,[" #"," "])),(e()(),l.sb(11,0,null,1,3,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),l.rb(12,16384,null,0,_.h,[],null,null),(e()(),l.Jb(13,null,["",""])),l.Fb(14,1),(e()(),l.jb(16777216,null,0,1,null,bn)),l.rb(16,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.sb(17,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(18,16384,null,0,_.d,[],null,null),(e()(),l.sb(19,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Jb(20,null,[" "," "])),(e()(),l.sb(21,0,null,0,6,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),l.rb(22,16384,null,0,_.b,[],null,null),(e()(),l.sb(23,0,null,null,4,"a",[["mat-button",""]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var r=!0;return"click"===n&&(r=!1!==l.Bb(e,24).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&r),"click"===n&&(r=!1!==l.Bb(e,26)._haltDisabledEvents(t)&&r),r},P.c,P.a)),l.rb(24,671744,null,0,T.l,[T.k,T.a,R.j],{routerLink:[0,"routerLink"]},null),l.Cb(25,4),l.rb(26,180224,null,0,B.a,[M.a,N.g,l.k,[2,x.a]],null,null),(e()(),l.Jb(-1,0,[" More "]))],function(e,n){e(n,7,0,n.context.$implicit.geocache.location.geohash),e(n,16,0,null!==n.context.$implicit.image);var t=e(n,25,0,"/","dashboard","checkin",n.context.$implicit.id);e(n,24,0,t)},function(e,n){e(n,10,0,n.context.$implicit.geocache.location.geohash);var t=l.Kb(n,13,0,e(n,14,0,l.Bb(n.parent.parent,0),n.context.$implicit.created_at));e(n,13,0,t),e(n,20,0,n.context.$implicit.text),e(n,21,0,"end"===l.Bb(n,22).align),e(n,23,0,l.Bb(n,24).target,l.Bb(n,24).href,l.Bb(n,26).disabled?-1:l.Bb(n,26).tabIndex||0,l.Bb(n,26).disabled||null,l.Bb(n,26).disabled.toString(),"NoopAnimations"===l.Bb(n,26)._animationMode)})}function gn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,2,"mat-card",[["class","mat-card"]],null,null,null,v.d,v.a)),l.rb(1,49152,null,0,_.a,[],null,null),(e()(),l.Jb(-1,0,[" No results. "]))],null,null)}function hn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,21,"div",[],null,null,null,null,null)),(e()(),l.sb(1,0,null,null,20,"mat-tab-group",[["class","mat-tab-group"],["dynamicHeight",""],["mat-align-tabs","center"],["mat-stretch-tabs",""]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],[[null,"selectedTabChange"]],function(e,n,t){var l=!0;return"selectedTabChange"===n&&(l=!1!==e.component.onSelectedTabChange(t)&&l),l},Ke,Ye)),l.rb(2,3325952,null,1,qe.f,[l.k,l.h,[2,qe.a]],{dynamicHeight:[0,"dynamicHeight"]},{selectedTabChange:"selectedTabChange"}),l.Hb(603979776,1,{_tabs:1}),(e()(),l.sb(4,16777216,null,null,7,"mat-tab",[["label","List"]],null,null,null,on,rn)),l.rb(5,770048,[[1,4]],2,qe.c,[l.R],{textLabel:[0,"textLabel"]},null),l.Hb(335544320,2,{templateLabel:0}),l.Hb(335544320,3,{_explicitContent:0}),(e()(),l.jb(16777216,null,0,1,null,mn)),l.rb(9,278528,null,0,R.l,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.jb(16777216,null,0,1,null,gn)),l.rb(11,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.sb(12,16777216,null,null,9,"mat-tab",[["label","Map"]],null,null,null,on,rn)),l.rb(13,770048,[[1,4]],2,qe.c,[l.R],{textLabel:[0,"textLabel"]},null),l.Hb(335544320,4,{templateLabel:0}),l.Hb(335544320,5,{_explicitContent:0}),(e()(),l.sb(16,0,null,0,5,"mat-card",[["class","mat-card"]],null,null,null,v.d,v.a)),l.rb(17,49152,null,0,_.a,[],null,null),(e()(),l.sb(18,0,null,0,3,"div",[["class","mat-card-image"],["leaflet",""],["mat-card-image",""],["style","height: 400px;"]],null,[[null,"leafletMapReady"],["window","resize"]],function(e,n,t){var r=!0,i=e.component;return"window:resize"===n&&(r=!1!==l.Bb(e,20).onResize()&&r),"leafletMapReady"===n&&(r=!1!==i.onMapReady(t)&&r),r},null,null)),l.rb(19,16384,null,0,_.f,[],null,null),l.rb(20,606208,null,0,un.a,[l.k,l.B],{options:[0,"options"]},{mapReady:"leafletMapReady"}),l.rb(21,475136,null,0,sn.a,[un.a,l.u,l.B],{layers:[0,"layers"]},null)],function(e,n){var t=n.component;e(n,2,0,""),e(n,5,0,"List"),e(n,9,0,n.context.ngIf),e(n,11,0,0===n.context.ngIf.length),e(n,13,0,"Map"),e(n,20,0,t.leafletOptions),e(n,21,0,t.leafletLayers)},function(e,n){e(n,1,0,l.Bb(n,2).dynamicHeight,"below"===l.Bb(n,2).headerPosition)})}function En(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,3,"mat-card",[["class","mat-card"]],null,null,null,v.d,v.a)),l.rb(1,49152,null,0,_.a,[],null,null),(e()(),l.sb(2,0,null,0,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["color","primary"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,H,j)),l.rb(3,4374528,null,0,V.b,[l.k,l.B,[2,x.a],[2,V.a]],{color:[0,"color"],mode:[1,"mode"]},null)],function(e,n){e(n,3,0,"primary","indeterminate")},function(e,n){e(n,2,0,l.Bb(n,3).value,l.Bb(n,3).mode,l.Bb(n,3)._isNoopAnimation)})}function vn(e){return l.Lb(0,[l.Db(0,R.e,[l.w]),(e()(),l.jb(16777216,null,null,2,null,hn)),l.rb(2,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l.Db(131072,R.b,[l.h]),(e()(),l.jb(0,[["loader",2]],null,0,null,En))],function(e,n){var t=n.component;e(n,2,0,l.Kb(n,2,0,l.Bb(n,3).transform(t.history$)),l.Bb(n,4))},null)}function _n(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,1,"app-history",[],null,null,null,vn,pn)),l.rb(1,114688,null,0,fn,[ve],null,null)],function(e,n){e(n,1,0)},null)}var In=l.ob("app-history",fn,_n,{},{},[]),yn=t("kWGw"),Tn=t("gIcY"),Rn=l.qb({encapsulation:2,styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px,0,0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px,0,0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}.mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-right:8px;margin-left:0}.mat-slide-toggle-label-before .mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0,0,0);transition:all 80ms linear;transition-property:transform;cursor:-webkit-grab;cursor:grab}.mat-slide-toggle-thumb-container.mat-dragging,.mat-slide-toggle-thumb-container:active{cursor:-webkit-grabbing;cursor:grabbing;transition-duration:0s}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media (hover:none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}@media (-ms-high-contrast:active){.mat-slide-toggle-thumb{background:#fff;border:1px solid #000}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background:#000;border:1px solid #fff}.mat-slide-toggle-bar{background:#fff}.mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:1px dotted;outline-offset:5px}}@media (-ms-high-contrast:black-on-white){.mat-slide-toggle-bar{border:1px solid #000}}"],data:{}});function On(e){return l.Lb(2,[l.Hb(402653184,1,{_thumbEl:0}),l.Hb(402653184,2,{_thumbBarEl:0}),l.Hb(402653184,3,{_inputElement:0}),(e()(),l.sb(3,0,[["label",1]],null,13,"label",[["class","mat-slide-toggle-label"]],[[1,"for",0]],null,null,null,null)),(e()(),l.sb(4,0,[[2,0],["toggleBar",1]],null,7,"div",[["class","mat-slide-toggle-bar"]],[[2,"mat-slide-toggle-bar-no-side-margin",null]],null,null,null,null)),(e()(),l.sb(5,0,[[3,0],["input",1]],null,0,"input",[["class","mat-slide-toggle-input cdk-visually-hidden"],["role","switch"],["type","checkbox"]],[[8,"id",0],[8,"required",0],[8,"tabIndex",0],[8,"checked",0],[8,"disabled",0],[1,"name",0],[1,"aria-checked",0],[1,"aria-label",0],[1,"aria-labelledby",0]],[[null,"change"],[null,"click"]],function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==r._onChangeEvent(t)&&l),"click"===n&&(l=!1!==r._onInputClick(t)&&l),l},null,null)),(e()(),l.sb(6,0,[[1,0],["thumbContainer",1]],null,5,"div",[["class","mat-slide-toggle-thumb-container"]],null,[[null,"slidestart"],[null,"slide"],[null,"slideend"]],function(e,n,t){var l=!0,r=e.component;return"slidestart"===n&&(l=!1!==r._onDragStart()&&l),"slide"===n&&(l=!1!==r._onDrag(t)&&l),"slideend"===n&&(l=!1!==r._onDragEnd()&&l),l},null,null)),(e()(),l.sb(7,0,null,null,0,"div",[["class","mat-slide-toggle-thumb"]],null,null,null,null,null)),(e()(),l.sb(8,0,null,null,3,"div",[["class","mat-slide-toggle-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),l.rb(9,212992,null,0,z.w,[l.k,l.B,M.a,[2,z.m],[2,x.a]],{centered:[0,"centered"],radius:[1,"radius"],animation:[2,"animation"],disabled:[3,"disabled"],trigger:[4,"trigger"]},null),l.Eb(10,{enterDuration:0}),(e()(),l.sb(11,0,null,null,0,"div",[["class","mat-ripple-element mat-slide-toggle-persistent-ripple"]],null,null,null,null,null)),(e()(),l.sb(12,0,[["labelContent",1]],null,4,"span",[["class","mat-slide-toggle-content"]],null,[[null,"cdkObserveContent"]],function(e,n,t){var l=!0;return"cdkObserveContent"===n&&(l=!1!==e.component._onLabelTextChange()&&l),l},null,null)),l.rb(13,1196032,null,0,ze.a,[ze.b,l.k,l.B],null,{event:"cdkObserveContent"}),(e()(),l.sb(14,0,null,null,1,"span",[["style","display:none"]],null,null,null,null,null)),(e()(),l.Jb(-1,null,["\xa0"])),l.Ab(null,0)],function(e,n){var t=n.component,r=e(n,10,0,150);e(n,9,0,!0,20,r,t.disableRipple||t.disabled,l.Bb(n,3))},function(e,n){var t=n.component;e(n,3,0,t.inputId),e(n,4,0,!l.Bb(n,12).textContent||!l.Bb(n,12).textContent.trim()),e(n,5,0,t.inputId,t.required,t.tabIndex,t.checked,t.disabled,t.name,t.checked.toString(),t.ariaLabel,t.ariaLabelledby),e(n,8,0,l.Bb(n,9).unbounded)})}var wn=t("TtEo"),Sn=t("LC5p"),Dn=t("dJrM"),Cn=t("seP3"),Ln=t("b716"),An=t("/VYK"),Pn=t("lGQG"),Bn=function(){function e(e,n){this.settings=e,this.authService=n,this.doConstantUpdates=null,this.doConstantUpdateSubscription=null,this.changePasswordForm=null,this.deleteAccountForm=null,this.deleteAccountForm=new Tn.g({password:new Tn.e("",Tn.q.required)}),this.changePasswordForm=new Tn.g({oldPassword:new Tn.e("",Tn.q.required),newPassword:new Tn.e("",Tn.q.required)})}return e.prototype.ngOnInit=function(){var e=this;this.doConstantUpdateSubscription=this.settings.doConstantUpdateEvents.subscribe(function(n){e.doConstantUpdates=n})},e.prototype.ngOnDestroy=function(){null!==this.doConstantUpdateSubscription&&this.doConstantUpdateSubscription.unsubscribe()},e.prototype.toggleDoConstantUpdates=function(){this.settings.doConstantUpdate=!this.doConstantUpdates},e.prototype.onDeleteAccount=function(){},e.prototype.onChangePassword=function(){var e=this.changePasswordForm.value;this.authService.changePassword({old:e.oldPassword,pass:e.newPassword}).subscribe()},e}(),Mn=l.qb({encapsulation:0,styles:[["section[_ngcontent-%COMP%]{margin-top:2rem}"]],data:{}});function Nn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,3,"mat-slide-toggle",[["class","mat-slide-toggle"],["color","primary"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"]],function(e,n,t){var r=!0,i=e.component;return"focus"===n&&(r=!1!==l.Bb(e,2)._inputElement.nativeElement.focus()&&r),"change"===n&&(r=!1!==i.toggleDoConstantUpdates()&&r),r},On,Rn)),l.Gb(5120,null,Tn.k,function(e){return[e]},[yn.b]),l.rb(2,1228800,null,0,yn.b,[l.k,M.a,N.g,l.h,[8,null],l.B,yn.a,[2,x.a],[2,q.b]],{color:[0,"color"],checked:[1,"checked"]},{change:"change"}),(e()(),l.Jb(-1,0,[" Update in Background? "]))],function(e,n){e(n,2,0,"primary",n.component.doConstantUpdates)},function(e,n){e(n,0,0,l.Bb(n,2).id,l.Bb(n,2).disabled?null:-1,l.Bb(n,2).checked,l.Bb(n,2).disabled,"before"==l.Bb(n,2).labelPosition,"NoopAnimations"===l.Bb(n,2)._animationMode)})}function xn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,136,"mat-card",[["class","mat-card"]],null,null,null,v.d,v.a)),l.rb(1,49152,null,0,_.a,[],null,null),(e()(),l.sb(2,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,v.c,v.b)),l.rb(3,49152,null,0,_.e,[],null,null),(e()(),l.sb(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l.rb(5,16384,null,0,_.i,[],null,null),(e()(),l.Jb(-1,null,[" Settings and Help "])),(e()(),l.sb(7,0,null,0,129,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(8,16384,null,0,_.d,[],null,null),(e()(),l.sb(9,0,null,null,6,"section",[],null,null,null,null,null)),(e()(),l.sb(10,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),l.Jb(-1,null,["Options"])),(e()(),l.jb(16777216,null,null,1,null,Nn)),l.rb(13,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.sb(14,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Jb(-1,null,[" (Note: consumes more battery) "])),(e()(),l.sb(16,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,wn.b,wn.a)),l.rb(17,49152,null,0,Sn.a,[],null,null),(e()(),l.sb(18,0,null,null,9,"section",[],null,null,null,null,null)),(e()(),l.sb(19,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),l.Jb(-1,null,["Help"])),(e()(),l.sb(21,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Jb(-1,null,[" The destination resets every day at midnight EST. "])),(e()(),l.sb(23,0,null,null,4,"p",[],null,null,null,null,null)),(e()(),l.Jb(-1,null,[" We do not store your location data. This project is licensed GPLv3+. This means you have the right to view the source code, modify the source code, run your modified source code, and distribute the original code and your modifications freely. Check out the "])),(e()(),l.sb(25,0,null,null,1,"a",[["href","https://github.com/off-the-beaten-path"]],null,null,null,null,null)),(e()(),l.Jb(-1,null,["Github"])),(e()(),l.Jb(-1,null,[" for more information. "])),(e()(),l.sb(28,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,wn.b,wn.a)),l.rb(29,49152,null,0,Sn.a,[],null,null),(e()(),l.sb(30,0,null,null,106,"section",[],null,null,null,null,null)),(e()(),l.sb(31,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),l.Jb(-1,null,["Account"])),(e()(),l.sb(33,0,null,null,59,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,n,t){var r=!0,i=e.component;return"submit"===n&&(r=!1!==l.Bb(e,35).onSubmit(t)&&r),"reset"===n&&(r=!1!==l.Bb(e,35).onReset()&&r),"ngSubmit"===n&&(r=!1!==i.onChangePassword()&&r),r},null,null)),l.rb(34,16384,null,0,Tn.s,[],null,null),l.rb(35,540672,null,0,Tn.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l.Gb(2048,null,Tn.b,null,[Tn.h]),l.rb(37,16384,null,0,Tn.n,[[4,Tn.b]],null,null),(e()(),l.sb(38,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),l.Jb(-1,null,[" Change Password "])),(e()(),l.sb(40,0,null,null,23,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Dn.b,Dn.a)),l.rb(41,7520256,null,7,Cn.b,[l.k,l.h,[2,z.j],[2,q.b],[2,Cn.a],M.a,l.B,[2,x.a]],{appearance:[0,"appearance"]},null),l.Hb(335544320,1,{_control:0}),l.Hb(335544320,2,{_placeholderChild:0}),l.Hb(335544320,3,{_labelChild:0}),l.Hb(603979776,4,{_errorChildren:1}),l.Hb(603979776,5,{_hintChildren:1}),l.Hb(603979776,6,{_prefixChildren:1}),l.Hb(603979776,7,{_suffixChildren:1}),(e()(),l.sb(49,0,null,3,2,"mat-label",[],null,null,null,null,null)),l.rb(50,16384,[[3,4]],0,Cn.f,[],null,null),(e()(),l.Jb(-1,null,["Current Password"])),(e()(),l.sb(52,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","oldPassword"],["matInput",""],["placeholder","******"],["type","password"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,n,t){var r=!0;return"input"===n&&(r=!1!==l.Bb(e,53)._handleInput(t.target.value)&&r),"blur"===n&&(r=!1!==l.Bb(e,53).onTouched()&&r),"compositionstart"===n&&(r=!1!==l.Bb(e,53)._compositionStart()&&r),"compositionend"===n&&(r=!1!==l.Bb(e,53)._compositionEnd(t.target.value)&&r),"blur"===n&&(r=!1!==l.Bb(e,57)._focusChanged(!1)&&r),"focus"===n&&(r=!1!==l.Bb(e,57)._focusChanged(!0)&&r),"input"===n&&(r=!1!==l.Bb(e,57)._onInput()&&r),r},null,null)),l.rb(53,16384,null,0,Tn.c,[l.G,l.k,[2,Tn.a]],null,null),l.Gb(1024,null,Tn.k,function(e){return[e]},[Tn.c]),l.rb(55,671744,null,0,Tn.f,[[3,Tn.b],[8,null],[8,null],[6,Tn.k],[2,Tn.u]],{name:[0,"name"]},null),l.Gb(2048,null,Tn.l,null,[Tn.f]),l.rb(57,999424,null,0,Ln.a,[l.k,M.a,[6,Tn.l],[2,Tn.o],[2,Tn.h],z.d,[8,null],An.a,l.B],{placeholder:[0,"placeholder"],type:[1,"type"]},null),l.rb(58,16384,null,0,Tn.m,[[4,Tn.l]],null,null),l.Gb(2048,[[1,4]],Cn.c,null,[Ln.a]),(e()(),l.sb(60,0,null,4,3,"mat-icon",[["class","mat-icon notranslate"],["matSuffix",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,O.b,O.a)),l.rb(61,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),l.rb(62,16384,[[7,4]],0,Cn.g,[],null,null),(e()(),l.Jb(-1,0,["vpn_key"])),(e()(),l.sb(64,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l.sb(65,0,null,null,23,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Dn.b,Dn.a)),l.rb(66,7520256,null,7,Cn.b,[l.k,l.h,[2,z.j],[2,q.b],[2,Cn.a],M.a,l.B,[2,x.a]],{appearance:[0,"appearance"]},null),l.Hb(335544320,8,{_control:0}),l.Hb(335544320,9,{_placeholderChild:0}),l.Hb(335544320,10,{_labelChild:0}),l.Hb(603979776,11,{_errorChildren:1}),l.Hb(603979776,12,{_hintChildren:1}),l.Hb(603979776,13,{_prefixChildren:1}),l.Hb(603979776,14,{_suffixChildren:1}),(e()(),l.sb(74,0,null,3,2,"mat-label",[],null,null,null,null,null)),l.rb(75,16384,[[10,4]],0,Cn.f,[],null,null),(e()(),l.Jb(-1,null,["New Password"])),(e()(),l.sb(77,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","newPassword"],["matInput",""],["placeholder","******"],["type","password"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,n,t){var r=!0;return"input"===n&&(r=!1!==l.Bb(e,78)._handleInput(t.target.value)&&r),"blur"===n&&(r=!1!==l.Bb(e,78).onTouched()&&r),"compositionstart"===n&&(r=!1!==l.Bb(e,78)._compositionStart()&&r),"compositionend"===n&&(r=!1!==l.Bb(e,78)._compositionEnd(t.target.value)&&r),"blur"===n&&(r=!1!==l.Bb(e,82)._focusChanged(!1)&&r),"focus"===n&&(r=!1!==l.Bb(e,82)._focusChanged(!0)&&r),"input"===n&&(r=!1!==l.Bb(e,82)._onInput()&&r),r},null,null)),l.rb(78,16384,null,0,Tn.c,[l.G,l.k,[2,Tn.a]],null,null),l.Gb(1024,null,Tn.k,function(e){return[e]},[Tn.c]),l.rb(80,671744,null,0,Tn.f,[[3,Tn.b],[8,null],[8,null],[6,Tn.k],[2,Tn.u]],{name:[0,"name"]},null),l.Gb(2048,null,Tn.l,null,[Tn.f]),l.rb(82,999424,null,0,Ln.a,[l.k,M.a,[6,Tn.l],[2,Tn.o],[2,Tn.h],z.d,[8,null],An.a,l.B],{placeholder:[0,"placeholder"],type:[1,"type"]},null),l.rb(83,16384,null,0,Tn.m,[[4,Tn.l]],null,null),l.Gb(2048,[[8,4]],Cn.c,null,[Ln.a]),(e()(),l.sb(85,0,null,4,3,"mat-icon",[["class","mat-icon notranslate"],["matSuffix",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,O.b,O.a)),l.rb(86,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),l.rb(87,16384,[[14,4]],0,Cn.g,[],null,null),(e()(),l.Jb(-1,0,["vpn_key"])),(e()(),l.sb(89,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l.sb(90,0,null,null,2,"button",[["mat-stroked-button",""],["type","submit"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,P.d,P.b)),l.rb(91,180224,null,0,B.b,[l.k,M.a,N.g,[2,x.a]],{disabled:[0,"disabled"]},null),(e()(),l.Jb(-1,0,[" Change Password "])),(e()(),l.sb(93,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),l.Jb(-1,null,[" Data Export "])),(e()(),l.sb(95,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Jb(-1,null,[" Download all of your data as a zip archive. Includes user account, checkins, and images. "])),(e()(),l.sb(97,0,null,null,2,"button",[["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,P.d,P.b)),l.rb(98,180224,null,0,B.b,[l.k,M.a,N.g,[2,x.a]],null,null),(e()(),l.Jb(-1,0,[" Download Archive "])),(e()(),l.sb(100,0,null,null,36,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,n,t){var r=!0,i=e.component;return"submit"===n&&(r=!1!==l.Bb(e,102).onSubmit(t)&&r),"reset"===n&&(r=!1!==l.Bb(e,102).onReset()&&r),"ngSubmit"===n&&(r=!1!==i.onDeleteAccount()&&r),r},null,null)),l.rb(101,16384,null,0,Tn.s,[],null,null),l.rb(102,540672,null,0,Tn.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l.Gb(2048,null,Tn.b,null,[Tn.h]),l.rb(104,16384,null,0,Tn.n,[[4,Tn.b]],null,null),(e()(),l.sb(105,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),l.Jb(-1,null,[" Delete Account "])),(e()(),l.sb(107,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Jb(-1,null,[" Note: this action cannot be undone! "])),(e()(),l.sb(109,0,null,null,23,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Dn.b,Dn.a)),l.rb(110,7520256,null,7,Cn.b,[l.k,l.h,[2,z.j],[2,q.b],[2,Cn.a],M.a,l.B,[2,x.a]],{appearance:[0,"appearance"]},null),l.Hb(335544320,15,{_control:0}),l.Hb(335544320,16,{_placeholderChild:0}),l.Hb(335544320,17,{_labelChild:0}),l.Hb(603979776,18,{_errorChildren:1}),l.Hb(603979776,19,{_hintChildren:1}),l.Hb(603979776,20,{_prefixChildren:1}),l.Hb(603979776,21,{_suffixChildren:1}),(e()(),l.sb(118,0,null,3,2,"mat-label",[],null,null,null,null,null)),l.rb(119,16384,[[17,4]],0,Cn.f,[],null,null),(e()(),l.Jb(-1,null,["Password"])),(e()(),l.sb(121,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","password"],["matInput",""],["placeholder","******"],["type","password"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,n,t){var r=!0;return"input"===n&&(r=!1!==l.Bb(e,122)._handleInput(t.target.value)&&r),"blur"===n&&(r=!1!==l.Bb(e,122).onTouched()&&r),"compositionstart"===n&&(r=!1!==l.Bb(e,122)._compositionStart()&&r),"compositionend"===n&&(r=!1!==l.Bb(e,122)._compositionEnd(t.target.value)&&r),"blur"===n&&(r=!1!==l.Bb(e,126)._focusChanged(!1)&&r),"focus"===n&&(r=!1!==l.Bb(e,126)._focusChanged(!0)&&r),"input"===n&&(r=!1!==l.Bb(e,126)._onInput()&&r),r},null,null)),l.rb(122,16384,null,0,Tn.c,[l.G,l.k,[2,Tn.a]],null,null),l.Gb(1024,null,Tn.k,function(e){return[e]},[Tn.c]),l.rb(124,671744,null,0,Tn.f,[[3,Tn.b],[8,null],[8,null],[6,Tn.k],[2,Tn.u]],{name:[0,"name"]},null),l.Gb(2048,null,Tn.l,null,[Tn.f]),l.rb(126,999424,null,0,Ln.a,[l.k,M.a,[6,Tn.l],[2,Tn.o],[2,Tn.h],z.d,[8,null],An.a,l.B],{placeholder:[0,"placeholder"],type:[1,"type"]},null),l.rb(127,16384,null,0,Tn.m,[[4,Tn.l]],null,null),l.Gb(2048,[[15,4]],Cn.c,null,[Ln.a]),(e()(),l.sb(129,0,null,4,3,"mat-icon",[["class","mat-icon notranslate"],["matSuffix",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,O.b,O.a)),l.rb(130,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),l.rb(131,16384,[[21,4]],0,Cn.g,[],null,null),(e()(),l.Jb(-1,0,["vpn_key"])),(e()(),l.sb(133,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l.sb(134,0,null,null,2,"button",[["color","warn"],["mat-stroked-button",""],["type","submit"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,P.d,P.b)),l.rb(135,180224,null,0,B.b,[l.k,M.a,N.g,[2,x.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(e()(),l.Jb(-1,0,[" Delete Account "]))],function(e,n){var t=n.component;e(n,13,0,null!==t.doConstantUpdates),e(n,35,0,t.changePasswordForm),e(n,41,0,"outline"),e(n,55,0,"oldPassword"),e(n,57,0,"******","password"),e(n,61,0),e(n,66,0,"outline"),e(n,80,0,"newPassword"),e(n,82,0,"******","password"),e(n,86,0),e(n,91,0,t.changePasswordForm.invalid),e(n,102,0,t.deleteAccountForm),e(n,110,0,"outline"),e(n,124,0,"password"),e(n,126,0,"******","password"),e(n,130,0),e(n,135,0,t.deleteAccountForm.invalid,"warn")},function(e,n){e(n,16,0,l.Bb(n,17).vertical?"vertical":"horizontal",l.Bb(n,17).vertical,!l.Bb(n,17).vertical,l.Bb(n,17).inset),e(n,28,0,l.Bb(n,29).vertical?"vertical":"horizontal",l.Bb(n,29).vertical,!l.Bb(n,29).vertical,l.Bb(n,29).inset),e(n,33,0,l.Bb(n,37).ngClassUntouched,l.Bb(n,37).ngClassTouched,l.Bb(n,37).ngClassPristine,l.Bb(n,37).ngClassDirty,l.Bb(n,37).ngClassValid,l.Bb(n,37).ngClassInvalid,l.Bb(n,37).ngClassPending),e(n,40,1,["standard"==l.Bb(n,41).appearance,"fill"==l.Bb(n,41).appearance,"outline"==l.Bb(n,41).appearance,"legacy"==l.Bb(n,41).appearance,l.Bb(n,41)._control.errorState,l.Bb(n,41)._canLabelFloat,l.Bb(n,41)._shouldLabelFloat(),l.Bb(n,41)._hasFloatingLabel(),l.Bb(n,41)._hideControlPlaceholder(),l.Bb(n,41)._control.disabled,l.Bb(n,41)._control.autofilled,l.Bb(n,41)._control.focused,"accent"==l.Bb(n,41).color,"warn"==l.Bb(n,41).color,l.Bb(n,41)._shouldForward("untouched"),l.Bb(n,41)._shouldForward("touched"),l.Bb(n,41)._shouldForward("pristine"),l.Bb(n,41)._shouldForward("dirty"),l.Bb(n,41)._shouldForward("valid"),l.Bb(n,41)._shouldForward("invalid"),l.Bb(n,41)._shouldForward("pending"),!l.Bb(n,41)._animationsEnabled]),e(n,52,1,[l.Bb(n,57)._isServer,l.Bb(n,57).id,l.Bb(n,57).placeholder,l.Bb(n,57).disabled,l.Bb(n,57).required,l.Bb(n,57).readonly&&!l.Bb(n,57)._isNativeSelect||null,l.Bb(n,57)._ariaDescribedby||null,l.Bb(n,57).errorState,l.Bb(n,57).required.toString(),l.Bb(n,58).ngClassUntouched,l.Bb(n,58).ngClassTouched,l.Bb(n,58).ngClassPristine,l.Bb(n,58).ngClassDirty,l.Bb(n,58).ngClassValid,l.Bb(n,58).ngClassInvalid,l.Bb(n,58).ngClassPending]),e(n,60,0,l.Bb(n,61).inline,"primary"!==l.Bb(n,61).color&&"accent"!==l.Bb(n,61).color&&"warn"!==l.Bb(n,61).color),e(n,65,1,["standard"==l.Bb(n,66).appearance,"fill"==l.Bb(n,66).appearance,"outline"==l.Bb(n,66).appearance,"legacy"==l.Bb(n,66).appearance,l.Bb(n,66)._control.errorState,l.Bb(n,66)._canLabelFloat,l.Bb(n,66)._shouldLabelFloat(),l.Bb(n,66)._hasFloatingLabel(),l.Bb(n,66)._hideControlPlaceholder(),l.Bb(n,66)._control.disabled,l.Bb(n,66)._control.autofilled,l.Bb(n,66)._control.focused,"accent"==l.Bb(n,66).color,"warn"==l.Bb(n,66).color,l.Bb(n,66)._shouldForward("untouched"),l.Bb(n,66)._shouldForward("touched"),l.Bb(n,66)._shouldForward("pristine"),l.Bb(n,66)._shouldForward("dirty"),l.Bb(n,66)._shouldForward("valid"),l.Bb(n,66)._shouldForward("invalid"),l.Bb(n,66)._shouldForward("pending"),!l.Bb(n,66)._animationsEnabled]),e(n,77,1,[l.Bb(n,82)._isServer,l.Bb(n,82).id,l.Bb(n,82).placeholder,l.Bb(n,82).disabled,l.Bb(n,82).required,l.Bb(n,82).readonly&&!l.Bb(n,82)._isNativeSelect||null,l.Bb(n,82)._ariaDescribedby||null,l.Bb(n,82).errorState,l.Bb(n,82).required.toString(),l.Bb(n,83).ngClassUntouched,l.Bb(n,83).ngClassTouched,l.Bb(n,83).ngClassPristine,l.Bb(n,83).ngClassDirty,l.Bb(n,83).ngClassValid,l.Bb(n,83).ngClassInvalid,l.Bb(n,83).ngClassPending]),e(n,85,0,l.Bb(n,86).inline,"primary"!==l.Bb(n,86).color&&"accent"!==l.Bb(n,86).color&&"warn"!==l.Bb(n,86).color),e(n,90,0,l.Bb(n,91).disabled||null,"NoopAnimations"===l.Bb(n,91)._animationMode),e(n,97,0,l.Bb(n,98).disabled||null,"NoopAnimations"===l.Bb(n,98)._animationMode),e(n,100,0,l.Bb(n,104).ngClassUntouched,l.Bb(n,104).ngClassTouched,l.Bb(n,104).ngClassPristine,l.Bb(n,104).ngClassDirty,l.Bb(n,104).ngClassValid,l.Bb(n,104).ngClassInvalid,l.Bb(n,104).ngClassPending),e(n,109,1,["standard"==l.Bb(n,110).appearance,"fill"==l.Bb(n,110).appearance,"outline"==l.Bb(n,110).appearance,"legacy"==l.Bb(n,110).appearance,l.Bb(n,110)._control.errorState,l.Bb(n,110)._canLabelFloat,l.Bb(n,110)._shouldLabelFloat(),l.Bb(n,110)._hasFloatingLabel(),l.Bb(n,110)._hideControlPlaceholder(),l.Bb(n,110)._control.disabled,l.Bb(n,110)._control.autofilled,l.Bb(n,110)._control.focused,"accent"==l.Bb(n,110).color,"warn"==l.Bb(n,110).color,l.Bb(n,110)._shouldForward("untouched"),l.Bb(n,110)._shouldForward("touched"),l.Bb(n,110)._shouldForward("pristine"),l.Bb(n,110)._shouldForward("dirty"),l.Bb(n,110)._shouldForward("valid"),l.Bb(n,110)._shouldForward("invalid"),l.Bb(n,110)._shouldForward("pending"),!l.Bb(n,110)._animationsEnabled]),e(n,121,1,[l.Bb(n,126)._isServer,l.Bb(n,126).id,l.Bb(n,126).placeholder,l.Bb(n,126).disabled,l.Bb(n,126).required,l.Bb(n,126).readonly&&!l.Bb(n,126)._isNativeSelect||null,l.Bb(n,126)._ariaDescribedby||null,l.Bb(n,126).errorState,l.Bb(n,126).required.toString(),l.Bb(n,127).ngClassUntouched,l.Bb(n,127).ngClassTouched,l.Bb(n,127).ngClassPristine,l.Bb(n,127).ngClassDirty,l.Bb(n,127).ngClassValid,l.Bb(n,127).ngClassInvalid,l.Bb(n,127).ngClassPending]),e(n,129,0,l.Bb(n,130).inline,"primary"!==l.Bb(n,130).color&&"accent"!==l.Bb(n,130).color&&"warn"!==l.Bb(n,130).color),e(n,134,0,l.Bb(n,135).disabled||null,"NoopAnimations"===l.Bb(n,135)._animationMode)})}function Gn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,1,"app-settings",[],null,null,null,xn,Mn)),l.rb(1,245760,null,0,Bn,[te,Pn.a],null,null)],function(e,n){e(n,1,0)},null)}var kn=l.ob("app-settings",Bn,Gn,{},{},[]),Fn=l.qb({encapsulation:2,styles:[""],data:{}});function Un(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,1,"div",[["class","filepond--wrapper"]],null,null,null,null,null)),(e()(),l.sb(1,0,null,null,0,"input",[["type","file"]],null,null,null,null,null))],null,null)}var Vn=function(){function e(e,n,t){var l=this;this.checkinService=e,this.route=n,this.authService=t,this.checkin$=null,this.editing=!1,this.hasDeletedImage=!1,this.updateForm=null,this.pondOptions=null,this.leafletOptions=null,this.leafletLayers=null,this.updateForm=new Tn.g({text:new Tn.e,image_id:new Tn.e(null),checkin_id:new Tn.e}),this.pondOptions={acceptedFileTypes:"image/jpeg, image/png",maxFileSize:"10MB",server:{url:Z.a.api,process:{url:"/image/",method:"POST",withCredentials:!1,headers:{Authorization:"Bearer "+t.currentUserValue.jwt},onload:function(e){return e=JSON.parse(e),l.updateForm.patchValue({image_id:e.id}),e.id}},load:null,fetch:null,revert:null,restore:null}}}return e.prototype.ngOnInit=function(){var e=this;this.checkin$=this.route.paramMap.pipe(Object(Ee.a)(function(n){return e.checkinService.getOne(+n.get("id"))}),Object(cn.a)(function(n){e.updateForm.setValue({text:n.text,image_id:n.image&&n.image.id,checkin_id:n.id}),e.leafletOptions={layers:[Object(dn.tileLayer)("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"Open Street Map"})],zoom:14,center:Object(dn.latLng)(n.geocache.location.lat,n.geocache.location.lng)},e.leafletLayers=[Object(dn.marker)([n.geocache.location.lat,n.geocache.location.lng],{icon:Object(dn.icon)({iconSize:[25,41],iconAnchor:[13,41],iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png"})})]}))},e.prototype.updateCheckin=function(){var e=this;this.checkin$=this.checkinService.update(this.updateForm.value).pipe(Object(cn.a)(function(n){e.leafletOptions={layers:[Object(dn.tileLayer)("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"Open Street Map"})],zoom:14,center:Object(dn.latLng)(n.geocache.location.lat,n.geocache.location.lng)},e.leafletLayers=[Object(dn.marker)([n.geocache.location.lat,n.geocache.location.lng],{icon:Object(dn.icon)({iconSize:[25,41],iconAnchor:[13,41],iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png"})})],e.exitEditingMode()}))},e.prototype.onMapReady=function(e){},e.prototype.onImageDelete=function(){this.updateForm.patchValue({image_id:-1}),this.hasDeletedImage=!0},e.prototype.enterEditingMode=function(){this.editing=!0,this.hasDeletedImage=!1},e.prototype.exitEditingMode=function(){this.editing=!1,this.hasDeletedImage=!1},e}(),qn=l.qb({encapsulation:0,styles:[[""]],data:{}});function zn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,1,"app-secure-image",[],null,[[null,"delete"]],function(e,n,t){var l=!0;return"delete"===n&&(l=!1!==e.component.onImageDelete()&&l),l},ke,Me)),l.rb(1,49152,null,0,Be,[Pe],{image:[0,"image"],allowDelete:[1,"allowDelete"]},{delete:"delete"})],function(e,n){e(n,1,0,n.parent.context.ngIf.image,n.component.editing)},null)}function jn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,1,"file-pond",[["name","file"]],null,null,null,Un,Fn)),l.rb(1,4898816,[[1,4],["myPond",4]],0,s,[l.k,l.B],{options:[0,"options"]},null)],function(e,n){e(n,1,0,n.component.pondOptions)},null)}function Hn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(1,16384,null,0,_.d,[],null,null),(e()(),l.sb(2,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Jb(3,null,[" "," "]))],null,function(e,n){e(n,3,0,n.parent.context.ngIf.text)})}function Yn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,4,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),l.rb(1,16384,null,0,_.b,[],null,null),(e()(),l.sb(2,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.enterEditingMode()&&l),l},P.d,P.b)),l.rb(3,180224,null,0,B.b,[l.k,M.a,N.g,[2,x.a]],null,null),(e()(),l.Jb(-1,0,["Edit "]))],null,function(e,n){e(n,0,0,"end"===l.Bb(n,1).align),e(n,2,0,l.Bb(n,3).disabled||null,"NoopAnimations"===l.Bb(n,3)._animationMode)})}function Xn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,23,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(1,16384,null,0,_.d,[],null,null),(e()(),l.sb(2,0,null,null,21,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var r=!0;return"submit"===n&&(r=!1!==l.Bb(e,4).onSubmit(t)&&r),"reset"===n&&(r=!1!==l.Bb(e,4).onReset()&&r),r},null,null)),l.rb(3,16384,null,0,Tn.s,[],null,null),l.rb(4,540672,null,0,Tn.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Gb(2048,null,Tn.b,null,[Tn.h]),l.rb(6,16384,null,0,Tn.n,[[4,Tn.b]],null,null),(e()(),l.sb(7,0,null,null,16,"mat-form-field",[["class","mat-form-field"],["style","width: 100%;"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Dn.b,Dn.a)),l.rb(8,7520256,null,7,Cn.b,[l.k,l.h,[2,z.j],[2,q.b],[2,Cn.a],M.a,l.B,[2,x.a]],null,null),l.Hb(335544320,2,{_control:0}),l.Hb(335544320,3,{_placeholderChild:0}),l.Hb(335544320,4,{_labelChild:0}),l.Hb(603979776,5,{_errorChildren:1}),l.Hb(603979776,6,{_hintChildren:1}),l.Hb(603979776,7,{_prefixChildren:1}),l.Hb(603979776,8,{_suffixChildren:1}),(e()(),l.sb(16,0,null,1,7,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","text"],["matInput",""],["placeholder","Comment"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,n,t){var r=!0;return"input"===n&&(r=!1!==l.Bb(e,17)._handleInput(t.target.value)&&r),"blur"===n&&(r=!1!==l.Bb(e,17).onTouched()&&r),"compositionstart"===n&&(r=!1!==l.Bb(e,17)._compositionStart()&&r),"compositionend"===n&&(r=!1!==l.Bb(e,17)._compositionEnd(t.target.value)&&r),"blur"===n&&(r=!1!==l.Bb(e,21)._focusChanged(!1)&&r),"focus"===n&&(r=!1!==l.Bb(e,21)._focusChanged(!0)&&r),"input"===n&&(r=!1!==l.Bb(e,21)._onInput()&&r),r},null,null)),l.rb(17,16384,null,0,Tn.c,[l.G,l.k,[2,Tn.a]],null,null),l.Gb(1024,null,Tn.k,function(e){return[e]},[Tn.c]),l.rb(19,671744,null,0,Tn.f,[[3,Tn.b],[8,null],[8,null],[6,Tn.k],[2,Tn.u]],{name:[0,"name"]},null),l.Gb(2048,null,Tn.l,null,[Tn.f]),l.rb(21,999424,null,0,Ln.a,[l.k,M.a,[6,Tn.l],[2,Tn.o],[2,Tn.h],z.d,[8,null],An.a,l.B],{placeholder:[0,"placeholder"]},null),l.rb(22,16384,null,0,Tn.m,[[4,Tn.l]],null,null),l.Gb(2048,[[2,4]],Cn.c,null,[Ln.a])],function(e,n){e(n,4,0,n.component.updateForm),e(n,19,0,"text"),e(n,21,0,"Comment")},function(e,n){e(n,2,0,l.Bb(n,6).ngClassUntouched,l.Bb(n,6).ngClassTouched,l.Bb(n,6).ngClassPristine,l.Bb(n,6).ngClassDirty,l.Bb(n,6).ngClassValid,l.Bb(n,6).ngClassInvalid,l.Bb(n,6).ngClassPending),e(n,7,1,["standard"==l.Bb(n,8).appearance,"fill"==l.Bb(n,8).appearance,"outline"==l.Bb(n,8).appearance,"legacy"==l.Bb(n,8).appearance,l.Bb(n,8)._control.errorState,l.Bb(n,8)._canLabelFloat,l.Bb(n,8)._shouldLabelFloat(),l.Bb(n,8)._hasFloatingLabel(),l.Bb(n,8)._hideControlPlaceholder(),l.Bb(n,8)._control.disabled,l.Bb(n,8)._control.autofilled,l.Bb(n,8)._control.focused,"accent"==l.Bb(n,8).color,"warn"==l.Bb(n,8).color,l.Bb(n,8)._shouldForward("untouched"),l.Bb(n,8)._shouldForward("touched"),l.Bb(n,8)._shouldForward("pristine"),l.Bb(n,8)._shouldForward("dirty"),l.Bb(n,8)._shouldForward("valid"),l.Bb(n,8)._shouldForward("invalid"),l.Bb(n,8)._shouldForward("pending"),!l.Bb(n,8)._animationsEnabled]),e(n,16,1,[l.Bb(n,21)._isServer,l.Bb(n,21).id,l.Bb(n,21).placeholder,l.Bb(n,21).disabled,l.Bb(n,21).required,l.Bb(n,21).readonly&&!l.Bb(n,21)._isNativeSelect||null,l.Bb(n,21)._ariaDescribedby||null,l.Bb(n,21).errorState,l.Bb(n,21).required.toString(),l.Bb(n,22).ngClassUntouched,l.Bb(n,22).ngClassTouched,l.Bb(n,22).ngClassPristine,l.Bb(n,22).ngClassDirty,l.Bb(n,22).ngClassValid,l.Bb(n,22).ngClassInvalid,l.Bb(n,22).ngClassPending])})}function Wn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,7,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),l.rb(1,16384,null,0,_.b,[],null,null),(e()(),l.sb(2,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.updateCheckin()&&l),l},P.d,P.b)),l.rb(3,180224,null,0,B.b,[l.k,M.a,N.g,[2,x.a]],null,null),(e()(),l.Jb(-1,0,["Submit "])),(e()(),l.sb(5,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.exitEditingMode()&&l),l},P.d,P.b)),l.rb(6,180224,null,0,B.b,[l.k,M.a,N.g,[2,x.a]],null,null),(e()(),l.Jb(-1,0,["Cancel "]))],null,function(e,n){e(n,0,0,"end"===l.Bb(n,1).align),e(n,2,0,l.Bb(n,3).disabled||null,"NoopAnimations"===l.Bb(n,3)._animationMode),e(n,5,0,l.Bb(n,6).disabled||null,"NoopAnimations"===l.Bb(n,6)._animationMode)})}function Jn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,31,"div",[],null,null,null,null,null)),(e()(),l.sb(1,0,null,null,30,"mat-card",[["class","mat-card"]],null,null,null,v.d,v.a)),l.rb(2,49152,null,0,_.a,[],null,null),(e()(),l.sb(3,0,null,0,12,"mat-card-header",[["class","mat-card-header"]],null,null,null,v.c,v.b)),l.rb(4,49152,null,0,_.e,[],null,null),(e()(),l.sb(5,0,null,0,3,"div",[["class","mat-card-avatar"],["mat-card-avatar",""]],null,null,null,null,null)),l.rb(6,16384,null,0,_.c,[],null,null),(e()(),l.sb(7,0,null,null,1,":svg:svg",[["height","40"],["width","40"]],null,null,null,null,null)),l.rb(8,540672,null,0,Ve,[l.k,l.G],{identiconHash:[0,"identiconHash"]},null),(e()(),l.sb(9,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l.rb(10,16384,null,0,_.i,[],null,null),(e()(),l.Jb(11,null,[" #"," "])),(e()(),l.sb(12,0,null,1,3,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),l.rb(13,16384,null,0,_.h,[],null,null),(e()(),l.Jb(14,null,["",""])),l.Fb(15,1),(e()(),l.sb(16,0,null,0,3,"div",[["class","mat-card-image"],["leaflet",""],["mat-card-image",""],["style","height: 300px;"]],[[8,"hidden",0]],[[null,"leafletMapReady"],["window","resize"]],function(e,n,t){var r=!0,i=e.component;return"window:resize"===n&&(r=!1!==l.Bb(e,18).onResize()&&r),"leafletMapReady"===n&&(r=!1!==i.onMapReady(t)&&r),r},null,null)),l.rb(17,16384,null,0,_.f,[],null,null),l.rb(18,606208,null,0,un.a,[l.k,l.B],{options:[0,"options"]},{mapReady:"leafletMapReady"}),l.rb(19,475136,null,0,sn.a,[un.a,l.u,l.B],{layers:[0,"layers"]},null),(e()(),l.jb(16777216,null,0,1,null,zn)),l.rb(21,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,0,1,null,jn)),l.rb(23,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,0,1,null,Hn)),l.rb(25,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,0,1,null,Yn)),l.rb(27,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,0,1,null,Xn)),l.rb(29,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,0,1,null,Wn)),l.rb(31,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,8,0,n.context.ngIf.geocache.location.geohash),e(n,18,0,t.leafletOptions),e(n,19,0,t.leafletLayers),e(n,21,0,null!==n.context.ngIf.image&&!t.hasDeletedImage),e(n,23,0,t.editing&&(null===n.context.ngIf.image||t.hasDeletedImage)),e(n,25,0,!t.editing),e(n,27,0,!t.editing),e(n,29,0,t.editing),e(n,31,0,t.editing)},function(e,n){var t=n.component;e(n,11,0,n.context.ngIf.geocache.location.geohash);var r=l.Kb(n,14,0,e(n,15,0,l.Bb(n.parent,0),n.context.ngIf.created_at));e(n,14,0,r),e(n,16,0,t.editing)})}function $n(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,3,"mat-card",[["class","mat-card"]],null,null,null,v.d,v.a)),l.rb(1,49152,null,0,_.a,[],null,null),(e()(),l.sb(2,0,null,0,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["color","primary"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,H,j)),l.rb(3,4374528,null,0,V.b,[l.k,l.B,[2,x.a],[2,V.a]],{color:[0,"color"],mode:[1,"mode"]},null)],function(e,n){e(n,3,0,"primary","indeterminate")},function(e,n){e(n,2,0,l.Bb(n,3).value,l.Bb(n,3).mode,l.Bb(n,3)._isNoopAnimation)})}function Zn(e){return l.Lb(0,[l.Db(0,R.e,[l.w]),l.Hb(671088640,1,{myPond:0}),(e()(),l.jb(16777216,null,null,2,null,Jn)),l.rb(3,16384,null,0,R.m,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l.Db(131072,R.b,[l.h]),(e()(),l.jb(0,[["loader",2]],null,0,null,$n))],function(e,n){var t=n.component;e(n,3,0,l.Kb(n,3,0,l.Bb(n,4).transform(t.checkin$)),l.Bb(n,5))},null)}function Kn(e){return l.Lb(0,[(e()(),l.sb(0,0,null,null,1,"app-checkin",[],null,null,null,Zn,qn)),l.rb(1,114688,null,0,Vn,[ve,T.a,Pn.a],null,null)],function(e,n){e(n,1,0)},null)}var Qn=l.ob("app-checkin",Vn,Kn,{},{},[]),et=t("t68o"),nt=t("zbXB"),tt=t("XePT"),lt=t("OkvK"),rt=t("eDkP"),it=t("uGex"),at=t("4tE/"),ot=t("o3x0"),ut=t("jQLj"),st=function(){return function(){}}(),ct=t("r43C"),dt=t("y4qS"),ft=t("BHnd"),pt=t("/dO6"),bt=t("YhbO"),mt=t("jlZm"),gt=t("Blfk"),ht=t("Nsh5"),Et=t("hctd"),vt=t("hUWP"),_t=t("3pJQ"),It=t("V9q+"),yt=t("SZbH"),Tt=t("foBm"),Rt=t("YSh2");t.d(n,"DashboardModuleNgFactory",function(){return Ot});var Ot=l.pb(h,[],function(e){return l.yb([l.zb(512,l.j,l.eb,[[8,[E.a,A,De,In,kn,Qn,et.a,nt.b,nt.a,tt.a]],[3,l.j],l.z]),l.zb(4608,R.o,R.n,[l.w,[2,R.y]]),l.zb(4608,ze.c,ze.c,[]),l.zb(4608,z.d,z.d,[]),l.zb(5120,lt.b,lt.a,[[3,lt.b]]),l.zb(4608,rt.a,rt.a,[rt.g,rt.c,l.j,rt.f,rt.d,l.s,l.B,R.d,q.b,[2,R.i]]),l.zb(5120,rt.h,rt.i,[rt.a]),l.zb(5120,it.a,it.b,[rt.a]),l.zb(5120,at.a,at.b,[rt.a]),l.zb(5120,ot.b,ot.c,[rt.a]),l.zb(135680,ot.d,ot.d,[rt.a,l.s,[2,R.i],[2,ot.a],ot.b,[3,ot.d],rt.c]),l.zb(4608,ut.h,ut.h,[]),l.zb(5120,ut.a,ut.b,[rt.a]),l.zb(4608,z.c,z.y,[[2,z.h],M.a]),l.zb(4608,k.f,z.e,[[2,z.i],[2,z.n]]),l.zb(4608,Tn.t,Tn.t,[]),l.zb(4608,Tn.d,Tn.d,[]),l.zb(5120,l.b,function(e,n){return[J.j(e,n)]},[R.d,l.D]),l.zb(4608,K.i,K.o,[R.d,l.D,K.m]),l.zb(4608,K.p,K.p,[K.i,K.n]),l.zb(5120,K.a,function(e){return[e]},[K.p]),l.zb(4608,K.l,K.l,[]),l.zb(6144,K.j,null,[K.l]),l.zb(4608,K.h,K.h,[K.j]),l.zb(6144,K.b,null,[K.h]),l.zb(4608,K.g,K.k,[K.b,l.s]),l.zb(4608,K.c,K.c,[K.g]),l.zb(1073742336,R.c,R.c,[]),l.zb(1073742336,T.m,T.m,[[2,T.s],[2,T.k]]),l.zb(1073742336,st,st,[]),l.zb(1073742336,q.a,q.a,[]),l.zb(1073742336,z.n,z.n,[[2,z.f],[2,k.g]]),l.zb(1073742336,X.b,X.b,[]),l.zb(1073742336,w.c,w.c,[]),l.zb(1073742336,M.b,M.b,[]),l.zb(1073742336,z.x,z.x,[]),l.zb(1073742336,B.c,B.c,[]),l.zb(1073742336,z.o,z.o,[]),l.zb(1073742336,z.v,z.v,[]),l.zb(1073742336,Sn.b,Sn.b,[]),l.zb(1073742336,y.d,y.d,[]),l.zb(1073742336,_.g,_.g,[]),l.zb(1073742336,ze.d,ze.d,[]),l.zb(1073742336,Cn.d,Cn.d,[]),l.zb(1073742336,An.c,An.c,[]),l.zb(1073742336,Ln.b,Ln.b,[]),l.zb(1073742336,ct.a,ct.a,[]),l.zb(1073742336,V.c,V.c,[]),l.zb(1073742336,dt.o,dt.o,[]),l.zb(1073742336,ft.a,ft.a,[]),l.zb(1073742336,pt.b,pt.b,[]),l.zb(1073742336,lt.c,lt.c,[]),l.zb(1073742336,je.g,je.g,[]),l.zb(1073742336,He.c,He.c,[]),l.zb(1073742336,rt.e,rt.e,[]),l.zb(1073742336,z.s,z.s,[]),l.zb(1073742336,it.c,it.c,[]),l.zb(1073742336,bt.c,bt.c,[]),l.zb(1073742336,mt.a,mt.a,[]),l.zb(1073742336,at.c,at.c,[]),l.zb(1073742336,ot.g,ot.g,[]),l.zb(1073742336,N.a,N.a,[]),l.zb(1073742336,ut.i,ut.i,[]),l.zb(1073742336,z.z,z.z,[]),l.zb(1073742336,z.p,z.p,[]),l.zb(1073742336,gt.a,gt.a,[]),l.zb(1073742336,ht.h,ht.h,[]),l.zb(1073742336,yn.c,yn.c,[]),l.zb(1073742336,qe.j,qe.j,[]),l.zb(1073742336,Et.a,Et.a,[]),l.zb(1073742336,Tn.r,Tn.r,[]),l.zb(1073742336,Tn.i,Tn.i,[]),l.zb(1073742336,Tn.p,Tn.p,[]),l.zb(1073742336,J.c,J.c,[]),l.zb(1073742336,W.d,W.d,[]),l.zb(1073742336,vt.a,vt.a,[]),l.zb(1073742336,_t.a,_t.a,[]),l.zb(1073742336,It.a,It.a,[[2,J.g],l.D]),l.zb(1073742336,K.e,K.e,[]),l.zb(1073742336,K.d,K.d,[]),l.zb(1073742336,yt.i,yt.i,[]),l.zb(1073742336,c,c,[]),l.zb(1073742336,Tt.a,Tt.a,[]),l.zb(1073742336,h,h,[]),l.zb(1024,T.i,function(){return[[{path:"",component:S},{path:"play",component:_e},{path:"history",component:fn},{path:"settings",component:Bn},{path:"checkin/:id",component:Vn}]]},[]),l.zb(256,pt.a,{separatorKeyCodes:[Rt.f]},[]),l.zb(256,z.g,z.k,[]),l.zb(256,K.m,"XSRF-TOKEN",[]),l.zb(256,K.n,"X-XSRF-TOKEN",[])])})},wGJR:function(e,n,t){!function(e){"use strict";var n,t,l,r=function(e,n){for(var t in e)e.hasOwnProperty(t)&&n(t,e[t])},i=function(e){var n={};return r(e,function(t){!function(e,n,t){"function"!=typeof t?Object.defineProperty(e,n,Object.assign({},t)):e[n]=t}(n,t,e[t])}),n},a=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===t)return e.getAttribute(n)||e.hasAttribute(n);e.setAttribute(n,t)},o=["svg","path"],u=function(e){return o.includes(e)},s=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof n&&(t=n,n=null);var l=u(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n&&(u(e)?a(l,"class",n):l.className=n),r(t,function(e,n){a(l,e,n)}),l},c=function(e,n){return function(e,t){return void 0!==t?n.splice(t,0,e):n.push(e),e}},d=function(e,n){return function(t){return n.splice(n.indexOf(t),1),t.element.parentNode&&e.removeChild(t.element),t}},f=function(e,n,t,l){var r=t[0]||e.left,i=t[1]||e.top,a=r+e.width,o=i+e.height*(l[1]||1),u={element:Object.assign({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:r,top:i,right:a,bottom:o}};return n.filter(function(e){return!e.isRectIgnored()}).map(function(e){return e.rect}).forEach(function(e){p(u.inner,Object.assign({},e.inner)),p(u.outer,Object.assign({},e.outer))}),b(u.inner),u.outer.bottom+=u.element.marginBottom,u.outer.right+=u.element.marginRight,b(u.outer),u},p=function(e,n){n.top+=e.top,n.right+=e.left,n.bottom+=e.top,n.left+=e.left,n.bottom>e.bottom&&(e.bottom=n.bottom),n.right>e.right&&(e.right=n.right)},b=function(e){e.width=e.right-e.left,e.height=e.bottom-e.top},m=function(e){return"number"==typeof e},g=function(e){return e<.5?2*e*e:(4-2*e)*e-1},h={spring:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.stiffness,t=void 0===n?.5:n,l=e.damping,r=void 0===l?.75:l,a=e.mass,o=void 0===a?10:a,u=null,s=null,c=0,d=!1,f=i({interpolate:function(){if(!d)return m(u)&&m(s)?void(function(e,n,t){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-n)<l&&Math.abs(t)<l}(s+=c+=-(s-u)*t/o,u,c*=r)?(c=0,d=!0,f.onupdate(s=u),f.oncomplete(s)):f.onupdate(s)):(d=!0,void(c=0))},target:{set:function(e){if(m(e)&&!m(s)&&(s=e),null===u&&(u=e,s=e),s===(u=e)||void 0===u)return d=!0,c=0,f.onupdate(s),void f.oncomplete(s);d=!1},get:function(){return u}},resting:{get:function(){return d}},onupdate:function(e){},oncomplete:function(e){}});return f},tween:function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=t.duration,r=void 0===l?500:l,a=t.easing,o=void 0===a?g:a,u=t.delay,s=void 0===u?0:u,c=null,d=!0,f=!1,p=null,b=i({interpolate:function(t){d||null===p||(null===c&&(c=t),t-c<s||((e=t-c-s)<r?(n=e/r,b.onupdate((e>=0?o(f?1-n:n):0)*p)):(e=1,b.onupdate((n=f?0:1)*p),b.oncomplete(n*p),d=!0)))},target:{get:function(){return f?0:p},set:function(e){if(null===p)return p=e,b.onupdate(e),void b.oncomplete(e);e<p?(p=1,f=!0):(f=!1,p=e),d=!1,c=null}},resting:{get:function(){return d}},onupdate:function(e){},oncomplete:function(e){}});return b}},E=function(e,n,t){var l=e[n]&&"object"==typeof e[n][t]?e[n][t]:e[n]||e,r="string"==typeof l?l:l.type,i="object"==typeof l?Object.assign({},l):{};return h[r]?h[r](i):null},v=function(e,n,t){var l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(n=Array.isArray(n)?n:[n]).forEach(function(n){e.forEach(function(e){var r=e,i=function(){return t[e]},a=function(n){return t[e]=n};"object"==typeof e&&(r=e.key,i=e.getter||i,a=e.setter||a),n[r]&&!l||(n[r]={get:i,set:a})})})},_=function(e){return null!=e},I={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},y={styles:function(e){var n=e.mixinConfig,t=e.viewProps,l=e.viewInternalAPI,r=e.viewExternalAPI,i=e.view,a=Object.assign({},t),o={};v(n,[l,r],t);var u=function(){return i.rect?f(i.rect,i.childViews,[t.translateX||0,t.translateY||0],[t.scaleX||0,t.scaleY||0]):null};return l.rect={get:u},r.rect={get:u},n.forEach(function(e){t[e]=void 0===a[e]?I[e]:a[e]}),{write:function(){if(function(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!0;for(var t in n)if(n[t]!==e[t])return!0;return!1}(o,t))return function(e,n){var l=t.opacity,r=t.perspective,i=t.translateX,a=t.translateY,o=t.scaleX,u=t.scaleY,s=t.rotateX,c=t.rotateY,d=t.rotateZ,f=t.originX,p=t.originY,b=t.width,m=t.height,g="",h="";(_(f)||_(p))&&(h+="transform-origin: "+(f||0)+"px "+(p||0)+"px;"),_(r)&&(g+="perspective("+r+"px) "),(_(i)||_(a))&&(g+="translate3d("+(i||0)+"px, "+(a||0)+"px, 0) "),(_(o)||_(u))&&(g+="scale3d("+(_(o)?o:1)+", "+(_(u)?u:1)+", 1) "),_(d)&&(g+="rotateZ("+d+"rad) "),_(s)&&(g+="rotateX("+s+"rad) "),_(c)&&(g+="rotateY("+c+"rad) "),g.length&&(h+="transform:"+g+";"),_(l)&&(h+="opacity:"+l+";",0===l&&(h+="visibility:hidden;"),l<1&&(h+="pointer-events:none;")),_(m)&&(h+="height:"+m+"px;"),_(b)&&(h+="width:"+b+"px;");var E=e.elementCurrentStyle||"";h.length===E.length&&h===E||(e.setAttribute("style",h),e.elementCurrentStyle=h)}(i.element),Object.assign(o,Object.assign({},t)),!0},destroy:function(){}}},listeners:function(e){var n,t=e.viewExternalAPI,l=e.view,r=[],i=(n=l.element,function(e,t){n.addEventListener(e,t)}),a=function(e){return function(n,t){e.removeEventListener(n,t)}}(l.element);return t.on=function(e,n){r.push({type:e,fn:n}),i(e,n)},t.off=function(e,n){r.splice(r.findIndex(function(t){return t.type===e&&t.fn===n}),1),a(e,n)},{write:function(){return!0},destroy:function(){r.forEach(function(e){a(e.type,e.fn)})}}},animations:function(e){var n=e.mixinConfig,t=e.viewProps,l=e.viewInternalAPI,i=e.viewExternalAPI,a=Object.assign({},t),o=[];return r(n,function(e,n){var r=E(n);r&&(r.onupdate=function(n){t[e]=n},r.target=a[e],v([{key:e,setter:function(e){r.target!==e&&(r.target=e)},getter:function(){return t[e]}}],[l,i],t,!0),o.push(r))}),{write:function(e){var n=!0;return o.forEach(function(t){t.resting||(n=!1),t.interpolate(e)}),n},destroy:function(){}}},apis:function(e){v(e.mixinConfig,e.viewExternalAPI,e.viewProps)}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.layoutCalculated||(e.paddingTop=parseInt(t.paddingTop,10)||0,e.marginTop=parseInt(t.marginTop,10)||0,e.marginRight=parseInt(t.marginRight,10)||0,e.marginBottom=parseInt(t.marginBottom,10)||0,e.marginLeft=parseInt(t.marginLeft,10)||0,n.layoutCalculated=!0),e.left=n.offsetLeft||0,e.top=n.offsetTop||0,e.width=n.offsetWidth||0,e.height=n.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=n.scrollTop,e.hidden=null===n.offsetParent,e},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.tag,t=void 0===n?"div":n,l=e.name,r=void 0===l?null:l,a=e.attributes,o=void 0===a?{}:a,u=e.read,p=void 0===u?function(){}:u,b=e.write,m=void 0===b?function(){}:b,g=e.create,h=void 0===g?function(){}:g,E=e.destroy,v=void 0===E?function(){}:E,_=e.filterFrameActionsForChild,I=void 0===_?function(e,n){return n}:_,R=e.didCreateView,O=void 0===R?function(){}:R,w=e.didWriteView,S=void 0===w?function(){}:w,D=e.ignoreRect,C=void 0!==D&&D,L=e.ignoreRectUpdate,A=void 0!==L&&L,P=e.mixins,B=void 0===P?[]:P;return function(e){var n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=s(t,"filepond--"+r,o),u=window.getComputedStyle(a,null),b=T(),g=null,E=!1,_=[],R=[],w={},D={},L=[m],P=[p],M=[v],N=function(){return a},x=function(){return _.concat()},G=function(){return g||(g=f(b,_,[0,0],[1,1]))},k={element:{get:N},style:{get:function(){return u}},childViews:{get:x}},F=Object.assign({},k,{rect:{get:G},ref:{get:function(){return w}},is:function(e){return r===e},appendChild:(n=a,function(e,t){void 0!==t&&n.children[t]?n.insertBefore(e,n.children[t]):n.appendChild(e)}),createChildView:function(e){return function(n,t){return n(e,t)}}(e),linkView:function(e){return _.push(e),e},unlinkView:function(e){_.splice(_.indexOf(e),1)},appendChildView:c(0,_),removeChildView:d(a,_),registerWriter:function(e){return L.push(e)},registerReader:function(e){return P.push(e)},registerDestroyer:function(e){return M.push(e)},invalidateLayout:function(){return a.layoutCalculated=!1},dispatch:e.dispatch,query:e.query}),U={element:{get:N},childViews:{get:x},rect:{get:G},resting:{get:function(){return E}},isRectIgnored:function(){return C},_read:function(){g=null,_.forEach(function(e){return e._read()}),A&&b.width&&b.height||T(b,a,u);var e={root:q,props:l,rect:b};P.forEach(function(n){return n(e)})},_write:function(e,n,t){var r=0===n.length;return L.forEach(function(i){!1===i({props:l,root:q,actions:n,timestamp:e,shouldOptimize:t})&&(r=!1)}),R.forEach(function(n){!1===n.write(e)&&(r=!1)}),_.filter(function(e){return!!e.element.parentNode}).forEach(function(l){l._write(e,I(l,n),t)||(r=!1)}),_.forEach(function(l,i){l.element.parentNode||(q.appendChild(l.element,i),l._read(),l._write(e,I(l,n),t),r=!1)}),E=r,S({props:l,root:q,actions:n,timestamp:e}),r},_destroy:function(){R.forEach(function(e){return e.destroy()}),M.forEach(function(e){e({root:q,props:l})}),_.forEach(function(e){return e._destroy()})}},V=Object.assign({},k,{rect:{get:function(){return b}}});Object.keys(B).sort(function(e,n){return"styles"===e?1:"styles"===n?-1:0}).forEach(function(e){var n=y[e]({mixinConfig:B[e],viewProps:l,viewState:D,viewInternalAPI:F,viewExternalAPI:U,view:i(V)});n&&R.push(n)});var q=i(F);h({root:q,props:l});var z=a.children.length;return _.forEach(function(e,n){q.appendChild(e.element,z+n)}),O(q),i(U)}},O=function(e,n){return function(t){var l=t.root,r=t.props,i=t.actions,a=void 0===i?[]:i,o=t.timestamp,u=t.shouldOptimize;a.filter(function(n){return e[n.type]}).forEach(function(n){return e[n.type]({root:l,props:r,action:n.data,timestamp:o,shouldOptimize:u})}),n&&n({root:l,props:r,actions:a,timestamp:o,shouldOptimize:u})}},w=function(e,n){return n.parentNode.insertBefore(e,n)},S=function(e,n){return n.parentNode.insertBefore(e,n.nextSibling)},D=function(e){return Array.isArray(e)},C=function(e){return null==e},L=function(e){return e.trim()},A=function(e){return""+e},P=function(e){return"boolean"==typeof e},B=function(e){return P(e)?e:"true"===e},M=function(e){return"string"==typeof e},N=function(e){return m(e)?e:M(e)?A(e).replace(/[a-z]+/gi,""):0},x=function(e){return parseInt(N(e),10)},G=function(e){return parseFloat(N(e))},k=function(e){return m(e)&&isFinite(e)&&Math.floor(e)===e},F=function(e){if(k(e))return e;var n=A(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),1e3*x(n)*1e3):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),1e3*x(n)):x(n)},U=function(e){return"function"==typeof e},V={process:"POST",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},q=function(e){return"object"==typeof e&&null!==e},z=function(e){return D(e)?"array":function(e){return null===e}(e)?"null":k(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":function(e){return q(e)&&M(e.url)&&q(e.process)&&q(e.revert)&&q(e.restore)&&q(e.fetch)}(e)?"api":typeof e},j={array:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return C(e)?[]:D(e)?e:A(e).split(n).map(L).filter(function(e){return e.length})},boolean:B,int:function(e){return"bytes"===z(e)?F(e):x(e)},number:G,float:G,bytes:F,string:function(e){return U(e)?e:A(e)},function:function(e){return function(n){for(var t=self,l=e.split("."),r=null;r=l.shift();)if(!(t=t[r]))return null;return t}()},serverapi:function(e){return(t={}).url=M(n=e)?n:n.url||"",t.timeout=n.timeout?parseInt(n.timeout,10):0,r(V,function(e){t[e]=function(n,l,r,i){if(null===l)return null;if("function"==typeof l)return l;var a={url:"GET"===r?"?"+e+"=":"",method:r,headers:{},withCredentials:!1,timeout:t.timeout,onload:null,ondata:null,onerror:null};if(M(l))return a.url=l,a;if(Object.assign(a,l),M(a.headers)){var o=a.headers.split(/:(.+)/);a.headers={header:o[0],value:o[1]}}return a.withCredentials=B(a.withCredentials),a}(0,n[e],V[e])}),t.remove=n.remove||null,t;var n,t},object:function(e){try{return JSON.parse(e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'))}catch(n){return null}}},H=function(e,n,t){if(e===n)return e;var l=z(e);if(l!==t){var r=j[t](e);if(l=z(r),null===r)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+t+'"';e=r}return e},Y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(/(?=[A-Z])/).map(function(e){return e.toLowerCase()}).join(n)},X=function(e){return function(n,t,l){var i={};return r(e,function(e){var t=Y(e,"_").toUpperCase();i["SET_"+t]=function(r){try{l.options[e]=r.value}catch(i){}n("DID_SET_"+t,{value:l.options[e]})}}),i}},W=function(e){return function(n){var t={};return r(e,function(e){t["GET_"+Y(e,"_").toUpperCase()]=function(t){return n.options[e]}}),t}},J=function(){return Math.random().toString(36).substr(2,9)},$=function(e,n){return e.splice(n,1)},Z=function(){var e=[],n=function(n,t){$(e,e.findIndex(function(e){return e.event===n&&(e.cb===t||!t)}))};return{fire:function(n){for(var t=arguments.length,l=new Array(t>1?t-1:0),r=1;r<t;r++)l[r-1]=arguments[r];e.filter(function(e){return e.event===n}).map(function(e){return e.cb}).forEach(function(e){setTimeout(function(){e.apply(void 0,l)},0)})},on:function(n,t){e.push({event:n,cb:t})},onOnce:function(t,l){e.push({event:t,cb:function(){n(t,l),l.apply(void 0,arguments)}})},off:n}},K=function(e,n,t){Object.getOwnPropertyNames(e).filter(function(e){return!t.includes(e)}).forEach(function(t){return Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})},Q=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],ee=function(e){var n={};return K(e,n,Q),n},ne={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},te={INPUT:1,LIMBO:2,LOCAL:3},le=function(e){return/[^0-9]+/.exec(e)},re=function(){return le(1.1.toLocaleString())[0]},ie={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},ae=[],oe=function(e,n,t){return new Promise(function(l,r){var i=ae.filter(function(n){return n.key===e}).map(function(e){return e.cb});if(0!==i.length){var a=i.shift();i.reduce(function(e,n){return e.then(function(e){return n(e,t)})},a(n,t)).then(function(e){return l(e)}).catch(function(e){return r(e)})}else l(n)})},ue=function(e,n,t){return ae.filter(function(n){return n.key===e}).map(function(e){return e.cb(n,t)})},se=function(e,n){return ae.push({key:e,cb:n})},ce=function(){return Object.assign({},de)},de={id:[null,ie.STRING],name:["filepond",ie.STRING],disabled:[!1,ie.BOOLEAN],className:[null,ie.STRING],required:[!1,ie.BOOLEAN],captureMethod:[null,ie.STRING],allowDrop:[!0,ie.BOOLEAN],allowBrowse:[!0,ie.BOOLEAN],allowPaste:[!0,ie.BOOLEAN],allowMultiple:[!1,ie.BOOLEAN],allowReplace:[!0,ie.BOOLEAN],allowRevert:[!0,ie.BOOLEAN],forceRevert:[!1,ie.BOOLEAN],maxFiles:[null,ie.INT],checkValidity:[!1,ie.BOOLEAN],itemInsertLocationFreedom:[!0,ie.BOOLEAN],itemInsertLocation:["before",ie.STRING],itemInsertInterval:[75,ie.INT],dropOnPage:[!1,ie.BOOLEAN],dropOnElement:[!0,ie.BOOLEAN],dropValidation:[!1,ie.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],ie.ARRAY],instantUpload:[!0,ie.BOOLEAN],maxParallelUploads:[2,ie.INT],server:[null,ie.SERVER_API],labelDecimalSeparator:[re(),ie.STRING],labelThousandsSeparator:[(n=re(),t=1e3.toLocaleString(),l=1e3.toString(),t!==l?le(t)[0]:"."===n?",":"."),ie.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',ie.STRING],labelInvalidField:["Field contains invalid files",ie.STRING],labelFileWaitingForSize:["Waiting for size",ie.STRING],labelFileSizeNotAvailable:["Size not available",ie.STRING],labelFileCountSingular:["file in list",ie.STRING],labelFileCountPlural:["files in list",ie.STRING],labelFileLoading:["Loading",ie.STRING],labelFileAdded:["Added",ie.STRING],labelFileLoadError:["Error during load",ie.STRING],labelFileRemoved:["Removed",ie.STRING],labelFileRemoveError:["Error during remove",ie.STRING],labelFileProcessing:["Uploading",ie.STRING],labelFileProcessingComplete:["Upload complete",ie.STRING],labelFileProcessingAborted:["Upload cancelled",ie.STRING],labelFileProcessingError:["Error during upload",ie.STRING],labelFileProcessingRevertError:["Error during revert",ie.STRING],labelTapToCancel:["tap to cancel",ie.STRING],labelTapToRetry:["tap to retry",ie.STRING],labelTapToUndo:["tap to undo",ie.STRING],labelButtonRemoveItem:["Remove",ie.STRING],labelButtonAbortItemLoad:["Abort",ie.STRING],labelButtonRetryItemLoad:["Retry",ie.STRING],labelButtonAbortItemProcessing:["Cancel",ie.STRING],labelButtonUndoItemProcessing:["Undo",ie.STRING],labelButtonRetryItemProcessing:["Retry",ie.STRING],labelButtonProcessItem:["Upload",ie.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',ie.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',ie.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',ie.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',ie.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',ie.STRING],oninit:[null,ie.FUNCTION],onwarning:[null,ie.FUNCTION],onerror:[null,ie.FUNCTION],onactivatefile:[null,ie.FUNCTION],onaddfilestart:[null,ie.FUNCTION],onaddfileprogress:[null,ie.FUNCTION],onaddfile:[null,ie.FUNCTION],onprocessfilestart:[null,ie.FUNCTION],onprocessfileprogress:[null,ie.FUNCTION],onprocessfileabort:[null,ie.FUNCTION],onprocessfilerevert:[null,ie.FUNCTION],onprocessfile:[null,ie.FUNCTION],onprocessfiles:[null,ie.FUNCTION],onremovefile:[null,ie.FUNCTION],onpreparefile:[null,ie.FUNCTION],onupdatefiles:[null,ie.FUNCTION],beforeDropFile:[null,ie.FUNCTION],beforeAddFile:[null,ie.FUNCTION],beforeRemoveFile:[null,ie.FUNCTION],stylePanelLayout:[null,ie.STRING],stylePanelAspectRatio:[null,ie.STRING],styleItemPanelAspectRatio:[null,ie.STRING],styleButtonRemoveItemPosition:["left",ie.STRING],styleButtonProcessItemPosition:["right",ie.STRING],styleLoadIndicatorPosition:["right",ie.STRING],styleProgressIndicatorPosition:["right",ie.STRING],files:[[],ie.ARRAY]},fe=function(e,n){return C(n)?e[0]||null:k(n)?e[n]||null:("object"==typeof n&&(n=n.id),e.find(function(e){return e.id===n})||null)},pe=function(e){if(C(e))return e;if(/:/.test(e)){var n=e.split(":");return n[1]/n[0]}return parseFloat(e)},be=function(e){return e.filter(function(e){return!e.archived})},me={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},ge=[ne.LOAD_ERROR,ne.PROCESSING_ERROR,ne.PROCESSING_REVERT_ERROR],he=[ne.LOADING,ne.PROCESSING,ne.PROCESSING_QUEUED,ne.INIT],Ee=[ne.PROCESSING_COMPLETE],ve=function(e){return ge.includes(e.status)},_e=function(e){return he.includes(e.status)},Ie=function(e){return Ee.includes(e.status)},ye=function(e){return{GET_STATUS:function(){var n=be(e.items),t=me.ERROR,l=me.BUSY,r=me.IDLE,i=me.READY;return 0===n.length?me.EMPTY:n.some(ve)?t:n.some(_e)?l:n.some(Ie)?i:r},GET_ITEM:function(n){return fe(e.items,n)},GET_ACTIVE_ITEM:function(n){return fe(be(e.items),n)},GET_ACTIVE_ITEMS:function(n){return be(e.items)},GET_ITEMS:function(n){return e.items},GET_ITEM_NAME:function(n){var t=fe(e.items,n);return t?t.filename:null},GET_ITEM_SIZE:function(n){var t=fe(e.items,n);return t?t.fileSize:null},GET_STYLES:function(){return Object.keys(e.options).filter(function(e){return/^style/.test(e)}).map(function(n){return{name:n,value:e.options[n]}})},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(e.options.stylePanelLayout)?1:pe(e.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return e.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(n){return be(e.items).filter(function(e){return e.status===n})},GET_TOTAL_ITEMS:function(){return be(e.items).length},IS_ASYNC:function(){return q(e.options.server)&&(q(e.options.server.process)||U(e.options.server.process))}}},Te=function(e){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e)},Re=function(e){return e.split("/").pop().split("?").shift()},Oe=function(e){return e.split(".").pop()},we=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(n+e).slice(-n.length)},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+we(e.getMonth()+1,"00")+"-"+we(e.getDate(),"00")+"_"+we(e.getHours(),"00")+"-"+we(e.getMinutes(),"00")+"-"+we(e.getSeconds(),"00")},De=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=e.slice(0,e.size,"string"==typeof t?t:e.type);return r.lastModifiedDate=new Date,M(n)||(n=Se()),n&&null===l&&Oe(n)?r.name=n:(l=l||function(e){if("string"!=typeof e)return"";var n=e.split("/").pop();return/svg/.test(n)?"svg":/zip|compressed/.test(n)?"zip":/plain/.test(n)?"txt":/msword/.test(n)?"doc":/[a-z]+/.test(n)?"jpeg"===n?"jpg":n:""}(r.type),r.name=n+(l?"."+l:"")),r},Ce=function(e,n){var t=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(t){var l=new t;return l.append(e),l.getBlob(n)}return new Blob([e],{type:n})},Le=function(e){return(/^data:(.+);/.exec(e)||[])[1]||null},Ae=function(e){if(!/^content-disposition:/i.test(e))return null;var n=e.split(/filename=|filename\*=.+''/).splice(1).map(function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(e){return e.length});return n.length?decodeURI(n[n.length-1]):null},Pe=function(e){if(/content-length:/i.test(e)){var n=e.match(/[0-9]+/)[0];return n?parseInt(n,10):null}return null},Be=function(e){return/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null},Me=function(e){var n={source:null,name:null,size:null},t=e.split("\n"),l=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(l=(a=o.next()).done);l=!0){var u=a.value,s=Ae(u);if(s)n.name=s;else{var c=Pe(u);if(c)n.size=c;else{var d=Be(u);d&&(n.source=d)}}}}catch(f){r=!0,i=f}finally{try{l||null==o.return||o.return()}finally{if(r)throw i}}return n},Ne=function(e){return/GET|HEAD/.test(e)},xe=function(e,n,t){var l={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){r=!0,a.abort()}},r=!1,i=!1;t=Object.assign({method:"POST",headers:{},withCredentials:!1},t),n=encodeURI(n),Ne(t.method)&&e&&(n=""+n+encodeURIComponent("string"==typeof e?e:JSON.stringify(e)));var a=new XMLHttpRequest;return(Ne(t.method)?a:a.upload).onprogress=function(e){r||l.onprogress(e.lengthComputable,e.loaded,e.total)},a.onreadystatechange=function(){a.readyState<2||4===a.readyState&&0===a.status||i||(i=!0,l.onheaders(a))},a.onload=function(){a.status>=200&&a.status<300?l.onload(a):l.onerror(a)},a.onerror=function(){return l.onerror(a)},a.onabort=function(){r=!0,l.onabort()},a.ontimeout=function(){return l.ontimeout(a)},a.open(t.method,n,!0),k(t.timeout)&&(a.timeout=t.timeout),Object.keys(t.headers).forEach(function(e){a.setRequestHeader(e,t.headers[e])}),t.responseType&&(a.responseType=t.responseType),t.withCredentials&&(a.withCredentials=!0),a.send(e),l},Ge=function(e,n,t,l){return{type:e,code:n,body:t,headers:l}},ke=function(e){return function(n){e(Ge("error",0,"Timeout",n.getAllResponseHeaders()))}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;if("function"==typeof n)return n;if(!n||!M(n.url))return null;var t=n.onload||function(e){return e},l=n.onerror||function(e){return null};return function(r,i,a,o,u,s){var c=xe(r,e+n.url,Object.assign({},n,{responseType:"blob"}));return c.onload=function(e){var n=e.getAllResponseHeaders(),l=Me(n).name||Re(r);i(Ge("load",e.status,De(t(e.response),l),n))},c.onerror=function(e){a(Ge("error",e.status,l(e.response)||e.statusText,e.getAllResponseHeaders()))},c.onheaders=function(e){s(Ge("headers",e.status,null,e.getAllResponseHeaders()))},c.ontimeout=ke(a),c.onprogress=o,c.onabort=u,c}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;if("function"==typeof n)return n;if(!n||!M(n.url))return function(e,n){return n()};var t=n.onload||function(e){return e},l=n.onerror||function(e){return null};return function(r,i,a){var o=xe(r,e+n.url,n);return o.onload=function(e){i(Ge("load",e.status,t(e.response),e.getAllResponseHeaders()))},o.onerror=function(e){a(Ge("error",e.status,l(e.response)||e.statusText,e.getAllResponseHeaders()))},o.ontimeout=ke(a),o}},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+Math.random()*(n-e)},qe=function(e){return e.substr(0,e.lastIndexOf("."))||e},ze=function(e){return e instanceof File||e instanceof Blob&&e.name},je=function(e,n){var t=function(e,n){return C(n)?0:M(n)?e.findIndex(function(e){return e.id===n}):-1}(e,n);if(!(t<0))return e[t]||null},He=function(e,n,t,l,r,i){var a=xe(null,e,{method:"GET",responseType:"blob"});return a.onload=function(t){var l=t.getAllResponseHeaders(),r=Me(l).name||Re(e);n(Ge("load",t.status,De(t.response,r),l))},a.onerror=function(e){t(Ge("error",e.status,e.statusText,e.getAllResponseHeaders()))},a.onheaders=function(e){i(Ge("headers",e.status,null,e.getAllResponseHeaders()))},a.ontimeout=ke(t),a.onprogress=l,a.onabort=r,a},Ye=function(e){return 0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},Xe=function(e){return function(){return U(e)?e.apply(void 0,arguments):e}},We=function(e,n){clearTimeout(n.listUpdateTimeout),n.listUpdateTimeout=setTimeout(function(){e("DID_UPDATE_ITEMS",{items:be(n.items)})},0)},Je=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),l=1;l<n;l++)t[l-1]=arguments[l];return new Promise(function(n){if(!e)return n(!0);var l=e.apply(void 0,t);return null==l?n(!0):"boolean"==typeof l?n(l):void("function"==typeof l.then&&l.then(n))})},$e=function(e,n){e.items.sort(function(e,t){return n(ee(e),ee(t))})},Ze=function(e,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=t.success,r=void 0===l?function(){}:l,i=t.failure,a=void 0===i?function(){}:i,o=fe(e.items,t.query);o?n(o,r,a):a({error:Ge("error",0,"Item not found"),file:null})}},Ke=function(e,n,t){return{ABORT_ALL:function(){be(t.items).forEach(function(e){e.freeze(),e.abortLoad(),e.abortProcessing()})},DID_SET_FILES:function(n){var l=n.value,r=(void 0===l?[]:l).map(function(e){return{source:e.source?e.source:e,options:e.options}}),i=be(t.items);i.forEach(function(n){r.find(function(e){return e.source===n.source||e.source===n.file})||e("REMOVE_ITEM",{query:n})}),i=be(t.items),r.forEach(function(n,t){i.find(function(e){return e.source===n.source||e.file===n.source})||e("ADD_ITEM",Object.assign({},n,{interactionMethod:5,index:t}))})},DID_UPDATE_ITEM_METADATA:function(l){var r=l.id,i=je(t.items,r);if(n("IS_ASYNC")){var a,o=function(){setTimeout(function(){e("REQUEST_ITEM_PROCESSING",{query:r})},32)};return i.status===ne.PROCESSING_COMPLETE?(a=t.options.instantUpload,void i.revert(Ue(t.options.server.url,t.options.server.revert),n("GET_FORCE_REVERT")).then(a?o:function(){}).catch(function(){})):i.status===ne.PROCESSING?function(e){i.abortProcessing().then(e?o:function(){})}(t.options.instantUpload):void(t.options.instantUpload&&o())}oe("SHOULD_PREPARE_OUTPUT",!1,{item:i,query:n}).then(function(n){n&&e("REQUEST_PREPARE_OUTPUT",{query:r,item:i,ready:function(n){e("DID_PREPARE_OUTPUT",{id:r,file:n})}},!0)})},SORT:function(e){$e(t,e.compare)},ADD_ITEMS:function(t){var l=t.items,r=t.index,i=t.interactionMethod,a=t.success,o=void 0===a?function(){}:a,u=t.failure,s=void 0===u?function(){}:u,c=r;if(-1===r||void 0===r){var d=n("GET_ITEM_INSERT_LOCATION"),f=n("GET_TOTAL_ITEMS");c="before"===d?0:f}var p=n("GET_IGNORED_FILES"),b=l.filter(function(e){return ze(e)?!p.includes(e.name.toLowerCase()):!C(e)}).map(function(n){return new Promise(function(t,l){e("ADD_ITEM",{interactionMethod:i,source:n.source||n,success:t,failure:l,index:c++,options:n.options||{}})})});Promise.all(b).then(o).catch(s)},ADD_ITEM:function(l){var r=l.source,a=l.index,o=void 0===a?-1:a,u=l.interactionMethod,s=l.success,c=void 0===s?function(){}:s,d=l.failure,f=void 0===d?function(){}:d,p=l.options,b=void 0===p?{}:p;if(C(r))f({error:Ge("error",0,"No source"),file:null});else if(!ze(r)||!t.options.ignoredFiles.includes(r.name.toLowerCase())){if(!function(e){var n=be(e.items).length;if(!e.options.allowMultiple)return 0===n;var t=e.options.maxFiles;return null===t||n<t}(t)){if(t.options.allowMultiple||!t.options.allowMultiple&&!t.options.allowReplace){var m=Ge("warning",0,"Max files");return e("DID_THROW_MAX_FILES",{source:r,error:m}),void f({error:m,file:null})}var g=be(t.items)[0];if(g.status===ne.PROCESSING_COMPLETE||g.status===ne.PROCESSING_REVERT_ERROR){var h=n("GET_FORCE_REVERT");if(g.revert(Ue(t.options.server.url,t.options.server.revert),h).then(function(){h&&e("ADD_ITEM",{source:r,index:o,interactionMethod:u,success:c,failure:f,options:b})}).catch(function(){}),h)return}e("REMOVE_ITEM",{query:g.id})}var E="local"===b.type?te.LOCAL:"limbo"===b.type?te.LIMBO:te.INPUT,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=J(),r={archived:!1,frozen:!1,released:!1,source:null,file:t,serverFileReference:n,status:n?ne.PROCESSING_COMPLETE:ne.INIT,activeLoader:null,activeProcessor:null},a=null,o={},u=function(e){return r.status=e},s=function(e){if(!r.released&&!r.frozen){for(var n=arguments.length,t=new Array(n>1?n-1:0),l=1;l<n;l++)t[l-1]=arguments[l];d.fire.apply(d,[e].concat(t))}},c=function(e,n,t){var l=e.split("."),r=l[0],i=l.pop(),a=o;l.forEach(function(e){return a=a[e]}),JSON.stringify(a[i])!==JSON.stringify(n)&&(a[i]=n,t||s("metadata-update",{key:r,value:o[r]}))},d=Object.assign({id:{get:function(){return l}},origin:{get:function(){return e}},serverId:{get:function(){return r.serverFileReference}},status:{get:function(){return r.status}},filename:{get:function(){return r.file.name}},filenameWithoutExtension:{get:function(){return qe(r.file.name)}},fileExtension:{get:function(){return Oe(r.file.name)}},fileType:{get:function(){return r.file.type}},fileSize:{get:function(){return r.file.size}},file:{get:function(){return r.file}},source:{get:function(){return r.source}},getMetadata:function(e){return function e(n){if(!q(n))return n;var t=D(n)?[]:{};for(var l in n)if(n.hasOwnProperty(l)){var r=n[l];t[l]=r&&q(r)?e(r):r}return t}(e?o[e]:o)},setMetadata:function(e,n,t){if(q(e)){var l=e;return Object.keys(l).forEach(function(e){c(e,l[e],n)}),e}return c(e,n,t),n},extend:function(e,n){return f[e]=n},abortLoad:function(){r.activeLoader?r.activeLoader.abort():(u(ne.INIT),s("load-abort"))},retryLoad:function(){r.activeLoader&&r.activeLoader.load()},requestProcessing:function(){u(ne.PROCESSING_QUEUED)},abortProcessing:function(){return new Promise(function(e){if(!r.activeProcessor)return u(ne.IDLE),s("process-abort"),void e();a=function(){e()},r.activeProcessor.abort()})},load:function(n,t,l){r.source=n,r.file?s("load-skip"):(r.file=function(e){var n=[e.name,e.size,e.type];return e instanceof Blob||Te(e)?n[0]=e.name||Se():Te(e)?(n[1]=e.length,n[2]=Le(e)):M(e)&&(n[0]=Re(e),n[1]=0,n[2]="application/octet-stream"),{name:n[0],size:n[1],type:n[2]}}(n),t.on("init",function(){s("load-init")}),t.on("meta",function(n){r.file.size=n.size,r.file.filename=n.filename,n.source&&(e=te.LIMBO,r.serverFileReference=n.source,r.status=ne.PROCESSING_COMPLETE),s("load-meta")}),t.on("progress",function(e){u(ne.LOADING),s("load-progress",e)}),t.on("error",function(e){u(ne.LOAD_ERROR),s("load-request-error",e)}),t.on("abort",function(){u(ne.INIT),s("load-abort")}),t.on("load",function(n){r.activeLoader=null;var t=function(n){r.file=ze(n)?n:r.file,u(e===te.LIMBO&&r.serverFileReference?ne.PROCESSING_COMPLETE:ne.IDLE),s("load")};r.serverFileReference?t(n):l(n,t,function(e){r.file=n,s("load-meta"),u(ne.LOAD_ERROR),s("load-file-error",e)})}),t.setSource(n),r.activeLoader=t,t.load())},process:function e(n,t){u(ne.PROCESSING),a=null,r.file instanceof Blob?(n.on("load",function(e){r.serverFileReference=e}),n.on("load-perceived",function(e){r.activeProcessor=null,r.serverFileReference=e,u(ne.PROCESSING_COMPLETE),s("process-complete",e)}),n.on("start",function(){s("process-start")}),n.on("error",function(e){r.activeProcessor=null,u(ne.PROCESSING_ERROR),s("process-error",e)}),n.on("abort",function(e){r.activeProcessor=null,r.serverFileReference=e,u(ne.IDLE),s("process-abort"),a&&a()}),n.on("progress",function(e){s("process-progress",e)}),t(r.file,function(e){r.archived||n.process(e,Object.assign({},o))},function(e){}),r.activeProcessor=n):d.on("load",function(){e(n,t)})},revert:function(e,n){return new Promise(function(t,l){null!==r.serverFileReference?(e(r.serverFileReference,function(){r.serverFileReference=null,t()},function(e){n?(u(ne.PROCESSING_REVERT_ERROR),s("process-revert-error"),l(e)):t()}),u(ne.IDLE),s("process-revert")):t()})}},Z(),{freeze:function(){return r.frozen=!0},release:function(){return r.released=!0},released:{get:function(){return r.released}},archive:function(){return r.archived=!0},archived:{get:function(){return r.archived}}}),f=i(d);return f}(E,E===te.INPUT?null:r,b.file);Object.keys(b.metadata||{}).forEach(function(e){v.setMetadata(e,b.metadata[e])}),ue("DID_CREATE_ITEM",v,{query:n,dispatch:e});var _=n("GET_ITEM_INSERT_LOCATION");t.options.itemInsertLocationFreedom||(o="before"===_?-1:t.items.length),function(e,n,t){C(n)||(void 0===t?e.push(n):function(n,t,l){e.splice(t,0,l)}(0,t=Math.max(Math.min(e.length,t),0),n))}(t.items,v,o),U(_)&&r&&$e(t,_);var I=v.id;v.on("load-init",function(){e("DID_START_ITEM_LOAD",{id:I})}),v.on("load-meta",function(){e("DID_UPDATE_ITEM_META",{id:I})}),v.on("load-progress",function(n){e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:I,progress:n})}),v.on("load-request-error",function(n){var l=Xe(t.options.labelFileLoadError)(n);if(n.code>=400&&n.code<500)return e("DID_THROW_ITEM_INVALID",{id:I,error:n,status:{main:l,sub:n.code+" ("+n.body+")"}}),void f({error:n,file:ee(v)});e("DID_THROW_ITEM_LOAD_ERROR",{id:I,error:n,status:{main:l,sub:t.options.labelTapToRetry}})}),v.on("load-file-error",function(n){e("DID_THROW_ITEM_INVALID",{id:I,error:n.status,status:n.status})}),v.on("load-abort",function(){e("REMOVE_ITEM",{query:I})}),v.on("load-skip",function(){e("COMPLETE_LOAD_ITEM",{query:I,item:v,data:{source:r,success:c}})}),v.on("load",function(){var l=function(l){l?(v.on("metadata-update",function(n){e("DID_UPDATE_ITEM_METADATA",{id:I,change:n})}),oe("SHOULD_PREPARE_OUTPUT",!1,{item:v,query:n}).then(function(n){var l=function(){e("COMPLETE_LOAD_ITEM",{query:I,item:v,data:{source:r,success:c}}),We(e,t)};n?e("REQUEST_PREPARE_OUTPUT",{query:I,item:v,ready:function(n){e("DID_PREPARE_OUTPUT",{id:I,file:n}),l()}},!0):l()})):e("REMOVE_ITEM",{query:I})};oe("DID_LOAD_ITEM",v,{query:n,dispatch:e}).then(function(){Je(n("GET_BEFORE_ADD_FILE"),ee(v)).then(l)}).catch(function(){l(!1)})}),v.on("process-start",function(){e("DID_START_ITEM_PROCESSING",{id:I})}),v.on("process-progress",function(n){e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:I,progress:n})}),v.on("process-error",function(n){e("DID_THROW_ITEM_PROCESSING_ERROR",{id:I,error:n,status:{main:Xe(t.options.labelFileProcessingError)(n),sub:t.options.labelTapToRetry}})}),v.on("process-revert-error",function(n){e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:I,error:n,status:{main:Xe(t.options.labelFileProcessingRevertError)(n),sub:t.options.labelTapToRetry}})}),v.on("process-complete",function(n){e("DID_COMPLETE_ITEM_PROCESSING",{id:I,error:null,serverFileReference:n})}),v.on("process-abort",function(){e("DID_ABORT_ITEM_PROCESSING",{id:I})}),v.on("process-revert",function(){e("DID_REVERT_ITEM_PROCESSING",{id:I})}),e("DID_ADD_ITEM",{id:I,index:o,interactionMethod:u}),We(e,t);var y=t.options.server||{},T=y.url,R=y.load,O=y.restore,w=y.fetch;v.load(r,function(e){var n={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},t=Object.assign({},Z(),{setSource:function(e){return n.source=e},getProgress:function(){return n.progress},abort:function(){n.request&&n.request.abort()},load:function(){var l,r,i,a=n.source;t.fire("init",a),a instanceof File?t.fire("load",a):a instanceof Blob?t.fire("load",De(a,a.name)):Te(a)?t.fire("load",De((i=Le(r=a),function(e,n){for(var t=new ArrayBuffer(e.length),l=new Uint8Array(t),r=0;r<e.length;r++)l[r]=e.charCodeAt(r);return Ce(t,n)}(function(e){return atob(function(e){return e.split(",")[1].replace(/\s/g,"")}(e))}(r),i)),void 0,null,void 0)):(l=a,e?(n.timestamp=Date.now(),n.request=e(l,function(e){n.duration=Date.now()-n.timestamp,n.complete=!0,e instanceof Blob&&(e=De(e,Re(l))),t.fire("load",e instanceof Blob?e:e.body)},function(e){t.fire("error","string"==typeof e?{type:"error",code:0,body:e}:e)},function(e,l,r){r&&(n.size=r),n.duration=Date.now()-n.timestamp,e?(n.progress=l/r,t.fire("progress",n.progress)):n.progress=null},function(){t.fire("abort")},function(e){var l=Me("string"==typeof e?e:e.headers);t.fire("meta",{size:n.size||l.size,filename:l.name,source:l.source})})):t.fire("error",{type:"error",body:"Can't load URL",code:400}))}});return t}(E===te.INPUT?M(r)&&function(e){return(e.indexOf(":")>-1||e.indexOf("//")>-1)&&Ye(location.href)!==Ye(e)}(r)?Fe(T,w):He:Fe(T,E===te.LIMBO?O:R)),function(e,t,l){oe("LOAD_FILE",e,{query:n}).then(t).catch(l)})}},REQUEST_PREPARE_OUTPUT:function(e){var t=e.item,l=e.ready;t.archived||oe("PREPARE_OUTPUT",t.file,{query:n,item:t}).then(function(e){oe("COMPLETE_PREPARE_OUTPUT",e,{query:n,item:t}).then(function(e){t.archived||l(e)})})},COMPLETE_LOAD_ITEM:function(l){var r=l.item,i=l.data,a=i.success,o=i.source,u=n("GET_ITEM_INSERT_LOCATION");U(u)&&o&&$e(t,u),e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===te.INPUT?null:o}),a(ee(r)),r.origin!==te.LOCAL?r.origin!==te.LIMBO?n("IS_ASYNC")&&t.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:r.id}):e("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:o}):e("DID_LOAD_LOCAL_ITEM",{id:r.id})},RETRY_ITEM_LOAD:Ze(t,function(e){e.retryLoad()}),REQUEST_ITEM_PROCESSING:Ze(t,function(l,r,i){if(l.status===ne.IDLE||l.status===ne.PROCESSING_ERROR)l.status!==ne.PROCESSING_QUEUED&&(l.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:l.id}),e("PROCESS_ITEM",{query:l,success:r,failure:i},!0));else{var a=function(){setTimeout(function(){e("REQUEST_ITEM_PROCESSING",{query:l,success:r,failure:i})},32)};l.status===ne.PROCESSING_COMPLETE||l.status===ne.PROCESSING_REVERT_ERROR?l.revert(Ue(t.options.server.url,t.options.server.revert),n("GET_FORCE_REVERT")).then(a).catch(function(){}):l.status===ne.PROCESSING&&l.abortProcessing().then(a)}}),PROCESS_ITEM:Ze(t,function(l,r,i){var a=n("GET_MAX_PARALLEL_UPLOADS");if(n("GET_ITEMS_BY_STATUS",ne.PROCESSING).length!==a){if(l.status!==ne.PROCESSING){var o=function n(){var l=t.processingQueue.shift();if(l){var r=l.id,i=l.success,a=l.failure,o=fe(t.items,r);o&&!o.archived?e("PROCESS_ITEM",{query:r,success:i,failure:a},!0):n()}};l.onOnce("process-complete",function(){r(ee(l)),o(),n("GET_ITEMS_BY_STATUS",ne.PROCESSING_COMPLETE).length===t.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),l.onOnce("process-error",function(e){i({error:e,file:ee(l)}),o()}),l.process(function(e){var n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},t=function(){n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort(),n.complete=!0)},l=Object.assign({},Z(),{process:function(t,r){var i=function(){0!==n.duration&&null!==n.progress&&l.fire("progress",l.getProgress())},a=function(){n.complete=!0,l.fire("load-perceived",n.response.body)};l.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,r=null,i=Date.now();return function a(){var o=Date.now()-i,u=Ve(t,l);o+u>n&&(u=o+u-n);var s=o/n;s>=1?e(1):(e(s),r=setTimeout(a,u))}(),{clear:function(){clearTimeout(r)}}}(function(e){n.perceivedProgress=e,n.perceivedDuration=Date.now()-n.timestamp,i(),n.response&&1===n.perceivedProgress&&!n.complete&&a()},Ve(750,1500)),n.request=e(t,r,function(e){n.response=q(e)?e:{type:"load",code:200,body:""+e,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,l.fire("load",n.response.body),1===n.perceivedProgress&&a()},function(e){n.perceivedPerformanceUpdater.clear(),l.fire("error",q(e)?e:{type:"error",code:0,body:""+e})},function(e,t,l){n.duration=Date.now()-n.timestamp,n.progress=e?t/l:null,i()},function(){n.perceivedPerformanceUpdater.clear(),l.fire("abort",n.response?n.response.body:null)})},abort:t,getProgress:function(){return n.progress?Math.min(n.progress,n.perceivedProgress):null},getDuration:function(){return Math.min(n.duration,n.perceivedDuration)},reset:function(){t(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null}});return l}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return"function"==typeof n?function(){for(var e=arguments.length,l=new Array(e),r=0;r<e;r++)l[r]=arguments[r];return n.apply(void 0,[t].concat(l))}:n&&M(n.url)?function(l,r,i,a,o,u){var s=n.ondata||function(e){return e},c=n.onload||function(e){return e},d=n.onerror||function(e){return null};if(l){var f=new FormData;q(r)&&f.append(t,JSON.stringify(r)),(l instanceof Blob?[{name:null,file:l}]:l).forEach(function(e){f.append(t,e.file,null===e.name?e.file.name:""+e.name+e.file.name)});var p=xe(s(f),e+n.url,n);return p.onload=function(e){i(Ge("load",e.status,c(e.response),e.getAllResponseHeaders()))},p.onerror=function(e){a(Ge("error",e.status,d(e.response)||e.statusText,e.getAllResponseHeaders()))},p.ontimeout=ke(a),p.onprogress=o,p.onabort=u,p}}:null}(t.options.server.url,t.options.server.process,t.options.name)),function(t,r,i){oe("PREPARE_OUTPUT",t,{query:n,item:l}).then(function(n){e("DID_PREPARE_OUTPUT",{id:l.id,file:n}),r(n)}).catch(i)})}}else t.processingQueue.push({id:l.id,success:r,failure:i})}),RETRY_ITEM_PROCESSING:Ze(t,function(n){e("REQUEST_ITEM_PROCESSING",{query:n})}),REQUEST_REMOVE_ITEM:Ze(t,function(t){Je(n("GET_BEFORE_REMOVE_FILE"),ee(t)).then(function(n){n&&e("REMOVE_ITEM",{query:t})})}),RELEASE_ITEM:Ze(t,function(e){e.release()}),REMOVE_ITEM:Ze(t,function(n,l){var r=function(){var r=n.id;je(t.items,r).archive(),e("DID_REMOVE_ITEM",{error:null,id:r,item:n}),We(e,t),l(ee(n))},i=t.options.server;n.origin===te.LOCAL&&i&&U(i.remove)?(e("DID_START_ITEM_REMOVE",{id:n.id}),i.remove(n.source,function(){return r()},function(l){e("DID_THROW_ITEM_REMOVE_ERROR",{id:n.id,error:Ge("error",0,l,null),status:{main:Xe(t.options.labelFileRemoveError)(l),sub:t.options.labelTapToRetry}})})):r()}),ABORT_ITEM_LOAD:Ze(t,function(e){e.abortLoad()}),ABORT_ITEM_PROCESSING:Ze(t,function(n){n.serverId?e("REVERT_ITEM_PROCESSING",{id:n.id}):n.abortProcessing().then(function(){t.options.instantUpload&&e("REMOVE_ITEM",{query:n.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Ze(t,function(l){if(t.options.instantUpload){var r=function(n){n&&e("REVERT_ITEM_PROCESSING",{query:l})},i=n("GET_BEFORE_REMOVE_FILE");if(!i)return r(!0);var a=i(ee(l));return null==a?r(!0):"boolean"==typeof a?r(a):void("function"==typeof a.then&&a.then(r))}e("REVERT_ITEM_PROCESSING",{query:l})}),REVERT_ITEM_PROCESSING:Ze(t,function(l){l.revert(Ue(t.options.server.url,t.options.server.revert),n("GET_FORCE_REVERT")).then(function(){(t.options.instantUpload||function(e){return!ze(e.file)}(l))&&e("REMOVE_ITEM",{query:l.id})}).catch(function(){})}),SET_OPTIONS:function(n){r(n.options,function(n,t){e("SET_"+Y(n,"_").toUpperCase(),{value:t})})}}},Qe=function(e){return e},en=function(e){return document.createElement(e)},nn=function(e,n){var t=e.childNodes[0];t?n!==t.nodeValue&&(t.nodeValue=n):(t=document.createTextNode(n),e.appendChild(t))},tn=function(e,n,t,l){var r=(l%360-90)*Math.PI/180;return{x:e+t*Math.cos(r),y:n+t*Math.sin(r)}},ln=R({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(e){var n=e.root,t=e.props;t.spin=!1,t.progress=0,t.opacity=0;var l=s("svg");n.ref.path=s("path",{"stroke-width":2,"stroke-linecap":"round"}),l.appendChild(n.ref.path),n.ref.svg=l,n.appendChild(l)},write:function(e){var n,t,l,r=e.root,i=e.props;if(0!==i.opacity){i.align&&(r.element.dataset.align=i.align);var o=parseInt(a(r.ref.path,"stroke-width"),10),u=.5*r.rect.element.width,s=0,c=0;i.spin?(s=0,c=.5):(s=0,c=i.progress);var d=(l=1,(t=c)>(n=s)&&t-n<=.5&&(l=0),n>t&&n-t>=.5&&(l=0),function(e,n,t,l,r,i){var a=tn(e,n,t,r),o=tn(e,n,t,l);return["M",a.x,a.y,"A",t,t,0,i,0,o.x,o.y].join(" ")}(u,u,u-o,360*Math.min(.9999,n),360*Math.min(.9999,t),l));a(r.ref.path,"d",d),a(r.ref.path,"stroke-opacity",i.spin||i.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),rn=R({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(e){var n=e.props;e.root.element.innerHTML=(n.icon||"")+"<span>"+n.label+"</span>",n.isDisabled=!1},write:function(e){var n=e.root,t=e.props,l=t.isDisabled,r=n.query("GET_DISABLED")||0===t.opacity;r&&!l?(t.isDisabled=!0,a(n.element,"disabled","disabled")):!r&&l&&(t.isDisabled=!1,n.element.removeAttribute("disabled"))}}),an=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return(e=Math.round(Math.abs(e)))<1e3?e+" bytes":e<un?Math.floor(e/on)+" KB":e<sn?cn(e/un,1,n)+" MB":cn(e/sn,2,n)+" GB"},on=1e3,un=1e6,sn=1e9,cn=function(e,n,t){return e.toFixed(n).split(".").filter(function(e){return"0"!==e}).join(t)},dn=function(e){var n=e.root,t=e.props;nn(n.ref.fileSize,an(n.query("GET_ITEM_SIZE",t.id))),nn(n.ref.fileName,Qe(n.query("GET_ITEM_NAME",t.id)))},fn=function(e){var n=e.root;k(n.query("GET_ITEM_SIZE",e.props.id))||nn(n.ref.fileSize,n.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},pn=R({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:O({DID_LOAD_ITEM:dn,DID_UPDATE_ITEM_META:dn,DID_THROW_ITEM_LOAD_ERROR:fn,DID_THROW_ITEM_INVALID:fn}),didCreateView:function(e){ue("CREATE_VIEW",Object.assign({},e,{view:e}))},create:function(e){var n=e.root,t=e.props,l=en("span");l.className="filepond--file-info-main",a(l,"aria-hidden","true"),n.appendChild(l),n.ref.fileName=l;var r=en("span");r.className="filepond--file-info-sub",n.appendChild(r),n.ref.fileSize=r,nn(r,n.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),nn(l,Qe(n.query("GET_ITEM_NAME",t.id)))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),bn=function(e){return Math.round(100*e)},mn=function(e){var n=e.root,t=e.action,l=null===t.progress?n.query("GET_LABEL_FILE_LOADING"):n.query("GET_LABEL_FILE_LOADING")+" "+bn(t.progress)+"%";nn(n.ref.main,l),nn(n.ref.sub,n.query("GET_LABEL_TAP_TO_CANCEL"))},gn=function(e){var n=e.root;nn(n.ref.main,""),nn(n.ref.sub,"")},hn=function(e){var n=e.root,t=e.action;nn(n.ref.main,t.status.main),nn(n.ref.sub,t.status.sub)},En=R({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:O({DID_LOAD_ITEM:gn,DID_REVERT_ITEM_PROCESSING:gn,DID_REQUEST_ITEM_PROCESSING:function(e){var n=e.root;nn(n.ref.main,n.query("GET_LABEL_FILE_PROCESSING")),nn(n.ref.sub,n.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(e){var n=e.root;nn(n.ref.main,n.query("GET_LABEL_FILE_PROCESSING_ABORTED")),nn(n.ref.sub,n.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(e){var n=e.root;nn(n.ref.main,n.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),nn(n.ref.sub,n.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var n=e.root,t=e.action,l=null===t.progress?n.query("GET_LABEL_FILE_PROCESSING"):n.query("GET_LABEL_FILE_PROCESSING")+" "+bn(t.progress)+"%";nn(n.ref.main,l),nn(n.ref.sub,n.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:mn,DID_THROW_ITEM_LOAD_ERROR:hn,DID_THROW_ITEM_INVALID:hn,DID_THROW_ITEM_PROCESSING_ERROR:hn,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:hn,DID_THROW_ITEM_REMOVE_ERROR:hn}),didCreateView:function(e){ue("CREATE_VIEW",Object.assign({},e,{view:e}))},create:function(e){var n=e.root,t=en("span");t.className="filepond--file-status-main",n.appendChild(t),n.ref.main=t;var l=en("span");l.className="filepond--file-status-sub",n.appendChild(l),n.ref.sub=l,mn({root:n,action:{progress:null}})},mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),vn={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},_n=[];r(vn,function(e){_n.push(e)});var In,yn=function(e){var n=e.ref.buttonRemoveItem.rect.element;return n.hidden?null:n.width+n.left},Tn=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.height/4)},Rn=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.left/2)},On=function(e){return e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},wn={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Sn={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:yn},status:{translateX:yn}},Dn={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Cn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:yn},status:{translateX:yn,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:yn},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:On},info:{translateX:yn},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:On},buttonRemoveItem:{opacity:1},info:{translateX:yn},status:{opacity:1,translateX:yn}},DID_LOAD_ITEM:Sn,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:yn},status:{translateX:yn}},DID_START_ITEM_PROCESSING:Dn,DID_REQUEST_ITEM_PROCESSING:Dn,DID_UPDATE_ITEM_PROCESS_PROGRESS:Dn,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:yn}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:yn},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Sn},Ln=R({create:function(e){var n=e.root;n.element.innerHTML=n.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),An=O({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(e){e.root.ref.buttonAbortItemProcessing.label=e.action.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(e){e.root.ref.buttonAbortItemLoad.label=e.action.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(e){e.root.ref.buttonAbortItemRemoval.label=e.action.value},DID_REQUEST_ITEM_PROCESSING:function(e){var n=e.root;n.ref.processProgressIndicator.spin=!0,n.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(e){var n=e.root;n.ref.loadProgressIndicator.spin=!0,n.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(e){var n=e.root;n.ref.processProgressIndicator.spin=!0,n.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(e){var n=e.root,t=e.action;n.ref.loadProgressIndicator.spin=!1,n.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var n=e.root,t=e.action;n.ref.processProgressIndicator.spin=!1,n.ref.processProgressIndicator.progress=t.progress}}),Pn=R({create:function(e){var n=e.root,t=e.props.id,l=n.query("GET_ALLOW_REVERT"),i=n.query("GET_INSTANT_UPLOAD"),a=n.query("IS_ASYNC"),o=a?_n.concat():_n.filter(function(e){return!/Process/.test(e)});if(a&&!l){o.splice(-1,1);var u=Cn.DID_COMPLETE_ITEM_PROCESSING;u.info.translateX=Rn,u.info.translateY=Tn,u.status.translateY=Tn,u.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}i&&l&&(vn.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",vn.RevertItemProcessing.icon="GET_ICON_REMOVE"),r(vn,function(e,l){var r=n.createChildView(rn,{label:n.query(l.label),icon:n.query(l.icon),opacity:0});o.includes(e)&&n.appendChildView(r),r.element.dataset.align=n.query("GET_STYLE_"+l.align),r.element.classList.add(l.className),r.on("click",function(e){e.stopPropagation(),n.dispatch(l.action,{query:t})}),n.ref["button"+e]=r}),n.ref.info=n.appendChildView(n.createChildView(pn,{id:t})),n.ref.status=n.appendChildView(n.createChildView(En,{id:t})),n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(Ln)),n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION");var s=n.appendChildView(n.createChildView(ln,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));s.element.classList.add("filepond--load-indicator"),n.ref.loadProgressIndicator=s;var c=n.appendChildView(n.createChildView(ln,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));c.element.classList.add("filepond--process-indicator"),n.ref.processProgressIndicator=c,n.ref.activeStyles=[]},write:function(e){var n=e.root,t=e.actions;An({root:n,actions:t,props:e.props});var l=t.concat().filter(function(e){return/^DID_/.test(e.type)}).reverse().find(function(e){return Cn[e.type]});if(l){n.ref.activeStyles=[];var i=Cn[l.type];r(wn,function(e,t){var l=n.ref[e];r(t,function(t,r){n.ref.activeStyles.push({control:l,key:t,value:i[e]&&void 0!==i[e][t]?i[e][t]:r})})})}n.ref.activeStyles.forEach(function(e){var t=e.value;e.control[e.key]="function"==typeof t?t(n):t})},didCreateView:function(e){ue("CREATE_VIEW",Object.assign({},e,{view:e}))},name:"file"}),Bn=R({create:function(e){var n=e.root,t=e.props;n.ref.fileName=en("legend"),n.appendChild(n.ref.fileName),n.ref.file=n.appendChildView(n.createChildView(Pn,{id:t.id}));var l=en("input");l.type="hidden",l.name=n.query("GET_NAME"),l.disabled=n.query("GET_DISABLED"),n.ref.data=l,n.appendChild(l)},ignoreRect:!0,write:O({DID_SET_DISABLED:function(e){var n=e.root;n.ref.data.disabled=n.query("GET_DISABLED")},DID_LOAD_ITEM:function(e){var n=e.root,t=e.props;n.ref.data.value=e.action.serverFileReference,nn(n.ref.fileName,Qe(n.query("GET_ITEM_NAME",t.id)))},DID_REMOVE_ITEM:function(e){e.root.ref.data.removeAttribute("value")},DID_COMPLETE_ITEM_PROCESSING:function(e){e.root.ref.data.value=e.action.serverFileReference},DID_REVERT_ITEM_PROCESSING:function(e){e.root.ref.data.removeAttribute("value")}}),didCreateView:function(e){ue("CREATE_VIEW",Object.assign({},e,{view:e}))},tag:"fieldset",name:"file-wrapper"}),Mn={type:"spring",damping:.6,mass:7},Nn=R({name:"panel",write:function(e){var n=e.root,t=e.props;if(null!==n.ref.scalable&&t.scalable===n.ref.scalable||(n.ref.scalable=!P(t.scalable)||t.scalable,n.element.dataset.scalable=n.ref.scalable),t.height){var l=n.ref.top.rect.element,r=n.ref.bottom.rect.element,i=Math.max(l.height+r.height,t.height);n.ref.center.translateY=l.height,n.ref.center.scaleY=(i-l.height-r.height)/100,n.ref.bottom.translateY=i-r.height}},create:function(e){var n=e.root,t=e.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Mn},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Mn},styles:["translateY"]}}].forEach(function(e){!function(e,n,l){var r=R({name:"panel-"+n.name+" filepond--"+t.name,mixins:n.mixins,ignoreRectUpdate:!0}),i=e.createChildView(r,n.props);e.ref[n.name]=e.appendChildView(i)}(n,e)}),n.element.classList.add("filepond--"+t.name),n.ref.scalable=null},ignoreRect:!0,mixins:{apis:["height","scalable"]}}),xn={type:"spring",stiffness:.75,damping:.45,mass:10},Gn={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy",DID_REQUEST_ITEM_PROCESSING:"busy",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},kn=O({DID_UPDATE_PANEL_HEIGHT:function(e){e.root.height=e.action.height}}),Fn=R({create:function(e){var n=e.root,t=e.props;n.ref.handleClick=function(){return n.dispatch("DID_ACTIVATE_ITEM",{id:t.id})},n.element.id="filepond--item-"+t.id,n.element.addEventListener("click",n.ref.handleClick),n.ref.container=n.appendChildView(n.createChildView(Bn,{id:t.id})),n.ref.panel=n.appendChildView(n.createChildView(Nn,{name:"item-panel"})),n.ref.panel.height=null,t.markedForRemoval=!1},write:function(e){var n=e.root,t=e.actions,l=e.props,r=e.shouldOptimize,i=t.concat().filter(function(e){return/^DID_/.test(e.type)}).reverse().find(function(e){return Gn[e.type]});i&&i.type!==l.currentState&&(l.currentState=i.type,n.element.dataset.filepondItemState=Gn[l.currentState]||"");var a=n.query("GET_ITEM_PANEL_ASPECT_RATIO")||n.query("GET_PANEL_ASPECT_RATIO");a?r||(n.height=n.rect.element.width*a):(kn({root:n,actions:t,props:l}),!n.height&&n.ref.container.rect.element.height>0&&(n.height=n.ref.container.rect.element.height)),r&&(n.ref.panel.height=null),n.ref.panel.height=n.height},destroy:function(e){var n=e.root,t=e.props;n.element.removeEventListener("click",n.ref.handleClick),n.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:"spring",scaleY:"spring",translateX:xn,translateY:xn,opacity:{type:"tween",duration:150}}}}),Un=function(e,n){if(n){var t=e.childViews,l=t.length,r=null;if(0===l||n.top<t[0].rect.element.top)return-1;var i=t[0].rect.element,a=i.width+(i.marginLeft+i.marginRight),o=Math.round(e.rect.element.width/a);if(1===o){for(var u=0;u<l;u++){var s=t[u];if(n.top<s.rect.outer.top+.5*s.rect.element.height)return u}return l}for(var c=i.height+(i.marginTop+i.marginBottom),d=0;d<l;d++){var f=d%o,p=Math.floor(d/o)*c;if(n.top<p+c+i.marginBottom&&n.top>p-i.marginTop){if(n.left<f*a+a)return d;r=d!==l-1?d:null}}return null!==r?r:l}},Vn=function(e,n,t){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.translateX=n,e.translateY=t,Date.now()>e.spawnDate&&(0===e.opacity&&qn(e,n,t,l,r),e.scaleX=1,e.scaleY=1,e.opacity=1)},qn=function(e,n,t,l,r){5===e.interactionMethod?(e.translateX=null,e.translateX=n,e.translateY=null,e.translateY=t):2===e.interactionMethod?(e.translateX=null,e.translateX=n-20*l,e.translateY=null,e.translateY=t-10*r,e.scaleX=.8,e.scaleY=.8):3===e.interactionMethod?(e.translateY=null,e.translateY=t-30):1===e.interactionMethod&&(e.translateX=null,e.translateX=n-30,e.translateY=null)},zn=O({DID_ADD_ITEM:function(e){var n=e.root,t=e.action,l=t.id,r=t.index,i=t.interactionMethod;n.ref.addIndex=r;var a=Date.now(),o=a,u=1;if(5!==i){u=0;var s=n.query("GET_ITEM_INSERT_INTERVAL"),c=a-n.ref.lastItemSpanwDate;o=c<s?a+(s-c):a}n.ref.lastItemSpanwDate=o,n.appendChildView(n.createChildView(Fn,{spawnDate:o,id:l,opacity:u,interactionMethod:i}),r)},DID_REMOVE_ITEM:function(e){var n=e.action.id,t=e.root.childViews.find(function(e){return e.id===n});t&&(t.scaleX=.9,t.scaleY=.9,t.opacity=0,t.markedForRemoval=!0)}}),jn=R({create:function(e){var n=e.root;a(n.element,"role","list"),n.ref.lastItemSpanwDate=Date.now()},write:function(e){var n=e.root,t=e.props,l=e.shouldOptimize;zn({root:n,props:t,actions:e.actions});var r=t.dragCoordinates,i=r?Un(n,r):null,a=n.rect.element.width,o=n.childViews.filter(function(e){return e.rect.element.height}),u=n.query("GET_ACTIVE_ITEMS").map(function(e){return o.find(function(n){return n.id===e.id})}).filter(function(e){return e}),s=n.ref.addIndex||null;n.ref.addIndex=null;var c=0,d=0,f=0;if(0!==u.length){var p=u[0].rect.element,b=p.marginTop+p.marginBottom,m=p.width+(p.marginLeft+p.marginRight),g=p.height+b,h=Math.round(a/m);if(1===h){var E=0,v=0;u.forEach(function(e,n){if(i){var t=n-i;v=-2===t?.25*-b:-1===t?.75*-b:0===t?.75*b:1===t?.25*b:0}l&&(e.translateX=null,e.translateY=null),e.markedForRemoval||Vn(e,0,E+v),E+=(e.rect.element.height+b)*(e.markedForRemoval?e.opacity:1)})}else{var _=0,I=0;u.forEach(function(e,n){n===i&&(c=1),n===s&&(f+=1),e.markedForRemoval&&e.opacity<.5&&(d-=1);var t=n+f+c+d,r=t%h,a=Math.floor(t/h),o=r*m,u=a*g,p=Math.sign(o-_),b=Math.sign(u-I);_=o,I=u,e.markedForRemoval||(l&&(e.translateX=null,e.translateY=null),Vn(e,o,u,p,b))})}}},tag:"ul",name:"list",didWriteView:function(e){var n=e.root;n.childViews.filter(function(e){return e.markedForRemoval&&0===e.opacity&&e.resting}).forEach(function(e){e._destroy(),n.removeChildView(e)})},filterFrameActionsForChild:function(e,n){return n.filter(function(n){return!n.data||!n.data.id||e.id===n.data.id})},mixins:{apis:["dragCoordinates"]}}),Hn=O({DID_DRAG:function(e){var n=e.root,t=e.props,l=e.action;n.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:l.position.scopeLeft-n.ref.list.rect.element.left,top:l.position.scopeTop-(n.rect.outer.top+n.rect.element.marginTop+n.rect.element.scrollTop)})},DID_END_DRAG:function(e){e.props.dragCoordinates=null}}),Yn=R({create:function(e){var n=e.root,t=e.props;n.ref.list=n.appendChildView(n.createChildView(jn)),t.dragCoordinates=null,t.overflowing=!1},write:function(e){var n=e.root,t=e.props;if(Hn({root:n,props:t,actions:e.actions}),n.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,n.element.dataset.state="",n.height=null),t.overflow){var l=Math.round(t.overflow);l!==n.height&&(t.overflowing=!0,n.element.dataset.state="overflow",n.height=l)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Xn=function(e,n,t){t?a(e,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):e.removeAttribute(n)},Wn=function(e){var n=e.root,t=n.query("GET_DISABLED"),l=n.query("GET_ALLOW_BROWSE");Xn(n.element,"disabled",t||!l)},Jn=function(e){var n=e.root,t=n.element;n.query("GET_TOTAL_ITEMS")>0?(Xn(t,"required",!1),Xn(t,"name",!1)):(Xn(t,"name",!0,n.query("GET_NAME")),n.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),n.query("GET_REQUIRED")&&Xn(t,"required",!0))},$n=R({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:function(e){var n=e.root,t=e.props;n.element.id="filepond--browser-"+t.id,a(n.element,"name",n.query("GET_NAME")),a(n.element,"aria-controls","filepond--assistant-"+t.id),a(n.element,"aria-labelledby","filepond--drop-label-"+t.id),n.ref.handleChange=function(e){if(n.element.value){var l=Array.from(n.element.files);setTimeout(function(){t.onload(l),function(e){if(e&&""!==e.value){try{e.value=""}catch(r){}if(e.value){var n=en("form"),t=e.parentNode,l=e.nextSibling;n.appendChild(e),n.reset(),l?t.insertBefore(e,l):t.appendChild(e)}}}(n.element)},250)}},n.element.addEventListener("change",n.ref.handleChange)},destroy:function(e){var n=e.root;n.element.removeEventListener("change",n.ref.handleChange)},write:O({DID_LOAD_ITEM:Jn,DID_REMOVE_ITEM:Jn,DID_THROW_ITEM_INVALID:function(e){var n=e.root;n.query("GET_CHECK_VALIDITY")&&n.element.setCustomValidity(n.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:Wn,DID_SET_ALLOW_BROWSE:Wn,DID_SET_ALLOW_MULTIPLE:function(e){Xn(e.root.element,"multiple",e.action.value)},DID_SET_ACCEPTED_FILE_TYPES:function(e){var n=e.action;Xn(e.root.element,"accept",!!n.value,n.value?n.value.join(","):"")},DID_SET_CAPTURE_METHOD:function(e){var n=e.action;Xn(e.root.element,"capture",!!n.value,!0===n.value?"":n.value)},DID_SET_REQUIRED:function(e){var n=e.root;e.action.value?0===n.query("GET_TOTAL_ITEMS")&&Xn(n.element,"required",!0):Xn(n.element,"required",!1)}})}),Zn=function(e,n){e.innerHTML=n;var t=e.querySelector(".filepond--label-action");return t&&a(t,"tabindex","0"),n},Kn=R({name:"drop-label",ignoreRect:!0,create:function(e){var n=e.root,t=e.props,l=en("label");a(l,"for","filepond--browser-"+t.id),a(l,"id","filepond--drop-label-"+t.id),a(l,"aria-hidden","true"),l.addEventListener("keydown",function(e){(13===e.keyCode||32===e.keyCode)&&(e.preventDefault(),n.ref.label.click())}),n.element.addEventListener("click",function(e){e.target===l||l.contains(e.target)||n.ref.label.click()}),Zn(l,t.caption),n.appendChild(l),n.ref.label=l},write:O({DID_SET_LABEL_IDLE:function(e){Zn(e.root.ref.label,e.action.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Qn=R({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),et=O({DID_DRAG:function(e){var n=e.root,t=e.action;n.ref.blob?(n.ref.blob.translateX=t.position.scopeLeft,n.ref.blob.translateY=t.position.scopeTop,n.ref.blob.scaleX=1,n.ref.blob.scaleY=1,n.ref.blob.opacity=1):function(e){var n=e.root;n.ref.blob=n.appendChildView(n.createChildView(Qn,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:.5*n.rect.element.width,translateY:.5*n.rect.element.height}))}({root:n})},DID_DROP:function(e){var n=e.root;n.ref.blob&&(n.ref.blob.scaleX=2.5,n.ref.blob.scaleY=2.5,n.ref.blob.opacity=0)},DID_END_DRAG:function(e){var n=e.root;n.ref.blob&&(n.ref.blob.opacity=0)}}),nt=R({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:function(e){var n=e.root,t=e.actions;et({root:n,props:e.props,actions:t});var l=n.ref.blob;0===t.length&&l&&0===l.opacity&&(n.removeChildView(l),n.ref.blob=null)}}),tt=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],lt=["css","csv","html","txt"],rt={zip:"zip|compressed",epub:"application/epub+zip"},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),tt.includes(e)?"image/"+("jpg"===e?"jpeg":"svg"===e?"svg+xml":e):lt.includes(e)?"text/"+e:rt[e]||null},at=function(e){return new Promise(function(n,t){var l=mt(e);l.length?n(l):ot(e).then(n)})},ot=function(e){return new Promise(function(n,t){var l=(e.items?Array.from(e.items):[]).filter(function(e){return ut(e)}).map(function(e){return st(e)});l.length?Promise.all(l).then(function(e){var t=[];e.forEach(function(e){t.push.apply(t,e)}),n(t.filter(function(e){return e}))}):n(e.files?Array.from(e.files):[])})},ut=function(e){if(pt(e)){var n=bt(e);if(n)return n.isFile||n.isDirectory}return"file"===e.kind},st=function(e){return new Promise(function(n,t){ft(e)?ct(bt(e)).then(n):n([e.getAsFile()])})},ct=function(e){return new Promise(function(n,t){var l=[],r=0;!function e(t){t.createReader().readEntries(function(t){t.forEach(function(t){t.isDirectory?e(t):(r++,t.file(function(e){l.push(dt(e)),r===l.length&&n(l)}))})})}(e)})},dt=function(e){if(e.type.length)return e;var n=e.lastModifiedDate,t=e.name;return(e=e.slice(0,e.size,it(Oe(e.name)))).name=t,e.lastModifiedDate=n,e},ft=function(e){return pt(e)&&(bt(e)||{}).isDirectory},pt=function(e){return"webkitGetAsEntry"in e},bt=function(e){return e.webkitGetAsEntry()},mt=function(e){var n=[];try{if((n=ht(e)).length)return n;n=gt(e)}catch(t){}return n},gt=function(e){var n=e.getData("url");return"string"==typeof n&&n.length?[n]:[]},ht=function(e){var n=e.getData("text/html");if("string"==typeof n&&n.length){var t=n.match(/src\s*=\s*"(.+?)"/);if(t)return[t[1]]}return[]},Et=[],vt=function(e){return{pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}},_t=function(e,n){var t,l=function(e,n){return"elementFromPoint"in e||(e=document),e.elementFromPoint(n.x,n.y)}("getRootNode"in(t=n)?t.getRootNode():document,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return l===n||n.contains(l)},It=null,yt=function(e,n){try{e.dropEffect=n}catch(t){}},Tt=function(e,n){return function(e){e.preventDefault(),It=e.target,n.forEach(function(n){var t=n.onenter;_t(e,n.element)&&(n.state="enter",t(vt(e)))})}},Rt=function(e,n){return function(e){e.preventDefault();var t=e.dataTransfer;at(t).then(function(l){var r=!1;n.some(function(n){var i=n.filterElement,a=n.element,o=n.onenter,u=n.onexit,s=n.ondrag,c=n.allowdrop;yt(t,"copy");var d=c(l);if(d)if(_t(e,a)){if(r=!0,null===n.state)return n.state="enter",void o(vt(e));if(n.state="over",i&&!d)return void yt(t,"none");s(vt(e))}else i&&!r&&yt(t,"none"),n.state&&(n.state=null,u(vt(e)));else yt(t,"none")})})}},Ot=function(e,n){return function(e){e.preventDefault(),at(e.dataTransfer).then(function(t){n.forEach(function(n){var l=n.filterElement,r=n.element,i=n.ondrop,a=n.onexit,o=n.allowdrop;n.state=null,o(t)?l&&!_t(e,r)||i(vt(e),t):a(vt(e))})})}},wt=function(e,n){return function(e){It===e.target&&n.forEach(function(n){var t=n.onexit;n.state=null,t(vt(e))})}},St=function(e,n,t){e.classList.add("filepond--hopper");var l=function(e,n,t){var l=function(e){var n=Et.find(function(n){return n.element===e});if(n)return n;var t=function(e){var n=[],t={dragenter:Tt,dragover:Rt,dragleave:wt,drop:Ot},l={};r(t,function(t,r){l[t]=r(e,n),e.addEventListener(t,l[t],!1)});var i={element:e,addListener:function(a){return n.push(a),function(){n.splice(n.indexOf(a),1),0===n.length&&(Et.splice(Et.indexOf(i),1),r(t,function(n){e.removeEventListener(n,l[n],!1)}))}}};return i}(e);return Et.push(t),t}(n),i={element:e,filterElement:t,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return i.destroy=l.addListener(i),i}(e,t.catchesDropsOnPage?document.documentElement:e,t.requiresDropOnElement),i="",a="";l.allowdrop=function(e){return n(e)},l.ondrop=function(e,t){n(t)?(a="drag-drop",o.onload(t,e)):o.ondragend(e)},l.ondrag=function(e){o.ondrag(e)},l.onenter=function(e){a="drag-over",o.ondragstart(e)},l.onexit=function(e){a="drag-exit",o.ondragend(e)};var o={updateHopperState:function(){i!==a&&(e.dataset.hopperState=a,i=a)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){l.destroy()}};return o},Dt=!1,Ct=[],Lt=function(e){at(e.clipboardData).then(function(e){e.length&&Ct.forEach(function(n){return n(e)})})},At=null,Pt=null,Bt=[],Mt=function(e,n){e.element.textContent=n},Nt=function(e,n,t){var l=e.query("GET_TOTAL_ITEMS");Mt(e,t+" "+n+", "+l+" "+e.query(1===l?"GET_LABEL_FILE_COUNT_SINGULAR":"GET_LABEL_FILE_COUNT_PLURAL")),clearTimeout(Pt),Pt=setTimeout(function(){!function(e){e.element.textContent=""}(e)},1500)},xt=function(e){return e.element.parentNode.contains(document.activeElement)},Gt=function(e){var n=e.root,t=n.query("GET_ITEM",e.action.id).filename,l=n.query("GET_LABEL_FILE_PROCESSING_ABORTED");Mt(n,t+" "+l)},kt=function(e){var n=e.root,t=e.action,l=n.query("GET_ITEM",t.id);Mt(n,t.status.main+" "+l.filename+" "+t.status.sub)},Ft=R({create:function(e){var n=e.root;n.element.id="filepond--assistant-"+e.props.id,a(n.element,"role","status"),a(n.element,"aria-live","polite"),a(n.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:O({DID_LOAD_ITEM:function(e){var n=e.root,t=e.action;if(xt(n)){n.element.textContent="";var l=n.query("GET_ITEM",t.id);Bt.push(l.filename),clearTimeout(At),At=setTimeout(function(){Nt(n,Bt.join(", "),n.query("GET_LABEL_FILE_ADDED")),Bt.length=0},750)}},DID_REMOVE_ITEM:function(e){var n=e.root,t=e.action;xt(n)&&Nt(n,t.item.filename,n.query("GET_LABEL_FILE_REMOVED"))},DID_COMPLETE_ITEM_PROCESSING:function(e){var n=e.root,t=n.query("GET_ITEM",e.action.id).filename,l=n.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Mt(n,t+" "+l)},DID_ABORT_ITEM_PROCESSING:Gt,DID_REVERT_ITEM_PROCESSING:Gt,DID_THROW_ITEM_REMOVE_ERROR:kt,DID_THROW_ITEM_LOAD_ERROR:kt,DID_THROW_ITEM_INVALID:kt,DID_THROW_ITEM_PROCESSING_ERROR:kt}),tag:"span",name:"assistant"}),Ut=function(e){return e.replace(new RegExp((arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-")+".","g"),function(e){return e.charAt(1).toUpperCase()})},Vt=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=Date.now(),r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(r);var u=Date.now()-l,s=function(){l=Date.now(),e.apply(void 0,a)};u<n?t||(r=setTimeout(s,n-u)):s()}},qt=function(e,n){var t=e.query("GET_ALLOW_REPLACE"),l=e.query("GET_ALLOW_MULTIPLE"),r=e.query("GET_TOTAL_ITEMS"),i=e.query("GET_MAX_FILES"),a=n.length;return!l&&a>1||!!(k(i=l?i:t?i:1)&&r+a>i)&&(e.dispatch("DID_THROW_MAX_FILES",{source:n,error:Ge("warning",0,"Max files")}),!0)},zt=function(e,n){var t=e.childViews[0];return Un(t,{left:n.scopeLeft-t.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},jt=function(e){var n=e.query("GET_ALLOW_DROP"),t=e.query("GET_DISABLED"),l=n&&!t;if(l&&!e.ref.hopper){var r=St(e.element,function(n){if(qt(e,n))return!1;var t=e.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!e.query("GET_DROP_VALIDATION")||n.every(function(n){return ue("ALLOW_HOPPER_ITEM",n,{query:e.query}).every(function(e){return!0===e})&&t(n)})},{catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});r.onload=function(n,t){e.dispatch("ADD_ITEMS",{items:n,index:zt(e.ref.list,t),interactionMethod:2}),e.dispatch("DID_DROP",{position:t}),e.dispatch("DID_END_DRAG",{position:t})},r.ondragstart=function(n){e.dispatch("DID_START_DRAG",{position:n})},r.ondrag=Vt(function(n){e.dispatch("DID_DRAG",{position:n})}),r.ondragend=function(n){e.dispatch("DID_END_DRAG",{position:n})},e.ref.hopper=r,e.ref.drip=e.appendChildView(e.createChildView(nt))}else!l&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Ht=function(e,n){var t=e.query("GET_ALLOW_BROWSE"),l=e.query("GET_DISABLED"),r=t&&!l;r&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView($n,Object.assign({},n,{onload:function(n){if(qt(e,n))return!1;e.dispatch("ADD_ITEMS",{items:n,index:-1,interactionMethod:3})}})),0):!r&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Yt=function(e){var n,t,l=e.query("GET_ALLOW_PASTE"),r=e.query("GET_DISABLED"),i=l&&!r;i&&!e.ref.paster?(e.ref.paster=(n=function(e){t.onload(e)},t={destroy:function(){$(Ct,Ct.indexOf(n)),0===Ct.length&&(document.removeEventListener("paste",Lt),Dt=!1)},onload:function(){}},function(e){Ct.includes(e)||(Ct.push(e),Dt||(Dt=!0,document.addEventListener("paste",Lt)))}(n),t),e.ref.paster.onload=function(n){e.dispatch("ADD_ITEMS",{items:n,index:zt(e.ref.list,position),interactionMethod:4})}):!i&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},Xt=O({DID_SET_ALLOW_BROWSE:function(e){Ht(e.root,e.props)},DID_SET_ALLOW_DROP:function(e){jt(e.root)},DID_SET_ALLOW_PASTE:function(e){Yt(e.root)},DID_SET_DISABLED:function(e){var n=e.root,t=e.props;jt(n),Yt(n),Ht(n,t),n.query("GET_DISABLED")?n.element.dataset.disabled="disabled":delete n.element.dataset.disabled}}),Wt=R({name:"root",read:function(e){var n=e.root;n.ref.measure&&(n.ref.measureHeight=n.ref.measure.offsetHeight)},create:function(e){var n=e.root,t=e.props,l=n.query("GET_ID");l&&(n.element.id=l);var r=n.query("GET_CLASS_NAME");r&&r.split(" ").forEach(function(e){n.element.classList.add(e)}),n.ref.label=n.appendChildView(n.createChildView(Kn,Object.assign({},t,{translateY:null,caption:n.query("GET_LABEL_IDLE")}))),n.ref.list=n.appendChildView(n.createChildView(Yn,{translateY:null})),n.ref.panel=n.appendChildView(n.createChildView(Nn,{name:"panel-root"})),n.ref.assistant=n.appendChildView(n.createChildView(Ft,Object.assign({},t))),n.ref.measure=en("div"),n.ref.measure.style.height="100%",n.element.appendChild(n.ref.measure),n.ref.bounds=null,n.query("GET_STYLES").filter(function(e){return!C(e.value)}).map(function(e){n.element.dataset[e.name]=e.value}),n.ref.widthPrevious=null,n.ref.widthUpdated=Vt(function(){n.dispatch("DID_RESIZE_ROOT")},250),n.ref.previousAspectRatio=null,n.ref.updateHistory=[]},write:function(e){var n=e.root,t=e.actions;if(Xt({root:n,props:e.props,actions:t}),t.filter(function(e){return/^DID_SET_STYLE_/.test(e.type)}).filter(function(e){return!C(e.data.value)}).map(function(e){var t=e.data,l=Ut(e.type.substr(8).toLowerCase(),"_");n.element.dataset[l]=t.value,n.invalidateLayout()}),!n.rect.element.hidden){n.rect.element.width!==n.ref.widthPrevious&&(n.ref.widthPrevious=n.rect.element.width,n.ref.widthUpdated());var l=n.ref.bounds;l||(l=n.ref.bounds=function(e){var n=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:0===n?null:n}}(n),n.element.removeChild(n.ref.measure),n.ref.measure=null);var r=n.ref,i=r.hopper,a=r.label,o=r.list,u=r.panel;i&&i.updateHopperState();var s=n.query("GET_PANEL_ASPECT_RATIO"),c=n.query("GET_ALLOW_MULTIPLE"),d=n.query("GET_TOTAL_ITEMS"),f=d===(c?n.query("GET_MAX_FILES")||1e6:1),p=t.find(function(e){return"DID_ADD_ITEM"===e.type});if(f&&p){var b=p.data.interactionMethod;a.opacity=0,c?a.translateY=-40:1===b?a.translateX=40:a.translateY=3===b?40:30}else f||(a.opacity=1,a.translateX=0,a.translateY=0);var m=function(e){var n=e.ref.list.childViews[0].childViews[0];return n?{top:n.rect.element.marginTop,bottom:n.rect.element.marginBottom}:{top:0,bottom:0}}(n),g=function(e){var n=0,t=0,l=e.ref.list,r=l.childViews[0],i=r.childViews;if(0===i.length)return{visual:n,bounds:t};var a=r.rect.element.width,o=Un(r,l.dragCoordinates),u=i[0].rect.element,s=u.marginTop+u.marginBottom,c=u.width+(u.marginLeft+u.marginRight),d=u.height+s,f=void 0!==o&&o>=0?1:0,p=i.find(function(e){return e.markedForRemoval&&e.opacity<.45})?-1:0,b=i.length+f+p,m=Math.round(a/c);return 1===m?i.forEach(function(e){var l=e.rect.element.height+s;t+=l,n+=l*e.opacity}):(t=Math.ceil(b/m)*d,n=t),{visual:n,bounds:t}}(n),h=a.rect.element.height,E=!c||f?0:h,v=f?o.rect.element.marginTop:0,_=0===d?0:o.rect.element.marginBottom,I=E+v+g.visual+_,y=E+v+g.bounds+_;if(o.translateY=Math.max(0,E-o.rect.element.marginTop)-m.top,s){var T=n.rect.element.width,R=T*s;s!==n.ref.previousAspectRatio&&(n.ref.previousAspectRatio=s,n.ref.updateHistory=[]);var O=n.ref.updateHistory;if(O.push(T),O.length>4)for(var w=O.length,S=w-10,D=0,L=w;L>=S;L--)if(O[L]===O[L-2]&&D++,D>=2)return;u.scalable=!1,u.height=R;var A=R-E-(_-m.bottom)-(f?v:0);o.overflow=g.visual>A?A:null,n.height=R}else if(l.fixedHeight){u.scalable=!1;var P=l.fixedHeight-E-(_-m.bottom)-(f?v:0);o.overflow=g.visual>P?P:null}else if(l.cappedHeight){var B=I>=l.cappedHeight,M=Math.min(l.cappedHeight,I);u.scalable=!0,u.height=B?M:M-m.top-m.bottom;var N=M-E-(_-m.bottom)-(f?v:0);o.overflow=I>l.cappedHeight&&g.visual>N?N:null,n.height=Math.min(l.cappedHeight,y-m.top-m.bottom)}else{var x=d>0?m.top+m.bottom:0;u.scalable=!0,u.height=Math.max(h,I-x),n.height=Math.max(h,y-x)}}},destroy:function(e){var n=e.root;n.ref.paster&&n.ref.paster.destroy(),n.ref.hopper&&n.ref.hopper.destroy()},mixins:{styles:["height"]}}),Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return r(ce(),function(e,t){n[e]=t[0]}),function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=null,a=ce(),o=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=Object.assign({},e),r=[],i=[],a=function(e,n,t){t?i.push({type:e,data:n}):(c[e]&&c[e](n),r.push({type:e,data:n}))},o=function(e){for(var n,t=arguments.length,l=new Array(t>1?t-1:0),r=1;r<t;r++)l[r-1]=arguments[r];return s[e]?(n=s)[e].apply(n,l):null},u={getState:function(){return Object.assign({},l)},processActionQueue:function(){var e=[].concat(r);return r.length=0,e},processDispatchQueue:function(){var e=[].concat(i);i.length=0,e.forEach(function(e){a(e.type,e.data)})},dispatch:a,query:o},s={};n.forEach(function(e){s=Object.assign({},e(l),s)});var c={};return t.forEach(function(e){c=Object.assign({},e(a,o,l),c)}),u}({items:[],listUpdateTimeout:null,processingQueue:[],options:(e=a,n={},r(e,function(t){var l,r,i,a=e[t];n[t]=(r=a[1],i=l=a[0],{enumerable:!0,get:function(){return i},set:function(e){i=H(e,l,r)}})}),i(n))},[ye,W(a)],[Ke,X(a)]);o.dispatch("SET_OPTIONS",{options:t});var u=function(){document.hidden||o.dispatch("KICK")};document.addEventListener("visibilitychange",u);var s=null,c=!1,d=!1,f=null,p=null,b=function(){c||(c=!0),clearTimeout(s),s=setTimeout(function(){c=!1,f=null,p=null,d&&(d=!1,o.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",b);var g=Wt(o,{id:J()}),h=!1,E=!1,v={_read:function(){c&&(p=window.innerWidth,f||(f=p),d||p===f||(o.dispatch("DID_START_RESIZE"),d=!0)),E&&h&&(h=null===g.element.offsetParent),h||(g._read(),E=g.rect.element.hidden)},_write:function(e){var n,t=o.processActionQueue().filter(function(e){return!/^SET_/.test(e.type)});h&&!t.length||(y(t),h=g._write(e,t,d),(n=o.query("GET_ITEMS")).forEach(function(e,t){e.released&&$(n,t)}),h&&o.processDispatchQueue())}},_=function(e){return function(n){var t={type:e};if(!n)return t;if(n.hasOwnProperty("error")&&(t.error=n.error?Object.assign({},n.error):null),n.status&&(t.status=Object.assign({},n.status)),n.file&&(t.output=n.file),n.source)t.file=n.source;else if(n.item||n.id){var l=n.item?n.item:o.query("GET_ITEM",n.id);t.file=l?ee(l):null}return n.items&&(t.items=n.items.map(ee)),/progress/.test(e)&&(t.progress=n.progress),t}},I={DID_DESTROY:_("destroy"),DID_INIT:_("init"),DID_THROW_MAX_FILES:_("warning"),DID_START_ITEM_LOAD:_("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:_("addfileprogress"),DID_LOAD_ITEM:_("addfile"),DID_THROW_ITEM_INVALID:[_("error"),_("addfile")],DID_THROW_ITEM_LOAD_ERROR:[_("error"),_("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[_("error"),_("removefile")],DID_PREPARE_OUTPUT:_("preparefile"),DID_START_ITEM_PROCESSING:_("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:_("processfileprogress"),DID_ABORT_ITEM_PROCESSING:_("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:_("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:_("processfiles"),DID_REVERT_ITEM_PROCESSING:_("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[_("error"),_("processfile")],DID_REMOVE_ITEM:_("removefile"),DID_UPDATE_ITEMS:_("updatefiles"),DID_ACTIVATE_ITEM:_("activatefile")},y=function(e){e.length&&e.forEach(function(e){if(I[e.type]){var n=I[e.type];(Array.isArray(n)?n:[n]).forEach(function(n){setTimeout(function(){!function(e){var n=Object.assign({pond:L},e);delete n.type,g.element.dispatchEvent(new CustomEvent("FilePond:"+e.type,{detail:n,bubbles:!0,cancelable:!0,composed:!0}));var t=[];e.hasOwnProperty("error")&&t.push(e.error),e.hasOwnProperty("file")&&t.push(e.file);var l=["type","error","file"];Object.keys(e).filter(function(e){return!l.includes(e)}).forEach(function(n){return t.push(e[n])}),L.fire.apply(L,[e.type].concat(t));var r=o.query("GET_ON"+e.type.toUpperCase());r&&r.apply(void 0,t)}(n(e.data))},0)})}})},T=function(e){return o.dispatch("REMOVE_ITEM",{query:e}),null===o.query("GET_ACTIVE_ITEM",e)},R=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return new Promise(function(e,t){var l=[],r={};if(D(n[0]))l.push.apply(l,n[0]),Object.assign(r,n[1]||{});else{var i=n[n.length-1];"object"!=typeof i||i instanceof Blob||Object.assign(r,n.pop()),l.push.apply(l,n)}o.dispatch("ADD_ITEMS",{items:l,index:r.index,interactionMethod:1,success:e,failure:t})})},O=function(){return o.query("GET_ACTIVE_ITEMS")},C=function(e){return new Promise(function(n,t){o.dispatch("REQUEST_ITEM_PROCESSING",{query:e,success:function(e){n(e)},failure:function(e){t(e)}})})},L=Object.assign({},Z(),v,function(e,n){var t={};return r(a,function(n){t[n]={get:function(){return e.getState().options[n]},set:function(t){e.dispatch("SET_"+Y(n,"_").toUpperCase(),{value:t})}}}),t}(o),{setOptions:function(e){return o.dispatch("SET_OPTIONS",{options:e})},addFile:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(t,l){R([{source:e,options:n}],{index:n.index}).then(function(e){return t(e&&e[0])}).catch(l)})},addFiles:R,getFile:function(e){return o.query("GET_ACTIVE_ITEM",e)},processFile:C,removeFile:T,getFiles:O,processFiles:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var l=Array.isArray(n[0])?n[0]:n;if(!l.length){var r=O().filter(function(e){return!(e.status===ne.IDLE&&e.origin===te.LOCAL)&&e.status!==ne.PROCESSING&&e.status!==ne.PROCESSING_COMPLETE&&e.status!==ne.PROCESSING_REVERT_ERROR});return Promise.all(r.map(C))}return Promise.all(l.map(C))},removeFiles:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var l=Array.isArray(n[0])?n[0]:n,r=O();return l.length?l.map(function(e){return m(e)?r[e]?r[e].id:null:e}).filter(function(e){return e}).map(T):Promise.all(r.map(T))},sort:function(e){return o.dispatch("SORT",{compare:e})},browse:function(){var e=g.element.querySelector("input[type=file]");e&&e.click()},destroy:function(){L.fire("destroy",g.element),o.dispatch("ABORT_ALL"),g._destroy(),window.removeEventListener("resize",b),document.addEventListener("visibilitychange",u),o.dispatch("DID_DESTROY")},insertBefore:function(e){return w(g.element,e)},insertAfter:function(e){return S(g.element,e)},appendTo:function(e){return e.appendChild(g.element)},replaceElement:function(e){w(g.element,e),e.parentNode.removeChild(e),l=e},restoreElement:function(){l&&(S(l,g.element),g.element.parentNode.removeChild(g.element),l=null)},isAttachedTo:function(e){return g.element===e||l===e},element:{get:function(){return g.element}},status:{get:function(){return o.query("GET_STATUS")}}});return o.dispatch("DID_INIT"),i(L)}(Object.assign({},n,e))},$t=["fire","_read","_write"],Zt=function(e){var n={};return K(e,n,$t),n},Kt=function(e,n){return e.replace(/(?:{([a-zA-Z]+)})/g,function(e,t){return n[t]})},Qt=function(e){var n=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),t=URL.createObjectURL(n),l=new Worker(t);return{transfer:function(e,n){},post:function(e,n,t){var r=J();l.onmessage=function(e){e.data.id===r&&n(e.data.message)},l.postMessage({id:r,message:e},t)},terminate:function(){l.terminate(),URL.revokeObjectURL(t)}}},el=function(e){return new Promise(function(n,t){var l=new Image;l.onload=function(){n(l)},l.onerror=function(e){t(e)},l.src=e})},nl=function(e,n){var t=e.slice(0,e.size,e.type);return t.lastModifiedDate=e.lastModifiedDate,t.name=n,t},tl=function(e){return nl(e,e.name)},ll=[],rl=function(e){if(!ll.includes(e)){ll.push(e);var n=e({addFilter:se,utils:{Type:ie,forin:r,isString:M,isFile:ze,toNaturalFileSize:an,replaceInString:Kt,getExtensionFromFilename:Oe,getFilenameWithoutExtension:qe,guesstimateMimeType:it,getFileFromBlob:De,getFilenameFromURL:Re,createRoute:O,createWorker:Qt,createView:R,createItemAPI:ee,loadImage:el,copyFile:tl,renameFile:nl,createBlob:Ce,applyFilterChain:oe,text:nn,getNumericAspectRatioFromString:pe},views:{fileActionButton:rn}});Object.assign(de,n.options)}},il=(In="undefined"!=typeof window&&void 0!==window.document&&!("[object OperaMini]"===Object.prototype.toString.call(window.operamini))&&"visibilityState"in document&&"Promise"in window&&"slice"in Blob.prototype&&"URL"in window&&"createObjectURL"in window.URL&&"performance"in window,function(){return In}),al={apps:[]},ol=function(){};if(e.Status={},e.FileStatus={},e.FileOrigin={},e.OptionTypes={},e.create=ol,e.destroy=ol,e.parse=ol,e.find=ol,e.registerPlugin=ol,e.getOptions=ol,e.setOptions=ol,il()){!function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,l="__framePainter";if(window[l])return window[l].readers.push(e),void window[l].writers.push(n);window[l]={readers:[e],writers:[n]};var r=window[l],i=1e3/t,a=null,o=null,u=null,s=null,c=function(){document.hidden?(u=function(){return window.setTimeout(function(){return d(performance.now())},i)},s=function(){return window.clearTimeout(o)}):(u=function(){return window.requestAnimationFrame(d)},s=function(){return window.cancelAnimationFrame(o)})};document.addEventListener("visibilitychange",function(){s&&s(),c(),d(performance.now())});var d=function e(n){o=u(e),a||(a=n);var t=n-a;t<=i||(a=n-t%i,r.readers.forEach(function(e){return e()}),r.writers.forEach(function(e){return e(n)}))};c(),d(performance.now())}(function(){al.apps.forEach(function(e){return e._read()})},function(e){al.apps.forEach(function(n){return n._write(e)})});var ul=function n(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:il,create:e.create,destroy:e.destroy,parse:e.parse,find:e.find,registerPlugin:e.registerPlugin,setOptions:e.setOptions}})),document.removeEventListener("DOMContentLoaded",n)};"loading"!==document.readyState?setTimeout(function(){return ul()},0):document.addEventListener("DOMContentLoaded",ul);var sl=function(){return r(ce(),function(n,t){e.OptionTypes[n]=t[1]})};e.Status=Object.assign({},me),e.FileOrigin=Object.assign({},te),e.FileStatus=Object.assign({},ne),e.OptionTypes={},sl(),e.create=function(){var n=(function(){return(arguments.length<=0?void 0:arguments[0])instanceof HTMLElement?(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};ue("SET_ATTRIBUTE_TO_OPTION_MAP",t);var l=Object.assign({},n),i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[];r(e.attributes,function(n){t.push(e.attributes[n])});var l=t.filter(function(e){return e.name}).reduce(function(n,t){var l,r=a(e,t.name);return n[(l=t.name,Ut(l.replace(/^data-/,"")))]=r===t.name||r,n},{});return function e(n,t){r(t,function(t,l){r(n,function(e,r){var i=new RegExp(t);if(i.test(e)&&(delete n[e],!1!==l))if(M(l))n[l]=r;else{var a,o=l.group;q(l)&&!n[o]&&(n[o]={}),n[o][(a=e.replace(i,""),a.charAt(0).toLowerCase()+a.slice(1))]=r}}),l.mapping&&e(n[l.group],l.mapping)})}(l,n),l}("FIELDSET"===e.nodeName?e.querySelector("input[type=file]"):e,t);Object.keys(i).forEach(function(e){q(i[e])?(q(l[e])||(l[e]={}),Object.assign(l[e],i[e])):l[e]=i[e]}),l.files=(n.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(function(e){return{source:e.value,options:{type:e.dataset.type}}}));var o=Jt(l);return e.files&&Array.from(e.files).forEach(function(e){o.addFile(e)}),o.replaceElement(e),o}).apply(void 0,arguments):Jt.apply(void 0,arguments)}).apply(void 0,arguments);return n.on("destroy",e.destroy),al.apps.push(n),Zt(n)},e.destroy=function(e){var n=al.apps.findIndex(function(n){return n.isAttachedTo(e)});return n>=0&&(al.apps.splice(n,1)[0].restoreElement(),!0)},e.parse=function(n){return Array.from(n.querySelectorAll(".filepond")).filter(function(e){return!al.apps.find(function(n){return n.isAttachedTo(e)})}).map(function(n){return e.create(n)})},e.find=function(e){var n=al.apps.find(function(n){return n.isAttachedTo(e)});return n?Zt(n):null},e.registerPlugin=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];n.forEach(rl),sl()},e.getOptions=function(){var e={};return r(ce(),function(n,t){e[n]=t[0]}),e},e.setOptions=function(n){return q(n)&&(al.apps.forEach(function(e){e.setOptions(n)}),function(e){r(e,function(e,n){de[e]&&(de[e][0]=H(n,de[e][0],de[e][1]))})}(n)),e.getOptions()}}e.supported=il,Object.defineProperty(e,"__esModule",{value:!0})}(n)}}]);