(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{GUIp:function(n,e,t){n.exports=function(){"use strict";var n=function(n){var e=n.addFilter,t=n.utils,l=t.Type,r=t.isString,i=t.replaceInString,a=t.guesstimateMimeType,o=t.getExtensionFromFilename,u=t.getFilenameFromURL,s=function(n,e){return n.some(function(n){return/\*$/.test(n)?(t=n,(/^[^\/]+/.exec(e)||[]).pop()===t.slice(0,-2)):n===e;var t})},c=function(n,e,t){if(0===e.length)return!0;var l=function(n){var e="";if(r(n)){var t=u(n),l=o(t);l&&(e=a(l))}else e=n.type;return e}(n);return t?new Promise(function(r,i){t(n,l).then(function(n){s(e,n)?r():i()}).catch(i)}):s(e,l)};return e("SET_ATTRIBUTE_TO_OPTION_MAP",function(n){return Object.assign(n,{accept:"acceptedFileTypes"})}),e("ALLOW_HOPPER_ITEM",function(n,e){var t=e.query;return!t("GET_ALLOW_FILE_TYPE_VALIDATION")||c(n,t("GET_ACCEPTED_FILE_TYPES"))}),e("LOAD_FILE",function(n,e){var t=e.query;return new Promise(function(e,l){if(t("GET_ALLOW_FILE_TYPE_VALIDATION")){var r=t("GET_ACCEPTED_FILE_TYPES"),a=t("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),o=c(n,r,a),u=function(){var n,e=r.map((n=t("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"),function(e){return null!==n[e]&&(n[e]||e)})).filter(function(n){return!1!==n});l({status:{main:t("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:i(t("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:e.join(", "),allButLastType:e.slice(0,-1).join(", "),lastType:e[e.length-1]})}})};if("boolean"==typeof o)return o?e(n):u();o.then(function(){e(n)}).catch(u)}else e(n)})}),{options:{allowFileTypeValidation:[!0,l.BOOLEAN],acceptedFileTypes:[[],l.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",l.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",l.STRING],fileValidateTypeLabelExpectedTypesMap:[{},l.OBJECT],fileValidateTypeDetectType:[null,l.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:n})),n}()},Iab2:function(n,e,t){var l,r;void 0===(r="function"==typeof(l=function(){"use strict";function e(n,e,t){var l=new XMLHttpRequest;l.open("GET",n),l.responseType="blob",l.onload=function(){i(l.response,e,t)},l.onerror=function(){console.error("could not download file")},l.send()}function t(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch(n){}return 200<=e.status&&299>=e.status}function l(n){try{n.dispatchEvent(new MouseEvent("click"))}catch(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,i=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(n,i,a){var o=r.URL||r.webkitURL,u=document.createElement("a");u.download=i=i||n.name||"download",u.rel="noopener","string"==typeof n?(u.href=n,u.origin===location.origin?l(u):t(u.href)?e(n,i,a):l(u,u.target="_blank")):(u.href=o.createObjectURL(n),setTimeout(function(){o.revokeObjectURL(u.href)},4e4),setTimeout(function(){l(u)},0))}:"msSaveOrOpenBlob"in navigator?function(n,r,i){if(r=r||n.name||"download","string"!=typeof n)navigator.msSaveOrOpenBlob(function(n,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\ufeff",n],{type:n.type}):n}(n,i),r);else if(t(n))e(n,r,i);else{var a=document.createElement("a");a.href=n,a.target="_blank",setTimeout(function(){l(a)})}}:function(n,t,l,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof n)return e(n,t,l);var a="application/octet-stream"===n.type,o=/constructor/i.test(r.HTMLElement)||r.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&"object"==typeof FileReader){var s=new FileReader;s.onloadend=function(){var n=s.result;n=u?n:n.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=n:location=n,i=null},s.readAsDataURL(n)}else{var c=r.URL||r.webkitURL,d=c.createObjectURL(n);i?i.location=d:location.href=d,i=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});r.saveAs=i.saveAs=i,n.exports=i})?l.apply(e,[]):l)||(n.exports=r)},LPyF:function(n,e,t){n.exports=function(){"use strict";var n={type:"spring",stiffness:.5,damping:.45,mass:10},e=function(n,e){return{x:n,y:e}},t=function(n,t){return e(n.x-t.x,n.y-t.y)},l=function(n,e){return Math.sqrt(function(n,e){return function(n,e){return n.x*e.x+n.y*e.y}(t(n,e),t(n,e))}(n,e))},r=function(n,t){var l=n,r=t,i=1.5707963267948966-t,a=Math.sin(1.5707963267948966),o=Math.sin(r),u=Math.sin(i),s=Math.cos(i),c=l/a;return e(s*(c*o),s*(c*u))},i='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',a=!1,o=0,u=function(){self.onmessage=function(n){createImageBitmap(n.data.message.file).then(function(e){self.postMessage({id:n.data.id,message:e},[e])})}},s={1:function(){return[1,0,0,1,0,0]},2:function(n){return[-1,0,0,1,n,0]},3:function(n,e){return[-1,0,0,-1,n,e]},4:function(n,e){return[1,0,0,-1,0,e]},5:function(){return[0,1,1,0,0,0]},6:function(n,e){return[0,1,-1,0,e,0]},7:function(n,e){return[0,-1,-1,0,e,n]},8:function(n){return[0,-1,1,0,0,n]}},c=function(n){return/^image/.test(n.type)&&!/svg/.test(n.type)},d=function(n){var e=Math.min(10/n.width,10/n.height),t=document.createElement("canvas"),l=t.getContext("2d"),r=t.width=Math.ceil(n.width*e),i=t.height=Math.ceil(n.height*e);l.drawImage(n,0,0,r,i);var a=null;try{a=l.getImageData(0,0,r,i).data}catch(p){return null}for(var o=a.length,u=0,s=0,c=0,d=0;d<o;d+=4)u+=a[d]*a[d],s+=a[d+1]*a[d+1],c+=a[d+2]*a[d+2];return{r:u=f(u,o),g:s=f(s,o),b:c=f(c,o)}},f=function(n,e){return Math.floor(Math.sqrt(n/(e/4)))},p=function(t){var f=t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(n){var e=n.root,t=n.props;!a&&document.querySelector("base")&&(i=i.replace(/url\(\#/g,"url("+window.location.href.replace(window.location.hash,"")+"#"),a=!0),o++,e.element.classList.add("filepond--image-preview-overlay-".concat(t.status)),e.element.innerHTML=i.replace(/__UID__/g,o)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),p=function(t){return t.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["crop","image"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:n,scaleY:n,translateY:n,opacity:{type:"tween",duration:400}}},create:function(i){var a=i.root,o=i.props;a.ref.clip=a.appendChildView(a.createChildView(function(t){return t.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},create:function(e){var l=e.root,r=e.props;l.ref.image=l.appendChildView(l.createChildView(function(e){return e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:n,originY:n,scaleX:n,scaleY:n,translateX:n,translateY:n,rotateZ:n}},create:function(n){var t=n.root,l=n.props;l.width=l.image.width,l.height=l.image.height,t.ref.bitmap=t.appendChildView(t.createChildView(function(n){return n.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(n){n.root.appendChild(n.props.image)}})}(e),{image:l.image}))},write:function(n){var e=n.props.crop.flip,t=n.root.ref.bitmap;t.scaleX=e.horizontal?-1:1,t.scaleY=e.vertical?-1:1}})}(t),Object.assign({},r)));var i=l.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==i&&(l.element.dataset.transparencyIndicator="grid"===i?i:"color")},write:function(n){var t=n.root,i=n.props,a=n.shouldOptimize,o=i.crop,u=i.width,s=i.height;t.ref.image.crop=o;var c={x:0,y:0,width:u,height:s,center:{x:.5*u,y:.5*s}},d={width:t.ref.image.width,height:t.ref.image.height},f={x:o.center.x*d.width,y:o.center.y*d.height},p={x:c.center.x-d.width*o.center.x,y:c.center.y-d.height*o.center.y},b=2*Math.PI+o.rotation%(2*Math.PI),m=o.aspectRatio||d.height/d.width,h=function(n,t,i,a){var o=2*(a.x>.5?1-a.x:a.x)*n.width,u=2*(a.y>.5?1-a.y:a.y)*n.height,s=function(n,t){var i=n.height,a=r(n.width,t),o=r(i,t),u=e(n.x+Math.abs(a.x),n.y-Math.abs(a.y)),s=e(n.x+n.width+Math.abs(o.y),n.y+Math.abs(o.x)),c=e(n.x-Math.abs(o.y),n.y+n.height-Math.abs(o.x));return{width:l(u,s),height:l(u,c)}}(t,i);return Math.max(s.width/o,s.height/u)}(d,function(n,e){var t=c.width,l=t*m;return l>c.height&&(t=(l=c.height)/m),{x:.5*(c.width-t),y:.5*(c.height-l),width:t,height:l}}(),b,o.center),g=o.zoom*h,v=t.ref.image;if(a)return v.originX=null,v.originY=null,v.translateX=null,v.translateY=null,v.rotateZ=null,v.scaleX=null,void(v.scaleY=null);v.originX=f.x,v.originY=f.y,v.translateX=p.x,v.translateY=p.y,v.rotateZ=b,v.scaleX=g,v.scaleY=g}})}(t),{image:o.image,crop:o.crop}))},write:function(n){var e=n.root,t=n.props,l=n.shouldOptimize,r=e.ref.clip,i=t.crop,a=t.image;if(r.crop=i,r.opacity=l?0:1,!l&&!e.rect.element.hidden){var o=i.aspectRatio||a.height/a.width,u=e.rect.inner.width,s=e.rect.inner.height,c=e.query("GET_IMAGE_PREVIEW_HEIGHT"),d=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),f=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),p=e.query("GET_PANEL_ASPECT_RATIO"),b=e.query("GET_ALLOW_MULTIPLE");p&&!b&&(c=u*p,o=p);var m=null!==c?c:Math.max(d,Math.min(u*o,f)),h=m/o;h>u&&(m=(h=u)*o),m>s&&(m=s,h=s/o),r.width=h,r.height=m}}})}(t),b=function(n){var e=n.root,t=n.image,l=n.props.id,r=e.query("GET_ITEM",{id:l});if(r){var i=r.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},a=e.appendChildView(e.createChildView(p,{image:t,crop:i,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),e.childViews.length);e.ref.images.push(a),a.opacity=1,a.scaleX=1,a.scaleY=1,a.translateY=0,setTimeout(function(){e.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:l})},250)}},m=function(n){var e=n.root;e.ref.overlayShadow.opacity=1,e.ref.overlayError.opacity=0,e.ref.overlaySuccess.opacity=0},h=function(n){var e=n.root;e.ref.overlayShadow.opacity=.25,e.ref.overlayError.opacity=1};return t.utils.createView({name:"image-preview-wrapper",create:function(n){var e=n.root;e.ref.images=[],e.ref.imageViewBin=[],e.ref.overlayShadow=e.appendChildView(e.createChildView(f,{opacity:0,status:"idle"})),e.ref.overlaySuccess=e.appendChildView(e.createChildView(f,{opacity:0,status:"success"})),e.ref.overlayError=e.appendChildView(e.createChildView(f,{opacity:0,status:"failure"}))},styles:["height"],apis:["height"],destroy:function(n){n.root.ref.images.forEach(function(n){n.image.width=1,n.image.height=1})},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:function(n){var e=n.root,t=e.ref.images[e.ref.images.length-1];t.translateY=0,t.scaleX=1,t.scaleY=1,t.opacity=1},DID_IMAGE_PREVIEW_CONTAINER_CREATE:function(n){var e,t,l,r=n.root,i=n.props.id,a=r.query("GET_ITEM",i);a&&(e=URL.createObjectURL(a.file),t=function(n,e){r.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:i,width:n,height:e})},(l=new Image).onload=function(){var n=l.naturalWidth,e=l.naturalHeight;l=null,t(n,e)},l.src=e)},DID_FINISH_CALCULATE_PREVIEWSIZE:function(n){var e=n.root,l=n.props,r=t.utils.createWorker,i=e.query("GET_ITEM",l.id);if(i){var a=URL.createObjectURL(i.file),o=function(){var n;(n=a,new Promise(function(e,t){var l=new Image;l.crossOrigin="Anonymous",l.onload=function(){e(l)},l.onerror=function(n){t(n)},l.src=n})).then(f)},f=function(n){URL.revokeObjectURL(a);var t=(i.getMetadata("exif")||{}).orientation||-1,r=n.width,o=n.height;if(t>=5&&t<=8){var u=[o,r];r=u[0],o=u[1]}var c=Math.max(1,.75*window.devicePixelRatio),f=e.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*c,p=o/r,m=e.rect.element.width,h=e.rect.element.height,g=m,v=g*p;p>1?v=(g=Math.min(r,m*f))*p:g=(v=Math.min(o,h*f))/p;var E=function(n,e,t,l){e=Math.round(e),t=Math.round(t);var r=document.createElement("canvas");r.width=e,r.height=t;var i=r.getContext("2d");if(l>=5&&l<=8){var a=[t,e];e=a[0],t=a[1]}return function(n,e,t,l){-1!==l&&n.transform.apply(n,s[l](e,t))}(i,e,t,l),i.drawImage(n,0,0,e,t),r}(n,g,v,t),_=e.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?d(n):null;i.setMetadata("color",_,!0),"close"in n&&n.close(),e.ref.overlayShadow.opacity=1,b({root:e,props:l,image:E})};if("createImageBitmap"in window&&c(i.file)){var p=r(u);p.post({file:i.file},function(n){p.terminate(),n?f(n):o()})}else o()}},DID_UPDATE_ITEM_METADATA:function(n){var e=n.root,t=n.props;if("crop"===n.action.change.key&&e.ref.images.length){var l=e.query("GET_ITEM",{id:t.id});if(l){var r,i,a=l.getMetadata("crop");if(Math.abs(a.aspectRatio-e.ref.images[e.ref.images.length-1].crop.aspectRatio)>1e-5){var o=function(n){var e=n.root,t=e.ref.images.shift();return t.opacity=0,t.translateY=-15,e.ref.imageViewBin.push(t),t}({root:e});b({root:e,props:t,image:(r=o.image,(i=i||document.createElement("canvas")).width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0),i)})}else!function(n){var e=n.root,t=e.query("GET_ITEM",{id:n.props.id});t&&(e.ref.images[e.ref.images.length-1].crop=t.getMetadata("crop"))}({root:e,props:t})}}},DID_THROW_ITEM_LOAD_ERROR:h,DID_THROW_ITEM_PROCESSING_ERROR:h,DID_THROW_ITEM_INVALID:h,DID_COMPLETE_ITEM_PROCESSING:function(n){var e=n.root;e.ref.overlayShadow.opacity=.25,e.ref.overlaySuccess.opacity=1},DID_START_ITEM_PROCESSING:m,DID_REVERT_ITEM_PROCESSING:m},function(n){var e=n.root,t=e.ref.imageViewBin.filter(function(n){return 0===n.opacity});e.ref.imageViewBin=e.ref.imageViewBin.filter(function(n){return n.opacity>0}),t.forEach(function(n){return function(n,e){n.removeChildView(e),e.image.width=1,e.image.height=1,e._destroy()}(e,n)}),t.length=0})})},b=function(n){var e=n.addFilter,t=n.utils,l=t.Type,r=t.createRoute,i=t.isFile,a=p(n);return e("CREATE_VIEW",function(n){var e=n.view,t=n.query;if((0,n.is)("file")&&t("GET_ALLOW_IMAGE_PREVIEW")){var l=function(n){n.root.ref.shouldRescale=!0};e.registerWriter(r({DID_RESIZE_ROOT:l,DID_STOP_RESIZE:l,DID_LOAD_ITEM:function(n){var l=n.root,r=n.props.id,o=t("GET_ITEM",r);if(o&&i(o.file)&&!o.archived){var u=o.file;if(function(n){return/^image/.test(n.type)}(u)){var s="createImageBitmap"in(window||{}),c=t("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!s&&c&&u.size>c)){l.ref.imagePreview=e.appendChildView(e.createChildView(a,{id:r}));var d=l.query("GET_IMAGE_PREVIEW_HEIGHT");d&&l.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:o.id,height:d});var f=!s&&u.size>t("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");l.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:r},f)}}}},DID_IMAGE_PREVIEW_CALCULATE_SIZE:function(n){var e=n.root,t=n.action;e.ref.imageWidth=t.width,e.ref.imageHeight=t.height,e.ref.shouldRescale=!0,e.ref.shouldDrawPreview=!0,e.dispatch("KICK")},DID_UPDATE_ITEM_METADATA:function(n){"crop"===n.action.change.key&&(n.root.ref.shouldRescale=!0)}},function(n){var e=n.root,t=n.props;e.rect.element.hidden||(e.ref.shouldRescale&&(function(n,e){if(n.ref.imagePreview){var t=n.query("GET_ITEM",{id:e.id});if(t){var l=n.query("GET_PANEL_ASPECT_RATIO"),r=n.query("GET_ITEM_PANEL_ASPECT_RATIO"),i=n.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(l||r||i)){var a=n.ref,o=a.imageWidth,u=a.imageHeight;if(o&&u){var s=n.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),d=n.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),f=(t.getMetadata("exif")||{}).orientation||-1;if(f>=5&&f<=8){var p=[u,o];o=p[0],u=p[1]}if(!c(t.file)||n.query("GET_IMAGE_PREVIEW_UPSCALE")){var b=2048/o;o*=b,u*=b}var m=u/o,h=(t.getMetadata("crop")||{}).aspectRatio||m,g=Math.max(s,Math.min(u,d)),v=Math.min(n.rect.element.width*h,g);n.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:t.id,height:v})}}}}}(e,t),e.ref.shouldRescale=!1),e.ref.shouldDrawPreview&&(requestAnimationFrame(function(){e.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:t.id})}),e.ref.shouldDrawPreview=!1))}))}}),{options:{allowImagePreview:[!0,l.BOOLEAN],imagePreviewHeight:[null,l.INT],imagePreviewMinHeight:[44,l.INT],imagePreviewMaxHeight:[256,l.INT],imagePreviewMaxFileSize:[null,l.INT],imagePreviewZoomFactor:[2,l.INT],imagePreviewUpscale:[!1,l.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,l.INT],imagePreviewTransparencyIndicator:[null,l.STRING],imagePreviewCalculateAverageImageColor:[!1,l.BOOLEAN]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:b})),b}()},WTRC:function(n,e,t){(function(n){var t,l;l=function(n,e){function t(n,e,t){for(var l=document.createElementNS("http://www.w3.org/2000/svg",e),r=2;r+1<arguments.length;r+=2)l.setAttribute(arguments[r],arguments[r+1]);n.appendChild(l)}function l(n){for(this.b=Math.min(Number(n.getAttribute("width"))||100,Number(n.getAttribute("height"))||100),this.a=n;n.firstChild;)n.removeChild(n.firstChild);n.setAttribute("viewBox","0 0 "+this.b+" "+this.b),n.setAttribute("preserveAspectRatio","xMidYMid meet")}function r(n){this.b=n,this.a='<svg xmlns="http://www.w3.org/2000/svg" width="'+n+'" height="'+n+'" viewBox="0 0 '+n+" "+n+'" preserveAspectRatio="xMidYMid meet">'}function i(n,e){var t=n.canvas.width,l=n.canvas.height;n.save(),this.b=n,e?this.a=e:(this.a=Math.min(t,l),n.translate((t-this.a)/2|0,(l-this.a)/2|0)),n.clearRect(0,0,this.a,this.a)}function a(n){return 0>(n|=0)?"00":16>n?"0"+n.toString(16):256>n?n.toString(16):"ff"}function o(n,e,t){return a(255*(1>(t=0>t?t+6:6<t?t-6:t)?n+(e-n)*t:3>t?e:4>t?n+(e-n)*(4-t):n))}function u(n,e,t){return parseInt(n.substr(e,t),16)}function s(n){return(10*n+.5|0)/10}function c(){this.j=""}function d(n){this.b={},this.h=n,this.a=n.b}function f(n){this.h=n,this.c=m.a}function p(n,e){return n=e.O(n),[T.i(n,e.H,e.G(0)),T.i(n,e.v,e.u(.5)),T.i(n,e.H,e.G(1)),T.i(n,e.v,e.u(1)),T.i(n,e.v,e.u(0))]}function b(n,e){this.x=n,this.y=e}function m(n,e,t,l){this.b=n,this.c=e,this.h=t,this.a=l}function h(n,e,t,l,r,i,a){function o(r,i,a,o,s){for(o=o?u(e,o,1):0,i=i[u(e,a,1)%i.length],n.D(b[h[r]]),r=0;r<s.length;r++)c.c=new m(t+s[r][0]*d,l+s[r][1]*d,d,o++%4),i(c,d,r);n.F()}function s(n){if(0<=n.indexOf(g))for(var e=0;e<n.length;e++)if(0<=h.indexOf(n[e]))return!0}a.C&&n.m(a.C),r-=2*(i=.5+r*(void 0===i?.08:i)|0);var c=new f(n),d=0|r/4;t+=0|i+r/2-2*d,l+=0|i+r/2-2*d;var b=p(u(e,-7)/268435455,a),h=[];for(r=0;3>r;r++){var g=u(e,8+r,1)%b.length;(s([0,4])||s([2,3]))&&(g=1),h.push(g)}o(0,R.I,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),o(1,R.I,4,5,[[0,0],[3,0],[3,3],[0,3]]),o(2,R.M,1,null,[[1,1],[2,1],[2,2],[1,2]]),n.finish()}function g(){function e(n,e){var t=l[n];return t&&1<t.length||(t=e),function(n){return 0>(n=t[0]+n*(t[1]-t[0]))?0:1<n?1:n}}var t=I.config||n.jdenticon_config||{},l=t.lightness||{},r=t.saturation||{},i="color"in r?r.color:r;return{O:function(n){var e,l=t.hues;return l&&0<l.length&&(e=l[0|.999*n*l.length]),"number"==typeof e?(e/360%1+1)%1:n},v:"number"==typeof i?i:.5,H:"number"==typeof(r=r.grayscale)?r:0,u:e("color",[.4,.8]),G:e("grayscale",[.3,.9]),C:T.parse(t.backColor)}}function v(n){return/^[0-9a-f]{11,}$/i.test(n)&&n}function E(n){return function(n){return function(n){for(var e=[],t=0;t<n.length;t++)for(var l=n[t],r=28;0<=r;r-=4)e.push((l>>>r&15).toString(16));return e.join("")}(function(n){for(var e=1732584193,t=4023233417,l=2562383102,r=271733878,i=3285377520,a=[e,t,l,r,i],o=0;o<n.length;o++){for(var u=n[o],s=16;80>s;s++){var c=u[s-3]^u[s-8]^u[s-14]^u[s-16];u[s]=c<<1|c>>>31}for(s=0;80>s;s++)c=(e<<5|e>>>27)+(20>s?1518500249+(t&l^~t&r):40>s?1859775393+(t^l^r):60>s?2400959708+(t&l^t&r^l&r):3395469782+(t^l^r))+i+u[s],i=r,r=l,l=t<<30|t>>>2,t=e,e=0|c;a[0]=e=a[0]+e|0,a[1]=t=a[1]+t|0,a[2]=l=a[2]+l|0,a[3]=r=a[3]+r|0,a[4]=i=a[4]+i|0}return a}(function(n){function e(n,e){for(var t=[],r=-1,i=0;i<e;i++)t[r=i/4|0]=(t[r]||0)+(l[n+i]<<8*(3-(3&i)));for(;16>++r;)t[r]=0;return t}var t=encodeURI(n),l=[];n=0;var r,i=[];for(r=0;r<t.length;r++){if("%"==t[r]){var a=u(t,r+1,2);r+=2}else a=t.charCodeAt(r);l[n++]=a}for(l[n++]=128,r=0;r+64<=n;r+=64)i.push(e(r,64));return r=e(r,t=n-r),64<t+8&&(i.push(r),r=e(0,0)),r[15]=8*n-8,i.push(r),i}(n)))}(null==n?"":""+n)}function _(n,e,t){if("string"==typeof n){if(y.J){n=document.querySelectorAll(n);for(var r=0;r<n.length;r++)_(n[r],e,t)}}else(r=y.w(n))&&(e=v(e)||null!=e&&E(e)||v(n.getAttribute(y.s))||n.hasAttribute(y.o)&&E(n.getAttribute(y.o)))&&h(n=r==y.B?new d(new l(n)):new i(n.getContext("2d")),e,0,0,n.a,t,g())}function I(){y.J&&_(y.A)}l.prototype={m:function(n,e){e&&t(this.a,"rect","width","100%","height","100%","fill",n,"opacity",e)},c:function(n,e){t(this.a,"path","fill",n,"d",e)}},r.prototype={m:function(n,e){e&&(this.a+='<rect width="100%" height="100%" fill="'+n+'" opacity="'+e.toFixed(2)+'"/>')},c:function(n,e){this.a+='<path fill="'+n+'" d="'+e+'"/>'},toString:function(){return this.a+"</svg>"}};var y={B:1,L:2,s:"data-jdenticon-hash",o:"data-jdenticon-value",J:"undefined"!=typeof document&&"querySelectorAll"in document,w:function(n){if(n){var e=n.tagName;if(/svg/i.test(e))return y.B;if(/canvas/i.test(e)&&"getContext"in n)return y.L}}};y.A="["+y.s+"],["+y.o+"]",i.prototype={m:function(n){var e=this.b,t=this.a;e.fillStyle=T.K(n),e.fillRect(0,0,t,t)},D:function(n){this.b.fillStyle=T.K(n),this.b.beginPath()},F:function(){this.b.fill()},f:function(n){var e,t=this.b;for(t.moveTo(n[0].x,n[0].y),e=1;e<n.length;e++)t.lineTo(n[e].x,n[e].y);t.closePath()},g:function(n,e,t){var l=this.b;l.moveTo(n.x+(e/=2),n.y+e),l.arc(n.x+e,n.y+e,e,0,2*Math.PI,t),l.closePath()},finish:function(){this.b.restore()}};var T={P:function(n,e,t){return"#"+a(n)+a(e)+a(t)},parse:function(n){if(/^#[0-9a-f]{3,8}$/i.test(n)){if(6>n.length){var e=n[1],t=n[2],l=n[3];return"#"+e+e+t+t+l+l+(n=n[4]||"")+n}if(7==n.length||8<n.length)return n}},K:function(n){var e=u(n,7,2);return isNaN(e)?n:"rgba("+u(n,1,2)+","+u(n,3,2)+","+u(n,5,2)+","+(e/255).toFixed(2)+")"},N:function(n,e,t){return 0==e?"#"+(n=a(255*t))+n+n:"#"+o(t=2*t-(e=.5>=t?t*(e+1):t+e-t*e),e,6*n+2)+o(t,e,6*n)+o(t,e,6*n-2)},i:function(n,e,t){var l=[.55,.5,.5,.46,.6,.55,.55][6*n+.5|0];return T.N(n,e,.5>t?t*l*2:l+(t-.5)*(1-l)*2)}},R={M:[function(n,e){var t=.42*e;n.f([0,0,e,0,e,e-2*t,e-t,e,0,e])},function(n,e){var t=0|.5*e;n.b(e-t,0,t,0|.8*e,2)},function(n,e){var t=0|e/3;n.a(t,t,e-t,e-t)},function(n,e){var t=.1*e,l=6>e?1:8>e?2:0|.25*e;n.a(l,l,e-(t=1<t?0|t:.5<t?1:t)-l,e-t-l)},function(n,e){var t=0|.15*e,l=0|.5*e;n.g(e-l-t,e-l-t,l)},function(n,e){var t=.1*e,l=4*t;3<l&&(l|=0),n.a(0,0,e,e),n.f([l,l,e-t,l,l+(e-l-t)/2,e-t],!0)},function(n,e){n.f([0,0,e,0,e,.7*e,.4*e,.4*e,.7*e,e,0,e])},function(n,e){n.b(e/2,e/2,e/2,e/2,3)},function(n,e){n.a(0,0,e,e/2),n.a(0,e/2,e/2,e/2),n.b(e/2,e/2,e/2,e/2,1)},function(n,e){var t=.14*e,l=4>e?1:6>e?2:0|.35*e;t=8>e?t:0|t,n.a(0,0,e,e),n.a(l,l,e-l-t,e-l-t,!0)},function(n,e){var t=.12*e,l=3*t;n.a(0,0,e,e),n.g(l,l,e-t-l,!0)},function(n,e){n.b(e/2,e/2,e/2,e/2,3)},function(n,e){var t=.25*e;n.a(0,0,e,e),n.l(t,t,e-t,e-t,!0)},function(n,e,t){var l=.4*e;t||n.g(l,l,1.2*e)}],I:[function(n,e){n.b(0,0,e,e,0)},function(n,e){n.b(0,e/2,e,e/2,0)},function(n,e){n.l(0,0,e,e)},function(n,e){var t=e/6;n.g(t,t,e-2*t)}]};return c.prototype={f:function(n){for(var e="M"+s(n[0].x)+" "+s(n[0].y),t=1;t<n.length;t++)e+="L"+s(n[t].x)+" "+s(n[t].y);this.j+=e+"Z"},g:function(n,e,t){t=t?0:1;var l=s(e/2),r=s(e);this.j+="M"+s(n.x)+" "+s(n.y+e/2)+"a"+l+","+l+" 0 1,"+t+" "+r+",0a"+l+","+l+" 0 1,"+t+" "+-r+",0"}},d.prototype={m:function(n){n=/^(#......)(..)?/.exec(n),this.h.m(n[1],n[2]?u(n[2],0)/255:1)},D:function(n){this.c=this.b[n]||(this.b[n]=new c)},F:function(){},f:function(n){this.c.f(n)},g:function(n,e,t){this.c.g(n,e,t)},finish:function(){for(var n in this.b)this.h.c(n,this.b[n].j)}},f.prototype={f:function(n,e){var t=e?-2:2,l=this.c,r=[];for(e=e?n.length-2:0;e<n.length&&0<=e;e+=t)r.push(l.l(n[e],n[e+1]));this.h.f(r)},g:function(n,e,t,l){this.h.g(this.c.l(n,e,t,t),t,l)},a:function(n,e,t,l,r){this.f([n,e,n+t,e,n+t,e+l,n,e+l],r)},b:function(n,e,t,l,r,i){(n=[n+t,e,n+t,e+l,n,e+l,n,e]).splice((r||0)%4*2,2),this.f(n,i)},l:function(n,e,t,l,r){this.f([n+t/2,e,n+t,e+l/2,n+t/2,e+l,n,e+l/2],r)}},m.prototype={l:function(n,e,t,l){var r=this.b+this.h,i=this.c+this.h;return 1===this.a?new b(r-e-(l||0),this.c+n):2===this.a?new b(r-n-(t||0),i-e-(l||0)):3===this.a?new b(this.b+e,i-n-(t||0)):new b(this.b+n,this.c+e)}},m.a=new m(0,0,0,0),I.drawIcon=function(n,e,t,l){if(!n)throw Error("No canvas specified.");h(n=new i(n,t),v(e)||E(e),0,0,t,l||0,g())},I.toSvg=function(n,e,t){var l=new r(e);return h(new d(l),v(n)||E(n),0,0,e,t,g()),l.toString()},I.update=_,I.version="2.1.1",e&&(e.fn.jdenticon=function(n,e){return this.each(function(t,l){_(l,n,e)}),this}),"function"==typeof setTimeout&&setTimeout(function(){var e=(I.config||n.jdenticon_config||{}).replaceMode;"never"!=e&&(I(),"observe"==e&&function(n){"undefined"!=typeof MutationObserver&&new MutationObserver(function(e){for(var t=0;t<e.length;t++){for(var l=e[t],r=l.addedNodes,i=0;r&&i<r.length;i++){var a=r[i];if(1==a.nodeType)if(y.w(a))n(a);else{a=a.querySelectorAll(y.A);for(var o=0;o<a.length;o++)n(a[o])}}"attributes"==l.type&&y.w(l.target)&&n(l.target)}}).observe(document.body,{childList:!0,attributes:!0,attributeFilter:[y.o,y.s,"width","height"],subtree:!0})}(_))},0),I}(this,this.jQuery),"exports"in n?n.exports=l:void 0===(t=(function(){return l}).apply(e,[]))||(n.exports=t)}).call(this,t("YuTi")(n))},gtPb:function(n,e,t){n.exports=function(){"use strict";var n=function(n,e){return n.getUint16(e,arguments.length>2&&void 0!==arguments[2]&&arguments[2])},e=function(n,e){return n.getUint32(e,arguments.length>2&&void 0!==arguments[2]&&arguments[2])},t=function(t){var l=t.utils,r=l.Type,i=l.isFile;return(0,t.addFilter)("DID_LOAD_ITEM",function(t,l){var r=l.query;return new Promise(function(l,a){var o=t.file;if(!i(o)||!function(n){return/^image\/jpeg/.test(n.type)}(o)||!r("GET_ALLOW_IMAGE_EXIF_ORIENTATION"))return l(t);(function(t){return new Promise(function(l,r){var i=new FileReader;i.onload=function(t){var r=new DataView(t.target.result);if(65496===n(r,0)){for(var i=r.byteLength,a=2;a<i;){var o=n(r,a);if(a+=2,65505===o){if(1165519206!==e(r,a+=2))break;var u=18761===n(r,a+=6);a+=e(r,a+4,u);var s=n(r,a,u);a+=2;for(var c=0;c<s;c++)if(274===n(r,a+12*c,u))return void l(n(r,a+12*c+8,u))}else{if(65280!=(65280&o))break;a+=n(r,a)}}l(-1)}else l(-1)},i.readAsArrayBuffer(t.slice(0,65536))})})(o).then(function(n){t.setMetadata("exif",{orientation:n}),l(t)})})}),{options:{allowImageExifOrientation:[!0,r.BOOLEAN]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),t}()},"uP/6":function(n,e,t){"use strict";t.r(e);var l=t("CcnG"),r=t("wGJR"),i=Object(r.supported)(),a=["id","name","class","multiple","required","disabled","capture","accept"],o=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],u=["oninit","onwarning","onerror","onaddfilestart","onaddfileprogress","onaddfile","onprocessfilestart","onprocessfileprogress","onprocessfileabort","onprocessfilerevert","onprocessfile","onremovefile","onpreparefile","onupdatefiles"],s=function(){function n(n,e){var t=this;this.options={},this.handleEvent=null,this.root=n,this.zone=e,u.forEach(function(n){t[n]=new l.n})}return n.prototype.ngAfterViewInit=function(){var n=this,e=this.root.nativeElement.querySelector("input"),t=this.root.nativeElement.attributes;a.forEach(function(l){var r=t[l]?t[l].value:n.options[l];r&&e.setAttribute(l,r)}),i&&(this.handleEvent=function(e){n["on"+e.type.split(":")[1]].emit(Object.assign({},e.detail))},u.forEach(function(e){n.root.nativeElement.addEventListener("FilePond:"+e.substr(2),n.handleEvent)}),this.zone.runOutsideAngular(function(){n.pond=Object(r.create)(e,Object.assign({},n.options,{files:n.files}))}),Object.keys(this.pond).filter(function(n){return-1===o.indexOf(n)}).forEach(function(e){n[e]=n.pond[e]}))},n.prototype.ngOnChanges=function(n){if(!n.firstChange&&this.pond){var e=n.options?n.options.currentValue:this.options;n.files&&JSON.stringify(n.files.previousValue)!==JSON.stringify(n.files.currentValue)&&(e.files=n.files.currentValue),this.pond.setOptions(e)}},n.prototype.ngOnDestroy=function(){var n=this;this.pond&&(u.forEach(function(e){n.root.nativeElement.removeEventListener("FilePond:"+e.substr(2),n.handleEvent)}),this.pond.destroy())},n}(),c=function(){return function(){}}(),d=t("gtPb"),f=t.n(d),p=t("GUIp"),b=t.n(p),m=t("LPyF"),h=t.n(m);Object(r.registerPlugin)(f.a),Object(r.registerPlugin)(b.a),Object(r.registerPlugin)(h.a);var g=function(){return function(){}}(),v=t("pMnS"),E=t("MBfO"),_=t("Z+uX"),I=t("wFw1"),y=t("6UMx"),T=t("0/Q6"),R=t("Mr+X"),O=t("SMsm"),w=t("Wf4p"),S=t("lzlj"),D=t("FVSy"),L=t("ZYCi"),A=t("Ip0R"),C=t("AytR"),B=t("t/Na"),P=function(){function n(n){this.http=n}return n.prototype.get=function(){return this.http.get(C.a.api+"/stats/")},n.ngInjectableDef=l.V({factory:function(){return new n(l.Z(B.c))},token:n,providedIn:"root"}),n}(),M=function(){function n(n){this.statsService=n,this.stats$=null}return n.prototype.ngOnInit=function(){this.stats$=this.statsService.get()},n}(),x=l.qb({encapsulation:0,styles:[[""]],data:{}});function N(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["color","primary"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,E.b,E.a)),l.rb(1,4374528,null,0,_.b,[l.k,l.B,[2,I.a],[2,_.a]],{color:[0,"color"],mode:[1,"mode"]},null)],function(n,e){n(e,1,0,"primary","indeterminate")},function(n,e){n(e,0,0,l.Bb(e,1).value,l.Bb(e,1).mode,l.Bb(e,1)._isNoopAnimation)})}function G(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,46,"mat-list",[["class","mat-list mat-list-base"]],null,null,null,y.e,y.a)),l.rb(1,704512,null,0,T.a,[l.k],null,null),(n()(),l.sb(2,0,null,0,14,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,y.d,y.b)),l.rb(3,1228800,null,3,T.c,[l.k,[2,T.g],[2,T.a],l.h],null,null),l.Hb(603979776,10,{_lines:1}),l.Hb(335544320,11,{_avatar:0}),l.Hb(335544320,12,{_icon:0}),(n()(),l.sb(7,0,null,0,3,"mat-icon",[["class","mat-icon notranslate mat-list-icon"],["matListIcon",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,R.b,R.a)),l.rb(8,9158656,null,0,O.b,[l.k,O.d,[8,null],[2,O.a]],null,null),l.rb(9,16384,[[12,4]],0,T.b,[],null,null),(n()(),l.Jb(-1,0,["trending_up"])),(n()(),l.sb(11,0,null,1,2,"h4",[["class","mat-line"],["mat-line",""]],null,null,null,null,null)),l.rb(12,16384,[[10,4]],0,w.o,[],null,null),(n()(),l.Jb(13,null,[""," days"])),(n()(),l.sb(14,0,null,1,2,"p",[["class","mat-line"],["mat-line",""]],null,null,null,null,null)),l.rb(15,16384,[[10,4]],0,w.o,[],null,null),(n()(),l.Jb(-1,null,["Current Streak"])),(n()(),l.sb(17,0,null,0,14,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,y.d,y.b)),l.rb(18,1228800,null,3,T.c,[l.k,[2,T.g],[2,T.a],l.h],null,null),l.Hb(603979776,13,{_lines:1}),l.Hb(335544320,14,{_avatar:0}),l.Hb(335544320,15,{_icon:0}),(n()(),l.sb(22,0,null,0,3,"mat-icon",[["class","mat-icon notranslate mat-list-icon"],["matListIcon",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,R.b,R.a)),l.rb(23,9158656,null,0,O.b,[l.k,O.d,[8,null],[2,O.a]],null,null),l.rb(24,16384,[[15,4]],0,T.b,[],null,null),(n()(),l.Jb(-1,0,["stars"])),(n()(),l.sb(26,0,null,1,2,"h4",[["class","mat-line"],["mat-line",""]],null,null,null,null,null)),l.rb(27,16384,[[13,4]],0,w.o,[],null,null),(n()(),l.Jb(28,null,["",""])),(n()(),l.sb(29,0,null,1,2,"p",[["class","mat-line"],["mat-line",""]],null,null,null,null,null)),l.rb(30,16384,[[13,4]],0,w.o,[],null,null),(n()(),l.Jb(-1,null,["# Check Ins"])),(n()(),l.sb(32,0,null,0,14,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,y.d,y.b)),l.rb(33,1228800,null,3,T.c,[l.k,[2,T.g],[2,T.a],l.h],null,null),l.Hb(603979776,16,{_lines:1}),l.Hb(335544320,17,{_avatar:0}),l.Hb(335544320,18,{_icon:0}),(n()(),l.sb(37,0,null,0,3,"mat-icon",[["class","mat-icon notranslate mat-list-icon"],["matListIcon",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,R.b,R.a)),l.rb(38,9158656,null,0,O.b,[l.k,O.d,[8,null],[2,O.a]],null,null),l.rb(39,16384,[[18,4]],0,T.b,[],null,null),(n()(),l.Jb(-1,0,["timeline"])),(n()(),l.sb(41,0,null,1,2,"h4",[["class","mat-line"],["mat-line",""]],null,null,null,null,null)),l.rb(42,16384,[[16,4]],0,w.o,[],null,null),(n()(),l.Jb(43,null,[""," days"])),(n()(),l.sb(44,0,null,1,2,"p",[["class","mat-line"],["mat-line",""]],null,null,null,null,null)),l.rb(45,16384,[[16,4]],0,w.o,[],null,null),(n()(),l.Jb(-1,null,["Longest Streak"]))],function(n,e){n(e,8,0),n(e,23,0),n(e,38,0)},function(n,e){n(e,2,0,l.Bb(e,3)._avatar||l.Bb(e,3)._icon,l.Bb(e,3)._avatar||l.Bb(e,3)._icon),n(e,7,0,l.Bb(e,8).inline,"primary"!==l.Bb(e,8).color&&"accent"!==l.Bb(e,8).color&&"warn"!==l.Bb(e,8).color),n(e,13,0,e.context.ngIf.current_streak),n(e,17,0,l.Bb(e,18)._avatar||l.Bb(e,18)._icon,l.Bb(e,18)._avatar||l.Bb(e,18)._icon),n(e,22,0,l.Bb(e,23).inline,"primary"!==l.Bb(e,23).color&&"accent"!==l.Bb(e,23).color&&"warn"!==l.Bb(e,23).color),n(e,28,0,e.context.ngIf.num_checkins),n(e,32,0,l.Bb(e,33)._avatar||l.Bb(e,33)._icon,l.Bb(e,33)._avatar||l.Bb(e,33)._icon),n(e,37,0,l.Bb(e,38).inline,"primary"!==l.Bb(e,38).color&&"accent"!==l.Bb(e,38).color&&"warn"!==l.Bb(e,38).color),n(e,43,0,e.context.ngIf.longest_streak)})}function k(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,52,"mat-card",[["class","mat-card"]],null,null,null,S.d,S.a)),l.rb(1,49152,null,0,D.a,[],null,null),(n()(),l.sb(2,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,S.c,S.b)),l.rb(3,49152,null,0,D.e,[],null,null),(n()(),l.sb(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l.rb(5,16384,null,0,D.i,[],null,null),(n()(),l.Jb(-1,null,["Welcome"])),(n()(),l.sb(7,0,null,0,45,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(8,16384,null,0,D.d,[],null,null),(n()(),l.sb(9,0,null,null,43,"mat-nav-list",[["class","mat-nav-list mat-list-base"],["role","navigation"]],null,null,null,y.f,y.c)),l.rb(10,704512,null,0,T.g,[],null,null),(n()(),l.sb(11,0,null,0,13,"a",[["class","mat-list-item"],["mat-list-item",""]],[[1,"target",0],[8,"href",4],[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"click"]],function(n,e,t){var r=!0;return"click"===e&&(r=!1!==l.Bb(n,12).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&r),r},y.d,y.b)),l.rb(12,671744,null,0,L.l,[L.k,L.a,A.j],{routerLink:[0,"routerLink"]},null),l.Cb(13,2),l.rb(14,1228800,null,3,T.c,[l.k,[2,T.g],[2,T.a],l.h],null,null),l.Hb(603979776,1,{_lines:1}),l.Hb(335544320,2,{_avatar:0}),l.Hb(335544320,3,{_icon:0}),(n()(),l.sb(18,0,null,0,3,"mat-icon",[["class","mat-icon notranslate mat-list-icon"],["matListIcon",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,R.b,R.a)),l.rb(19,9158656,null,0,O.b,[l.k,O.d,[8,null],[2,O.a]],null,null),l.rb(20,16384,[[3,4]],0,T.b,[],null,null),(n()(),l.Jb(-1,0,["play_circle_filled"])),(n()(),l.sb(22,0,null,1,2,"h4",[["class","mat-line"],["mat-line",""]],null,null,null,null,null)),l.rb(23,16384,[[1,4]],0,w.o,[],null,null),(n()(),l.Jb(-1,null,[" Play "])),(n()(),l.sb(25,0,null,0,13,"a",[["class","mat-list-item"],["mat-list-item",""]],[[1,"target",0],[8,"href",4],[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"click"]],function(n,e,t){var r=!0;return"click"===e&&(r=!1!==l.Bb(n,26).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&r),r},y.d,y.b)),l.rb(26,671744,null,0,L.l,[L.k,L.a,A.j],{routerLink:[0,"routerLink"]},null),l.Cb(27,2),l.rb(28,1228800,null,3,T.c,[l.k,[2,T.g],[2,T.a],l.h],null,null),l.Hb(603979776,4,{_lines:1}),l.Hb(335544320,5,{_avatar:0}),l.Hb(335544320,6,{_icon:0}),(n()(),l.sb(32,0,null,0,3,"mat-icon",[["class","mat-icon notranslate mat-list-icon"],["matListIcon",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,R.b,R.a)),l.rb(33,9158656,null,0,O.b,[l.k,O.d,[8,null],[2,O.a]],null,null),l.rb(34,16384,[[6,4]],0,T.b,[],null,null),(n()(),l.Jb(-1,0,["history"])),(n()(),l.sb(36,0,null,1,2,"h4",[["class","mat-line"],["mat-line",""]],null,null,null,null,null)),l.rb(37,16384,[[4,4]],0,w.o,[],null,null),(n()(),l.Jb(-1,null,[" History "])),(n()(),l.sb(39,0,null,0,13,"a",[["class","mat-list-item"],["mat-list-item",""]],[[1,"target",0],[8,"href",4],[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"click"]],function(n,e,t){var r=!0;return"click"===e&&(r=!1!==l.Bb(n,40).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&r),r},y.d,y.b)),l.rb(40,671744,null,0,L.l,[L.k,L.a,A.j],{routerLink:[0,"routerLink"]},null),l.Cb(41,2),l.rb(42,1228800,null,3,T.c,[l.k,[2,T.g],[2,T.a],l.h],null,null),l.Hb(603979776,7,{_lines:1}),l.Hb(335544320,8,{_avatar:0}),l.Hb(335544320,9,{_icon:0}),(n()(),l.sb(46,0,null,0,3,"mat-icon",[["class","mat-icon notranslate mat-list-icon"],["matListIcon",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,R.b,R.a)),l.rb(47,9158656,null,0,O.b,[l.k,O.d,[8,null],[2,O.a]],null,null),l.rb(48,16384,[[9,4]],0,T.b,[],null,null),(n()(),l.Jb(-1,0,["settings"])),(n()(),l.sb(50,0,null,1,2,"h4",[["class","mat-line"],["mat-line",""]],null,null,null,null,null)),l.rb(51,16384,[[7,4]],0,w.o,[],null,null),(n()(),l.Jb(-1,null,[" Settings "])),(n()(),l.sb(53,0,null,null,12,"mat-card",[["class","mat-card"]],null,null,null,S.d,S.a)),l.rb(54,49152,null,0,D.a,[],null,null),(n()(),l.sb(55,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,S.c,S.b)),l.rb(56,49152,null,0,D.e,[],null,null),(n()(),l.sb(57,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l.rb(58,16384,null,0,D.i,[],null,null),(n()(),l.Jb(-1,null,[" Your Stats "])),(n()(),l.sb(60,0,null,0,5,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(61,16384,null,0,D.d,[],null,null),(n()(),l.jb(0,[["loader",2]],null,0,null,N)),(n()(),l.jb(16777216,null,null,2,null,G)),l.rb(64,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l.Db(131072,A.b,[l.h])],function(n,e){var t=e.component,r=n(e,13,0,".","play");n(e,12,0,r),n(e,19,0);var i=n(e,27,0,".","history");n(e,26,0,i),n(e,33,0);var a=n(e,41,0,".","settings");n(e,40,0,a),n(e,47,0),n(e,64,0,l.Kb(e,64,0,l.Bb(e,65).transform(t.stats$)),l.Bb(e,62))},function(n,e){n(e,11,0,l.Bb(e,12).target,l.Bb(e,12).href,l.Bb(e,14)._avatar||l.Bb(e,14)._icon,l.Bb(e,14)._avatar||l.Bb(e,14)._icon),n(e,18,0,l.Bb(e,19).inline,"primary"!==l.Bb(e,19).color&&"accent"!==l.Bb(e,19).color&&"warn"!==l.Bb(e,19).color),n(e,25,0,l.Bb(e,26).target,l.Bb(e,26).href,l.Bb(e,28)._avatar||l.Bb(e,28)._icon,l.Bb(e,28)._avatar||l.Bb(e,28)._icon),n(e,32,0,l.Bb(e,33).inline,"primary"!==l.Bb(e,33).color&&"accent"!==l.Bb(e,33).color&&"warn"!==l.Bb(e,33).color),n(e,39,0,l.Bb(e,40).target,l.Bb(e,40).href,l.Bb(e,42)._avatar||l.Bb(e,42)._icon,l.Bb(e,42)._avatar||l.Bb(e,42)._icon),n(e,46,0,l.Bb(e,47).inline,"primary"!==l.Bb(e,47).color&&"accent"!==l.Bb(e,47).color&&"warn"!==l.Bb(e,47).color)})}function F(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,1,"app-main",[],null,null,null,k,x)),l.rb(1,114688,null,0,M,[P],null,null)],function(n,e){n(e,1,0)},null)}var U=l.ob("app-main",M,F,{},{},[]),V=t("bujt"),q=t("UodH"),j=t("dWZg"),z=t("lLAP"),H=t("FbN9"),Y=t("8mMr"),W=t("21Lb"),X=t("OzfB"),J=t("WTRC"),$=t.n(J),K=function(){function n(n,e){this.el=n,this.renderer=e}return n.prototype.ngOnChanges=function(n){$.a.update(this.el.nativeElement,this.identiconHash)},n}(),Z=function(){function n(n){this.sanitizer=n}return Object.defineProperty(n.prototype,"rotation",{set:function(n){this.safeTransform=this.sanitizer.bypassSecurityTrustStyle("rotate("+n+"deg)")},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n}(),Q=t("ZYjt"),nn=l.qb({encapsulation:0,styles:[[""]],data:{}});function en(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,1,"div",[["style","background-image: url('assets/compass.svg'); background-size: 100% 100%;"]],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,0,"img",[["height","100%"],["src","assets/compass-dial.png"],["width","100%"]],[[4,"transform",null]],null,null,null,null))],null,function(n,e){n(e,1,0,e.component.safeTransform)})}var tn=t("H+Hf"),ln=function(){function n(n){this.http=n}return n.prototype.get=function(){return this.http.get(C.a.api+"/geocache/active")},n.prototype.create=function(n){return this.http.post(C.a.api+"/geocache",n)},n.ngInjectableDef=l.V({factory:function(){return new n(l.Z(B.c))},token:n,providedIn:"root"}),n}(),rn=t("mrSG"),an=t("26FU"),on="OTBP_SETTINGS",un={doConstantUpdates:!1,tapToLoadImages:!1},sn=function(){function n(){this.settingsSubject=null,this.subs=[];var n=localStorage.getItem(on);this.settingsSubject=new an.a(null!==n?JSON.parse(n):un),this.subs.push(this.settingsSubject.subscribe(function(n){return localStorage.setItem(on,JSON.stringify(n))}))}return n.prototype.update=function(n){this.settingsSubject.next(rn.__assign({},this.settingsSubject.value,n))},n.prototype.observe=function(){return this.settingsSubject.asObservable()},n.prototype.currentValue=function(){return this.settingsSubject.value},n.prototype.ngOnDestroy=function(){for(var n=0,e=this.subs;n<e.length;n++)e[n].unsubscribe()},n.ngInjectableDef=l.V({factory:function(){return new n},token:n,providedIn:"root"}),n}();function cn(n){return n*Math.PI/180}var dn=function(){function n(e,t){this.start=e,this.end=t,this.distance=n.calculateHaversineDistance(e,t),this.compass=n.calculateCompassDirection(e,t)}return n.calculateHaversineDistance=function(n,e){var t=cn(n.lat),l=cn(e.lat),r=cn(e.lat-n.lat),i=cn(e.lng-n.lng),a=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t)*Math.cos(l)*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371e3},n.calculateCompassDirection=function(n,e){var t=cn(n.lat),l=cn(e.lat),r=cn(e.lng-n.lng),i=Math.sin(r)*Math.cos(l),a=Math.cos(t)*Math.sin(l)-Math.sin(t)*Math.cos(l)*Math.cos(r);return(180*Math.atan2(i,a)/Math.PI+360)%360},n}(),fn=t("IUTb"),pn=t("isby"),bn=t("FFOo"),mn=t("MGBS"),hn=t("zotm"),gn=t("En8+");function vn(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n[n.length-1];return"function"==typeof t&&n.pop(),Object(fn.a)(n,void 0).lift(new En(t))}var En=function(){function n(n){this.resultSelector=n}return n.prototype.call=function(n,e){return e.subscribe(new _n(n,this.resultSelector))},n}(),_n=function(n){function e(e,t,l){void 0===l&&(l=Object.create(null));var r=n.call(this,e)||this;return r.iterators=[],r.active=0,r.resultSelector="function"==typeof t?t:null,r.values=l,r}return rn.__extends(e,n),e.prototype._next=function(n){var e=this.iterators;Object(pn.a)(n)?e.push(new yn(n)):e.push("function"==typeof n[gn.a]?new In(n[gn.a]()):new Tn(this.destination,this,n))},e.prototype._complete=function(){var n=this.iterators,e=n.length;if(this.unsubscribe(),0!==e){this.active=e;for(var t=0;t<e;t++){var l=n[t];l.stillUnsubscribed?this.destination.add(l.subscribe(l,t)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var n=this.iterators,e=n.length,t=this.destination,l=0;l<e;l++)if("function"==typeof(a=n[l]).hasValue&&!a.hasValue())return;var r=!1,i=[];for(l=0;l<e;l++){var a,o=(a=n[l]).next();if(a.hasCompleted()&&(r=!0),o.done)return void t.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):t.next(i),r&&t.complete()},e.prototype._tryresultSelector=function(n){var e;try{e=this.resultSelector.apply(this,n)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(bn.a),In=function(){function n(n){this.iterator=n,this.nextResult=n.next()}return n.prototype.hasValue=function(){return!0},n.prototype.next=function(){var n=this.nextResult;return this.nextResult=this.iterator.next(),n},n.prototype.hasCompleted=function(){var n=this.nextResult;return n&&n.done},n}(),yn=function(){function n(n){this.array=n,this.index=0,this.length=0,this.length=n.length}return n.prototype[gn.a]=function(){return this},n.prototype.next=function(n){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}},n.prototype.hasValue=function(){return this.array.length>this.index},n.prototype.hasCompleted=function(){return this.array.length===this.index},n}(),Tn=function(n){function e(e,t,l){var r=n.call(this,e)||this;return r.parent=t,r.observable=l,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return rn.__extends(e,n),e.prototype[gn.a]=function(){return this},e.prototype.next=function(){var n=this.buffer;return 0===n.length&&this.isComplete?{value:null,done:!0}:{value:n.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(n,e,t,l,r){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(n,e){return Object(hn.a)(this,this.observable,this,e)},e}(mn.a),Rn=t("F/XL"),On=function(){function n(n){this.http=n}return n.prototype.getAll=function(){return this.http.get(C.a.api+"/checkin/user/")},n.prototype.getOne=function(n){return this.http.get(C.a.api+"/checkin/"+n)},n.prototype.create=function(n,e){return this.http.post(C.a.api+"/checkin",{geocache_id:n.id,location:e})},n.prototype.update=function(n){return this.http.put(C.a.api+"/checkin/"+n.checkin_id,{text:n.text,image_id:n.image_id})},n.ngInjectableDef=l.V({factory:function(){return new n(l.Z(B.c))},token:n,providedIn:"root"}),n}(),wn=t("15JJ"),Sn=function(){function n(n,e,t,l,r){this.locationService=n,this.geoCacheService=e,this.settingsService=t,this.checkinService=l,this.router=r,this.state="loading",this.error=null,this.directions=null,this.target=null,this.closeEnough=!1,this.subs=[]}return n.prototype.ngOnInit=function(){var n=this;this.subs.push(vn(this.geoCacheService.get(),this.locationService.getCurrentPosition()).subscribe(function(e){n.initializeState(e[0],e[1])},function(e){e&&e.error&&"No active geocache"===e.error.message?n.state="does-not-have-active":(n.state="error",n.error="Unknown Error!",e.error&&e.error.message?n.error=e.error.message:e.statusText&&(n.error=e.statusText))}))},n.prototype.createGeocache=function(){var n=this;this.locationService.getCurrentPosition().pipe(Object(wn.a)(function(e){return vn(n.geoCacheService.create(e),Object(Rn.a)(e))})).subscribe(function(e){n.initializeState(e[0],e[1])})},n.prototype.initializeState=function(n,e){this.target=n,this.updateDirections(e),this.enableAutomaticWatch(),this.state="has-active"},n.prototype.doCheckIn=function(){var n=this;this.checkinService.create(this.target,this.directions.start).subscribe(function(e){return n.router.navigate(["/","dashboard","checkin",e.id])})},n.prototype.updateDirections=function(n){this.directions=new dn(n,this.target.location),this.directions.distance<C.a.checkinMaxDistance?(console.log("DirectionsComponent","Within reach!"),!1===this.closeEnough&&(this.closeEnough=!0)):this.closeEnough=!1},n.prototype.ngOnDestroy=function(){for(var n=0,e=this.subs;n<e.length;n++)e[n].unsubscribe()},n.prototype.onManualUpdate=function(){var n=this;this.locationService.getCurrentPosition().subscribe(function(e){return n.updateDirections(e)},function(n){console.log("DirectionsComponent",n)})},n.prototype.enableAutomaticWatch=function(){var n=this;this.settingsService.currentValue().doConstantUpdates&&this.subs.push(this.locationService.watchPosition().subscribe(function(e){n.updateDirections(e)}))},n}(),Dn=l.qb({encapsulation:0,styles:[[""]],data:{}});function Ln(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,15,"div",[],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,14,"mat-card",[["class","mat-card"]],null,null,null,S.d,S.a)),l.rb(2,49152,null,0,D.a,[],null,null),(n()(),l.sb(3,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,S.c,S.b)),l.rb(4,49152,null,0,D.e,[],null,null),(n()(),l.sb(5,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l.rb(6,16384,null,0,D.i,[],null,null),(n()(),l.Jb(-1,null,[" Loading "])),(n()(),l.sb(8,0,null,0,7,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(9,16384,null,0,D.d,[],null,null),(n()(),l.sb(10,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),l.sb(11,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,["Note:"])),(n()(),l.Jb(-1,null,[" You must allow location access for this app to work properly. "])),(n()(),l.sb(14,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["color","primary"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,E.b,E.a)),l.rb(15,4374528,null,0,_.b,[l.k,l.B,[2,I.a],[2,_.a]],{color:[0,"color"],mode:[1,"mode"]},null)],function(n,e){n(e,15,0,"primary","indeterminate")},function(n,e){n(e,14,0,l.Bb(e,15).value,l.Bb(e,15).mode,l.Bb(e,15)._isNoopAnimation)})}function An(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,2,"button",[["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doCheckIn()&&l),l},V.d,V.b)),l.rb(1,180224,null,0,q.b,[l.k,j.a,z.g,[2,I.a]],null,null),(n()(),l.Jb(-1,0,[" CheckIn "]))],null,function(n,e){n(e,0,0,l.Bb(e,1).disabled||null,"NoopAnimations"===l.Bb(e,1)._animationMode)})}function Cn(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,2,"button",[["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.onManualUpdate()&&l),l},V.d,V.b)),l.rb(1,180224,null,0,q.b,[l.k,j.a,z.g,[2,I.a]],null,null),(n()(),l.Jb(-1,0,[" Update "]))],null,function(n,e){n(e,0,0,l.Bb(e,1).disabled||null,"NoopAnimations"===l.Bb(e,1)._animationMode)})}function Bn(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,37,"div",[],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,6,"mat-toolbar",[["class","mat-toolbar"],["fxLayout","row"],["fxLayoutAlign","center center"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,H.b,H.a)),l.rb(2,4243456,null,1,Y.a,[l.k,j.a,A.d],null,null),l.Hb(603979776,1,{_toolbarRows:1}),l.rb(4,671744,null,0,W.c,[l.k,X.i,[2,W.g],X.f],{fxLayout:[0,"fxLayout"]},null),l.rb(5,671744,null,0,W.b,[l.k,X.i,[2,W.f],X.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),l.sb(6,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,["You're On Your Way"])),(n()(),l.sb(8,0,null,null,29,"mat-card",[["class","mat-card"]],null,null,null,S.d,S.a)),l.rb(9,49152,null,0,D.a,[],null,null),(n()(),l.sb(10,0,null,0,8,"mat-card-header",[["class","mat-card-header"]],null,null,null,S.c,S.b)),l.rb(11,49152,null,0,D.e,[],null,null),(n()(),l.sb(12,0,null,0,3,"div",[["class","mat-card-avatar"],["mat-card-avatar",""]],null,null,null,null,null)),l.rb(13,16384,null,0,D.c,[],null,null),(n()(),l.sb(14,0,null,null,1,":svg:svg",[["height","40"],["width","40"]],null,null,null,null,null)),l.rb(15,540672,null,0,K,[l.k,l.G],{identiconHash:[0,"identiconHash"]},null),(n()(),l.sb(16,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l.rb(17,16384,null,0,D.i,[],null,null),(n()(),l.Jb(18,null,[" #"," "])),(n()(),l.sb(19,0,null,0,1,"app-compass",[],null,null,null,en,nn)),l.rb(20,114688,null,0,Z,[Q.c],{rotation:[0,"rotation"]},null),(n()(),l.sb(21,0,null,0,5,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(22,16384,null,0,D.d,[],null,null),(n()(),l.sb(23,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),l.sb(24,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),l.Jb(25,null,[" Distance: "," meters "])),l.Fb(26,2),(n()(),l.sb(27,0,null,0,10,"mat-card-actions",[["class","mat-card-actions"],["fxLayout","row"],["fxLayoutAlign","space-between center"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),l.rb(28,16384,null,0,D.b,[],null,null),l.rb(29,671744,null,0,W.c,[l.k,X.i,[2,W.g],X.f],{fxLayout:[0,"fxLayout"]},null),l.rb(30,671744,null,0,W.b,[l.k,X.i,[2,W.f],X.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),l.jb(16777216,null,null,1,null,An)),l.rb(32,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.jb(16777216,null,null,1,null,Cn)),l.rb(34,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.sb(35,0,null,null,2,"button",[["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.createGeocache()&&l),l},V.d,V.b)),l.rb(36,180224,null,0,q.b,[l.k,j.a,z.g,[2,I.a]],null,null),(n()(),l.Jb(-1,0,[" New Target "]))],function(n,e){var t=e.component;n(e,4,0,"row"),n(e,5,0,"center center"),n(e,15,0,t.target.location.geohash),n(e,20,0,t.directions.compass),n(e,29,0,"row"),n(e,30,0,"space-between center"),n(e,32,0,t.closeEnough),n(e,34,0,!t.closeEnough)},function(n,e){var t=e.component;n(e,1,0,l.Bb(e,2)._toolbarRows.length>0,0===l.Bb(e,2)._toolbarRows.length),n(e,18,0,t.target.location.geohash);var r=l.Kb(e,25,0,n(e,26,0,l.Bb(e.parent,0),t.directions.distance,"1.1-1"));n(e,25,0,r),n(e,27,0,"end"===l.Bb(e,28).align),n(e,35,0,l.Bb(e,36).disabled||null,"NoopAnimations"===l.Bb(e,36)._animationMode)})}function Pn(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,13,"div",[],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,12,"mat-card",[["class","mat-card"]],null,null,null,S.d,S.a)),l.rb(2,49152,null,0,D.a,[],null,null),(n()(),l.sb(3,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,S.c,S.b)),l.rb(4,49152,null,0,D.e,[],null,null),(n()(),l.sb(5,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l.rb(6,16384,null,0,D.i,[],null,null),(n()(),l.Jb(-1,null,[" Error "])),(n()(),l.sb(8,0,null,0,5,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(9,16384,null,0,D.d,[],null,null),(n()(),l.sb(10,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),l.sb(11,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,["Error:"])),(n()(),l.Jb(13,null,[" "," "]))],null,function(n,e){n(e,13,0,e.component.error)})}function Mn(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,24,"div",[],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,23,"mat-card",[["class","mat-card"]],null,null,null,S.d,S.a)),l.rb(2,49152,null,0,D.a,[],null,null),(n()(),l.sb(3,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,S.c,S.b)),l.rb(4,49152,null,0,D.e,[],null,null),(n()(),l.sb(5,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l.rb(6,16384,null,0,D.i,[],null,null),(n()(),l.Jb(-1,null,["Play"])),(n()(),l.sb(8,0,null,0,16,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(9,16384,null,0,D.d,[],null,null),(n()(),l.sb(10,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),l.sb(11,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,["You do not have an active target."])),(n()(),l.sb(13,0,null,null,11,"mat-nav-list",[["class","mat-nav-list mat-list-base"],["role","navigation"]],null,null,null,y.f,y.c)),l.rb(14,704512,null,0,T.g,[],null,null),(n()(),l.sb(15,0,null,0,9,"a",[["class","mat-list-item"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.createGeocache()&&l),l},y.d,y.b)),l.rb(16,1228800,null,3,T.c,[l.k,[2,T.g],[2,T.a],l.h],null,null),l.Hb(603979776,2,{_lines:1}),l.Hb(335544320,3,{_avatar:0}),l.Hb(335544320,4,{_icon:0}),(n()(),l.sb(20,0,null,0,3,"mat-icon",[["class","mat-icon notranslate mat-list-icon"],["matListIcon",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,R.b,R.a)),l.rb(21,9158656,null,0,O.b,[l.k,O.d,[8,null],[2,O.a]],null,null),l.rb(22,16384,[[4,4]],0,T.b,[],null,null),(n()(),l.Jb(-1,0,["play_circle_filled"])),(n()(),l.Jb(-1,2,[" New Target "]))],function(n,e){n(e,21,0)},function(n,e){n(e,15,0,l.Bb(e,16)._avatar||l.Bb(e,16)._icon,l.Bb(e,16)._avatar||l.Bb(e,16)._icon),n(e,20,0,l.Bb(e,21).inline,"primary"!==l.Bb(e,21).color&&"accent"!==l.Bb(e,21).color&&"warn"!==l.Bb(e,21).color)})}function xn(n){return l.Lb(0,[l.Db(0,A.f,[l.w]),(n()(),l.sb(1,0,null,null,9,"div",[],null,null,null,null,null)),l.rb(2,16384,null,0,A.q,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),l.jb(16777216,null,null,1,null,Ln)),l.rb(4,278528,null,0,A.r,[l.R,l.O,A.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),l.jb(16777216,null,null,1,null,Bn)),l.rb(6,278528,null,0,A.r,[l.R,l.O,A.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),l.jb(16777216,null,null,1,null,Pn)),l.rb(8,278528,null,0,A.r,[l.R,l.O,A.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),l.jb(16777216,null,null,1,null,Mn)),l.rb(10,278528,null,0,A.r,[l.R,l.O,A.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(n,e){n(e,2,0,e.component.state),n(e,4,0,"loading"),n(e,6,0,"has-active"),n(e,8,0,"error"),n(e,10,0,"does-not-have-active")},null)}function Nn(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,1,"app-play",[],null,null,null,xn,Dn)),l.rb(1,245760,null,0,Sn,[tn.a,ln,sn,On,L.k],null,null)],function(n,e){n(e,1,0)},null)}var Gn=l.ob("app-play",Sn,Nn,{},{},[]),kn=t("S5bw"),Fn=t("67Y/"),Un=function(){function n(n,e){this.httpClient=n,this.domSanitizer=e}return n.prototype.loadImage=function(n){var e=this;return this.httpClient.get(C.a.api+"/image/"+n.filename,{responseType:"blob"}).pipe(Object(Fn.a)(function(n){return e.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(n))}))},n.ngInjectableDef=l.V({factory:function(){return new n(l.Z(B.c),l.Z(Q.c))},token:n,providedIn:"root"}),n}(),Vn=function(){function n(n,e){this.imageService=n,this.settingsService=e,this.allowDelete=!1,this.delete=new l.n,this.settings$=null,this.hasTapped=!1,this.src$=new kn.a(1),this.dataUrl$=null}return Object.defineProperty(n.prototype,"image",{set:function(n){this.src$.next(n)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;this.settings$=this.settingsService.observe(),this.dataUrl$=this.src$.asObservable().pipe(Object(wn.a)(function(e){return n.imageService.loadImage(e)}))},n}(),qn=l.qb({encapsulation:0,styles:[[".mat-card-image[_ngcontent-%COMP%]{margin-top:auto!important}.my-fab[_ngcontent-%COMP%]{position:absolute;right:1rem;bottom:3rem}.tap-to-load[_ngcontent-%COMP%]{margin-bottom:1rem}.container[_ngcontent-%COMP%]{position:relative}"]],data:{}});function jn(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,2,"button",[["color","warn"],["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.delete.emit()&&l),l},V.d,V.b)),l.rb(1,180224,null,0,q.b,[l.k,j.a,z.g,[2,I.a]],{color:[0,"color"]},null),(n()(),l.Jb(-1,0,[" Delete Image "]))],function(n,e){n(e,1,0,"warn")},function(n,e){n(e,0,0,l.Bb(e,1).disabled||null,"NoopAnimations"===l.Bb(e,1)._animationMode)})}function zn(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,7,"div",[["class","tap-to-load"],["fxLayout","row"],["fxLayoutAlign","space-around center"]],null,null,null,null,null)),l.rb(1,671744,null,0,W.c,[l.k,X.i,[2,W.g],X.f],{fxLayout:[0,"fxLayout"]},null),l.rb(2,671744,null,0,W.b,[l.k,X.i,[2,W.f],X.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),l.sb(3,0,null,null,2,"button",[["color","accent"],["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.hasTapped=!0)&&l),l},V.d,V.b)),l.rb(4,180224,null,0,q.b,[l.k,j.a,z.g,[2,I.a]],{color:[0,"color"]},null),(n()(),l.Jb(-1,0,[" Load Image "])),(n()(),l.jb(16777216,null,null,1,null,jn)),l.rb(7,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,1,0,"row"),n(e,2,0,"space-around center"),n(e,4,0,"accent"),n(e,7,0,t.allowDelete)},function(n,e){n(e,3,0,l.Bb(e,4).disabled||null,"NoopAnimations"===l.Bb(e,4)._animationMode)})}function Hn(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,1,"img",[["class","mat-card-image"],["mat-card-image",""]],[[8,"src",4]],null,null,null,null)),l.rb(1,16384,null,0,D.f,[],null,null)],null,function(n,e){n(e,0,0,e.context.ngIf)})}function Yn(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,4,"button",[["class","my-fab"],["mat-fab",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.delete.emit()&&l),l},V.d,V.b)),l.rb(1,180224,null,0,q.b,[l.k,j.a,z.g,[2,I.a]],null,null),(n()(),l.sb(2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,R.b,R.a)),l.rb(3,9158656,null,0,O.b,[l.k,O.d,[8,null],[2,O.a]],null,null),(n()(),l.Jb(-1,0,["delete"]))],function(n,e){n(e,3,0)},function(n,e){n(e,0,0,l.Bb(e,1).disabled||null,"NoopAnimations"===l.Bb(e,1)._animationMode),n(e,2,0,l.Bb(e,3).inline,"primary"!==l.Bb(e,3).color&&"accent"!==l.Bb(e,3).color&&"warn"!==l.Bb(e,3).color)})}function Wn(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),l.jb(16777216,null,null,2,null,Hn)),l.rb(2,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l.Db(131072,A.b,[l.h]),(n()(),l.jb(16777216,null,null,1,null,Yn)),l.rb(5,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,2,0,l.Kb(e,2,0,l.Bb(e,3).transform(t.dataUrl$)),l.Bb(e.parent.parent,3)),n(e,5,0,t.allowDelete)},null)}function Xn(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(n()(),l.jb(16777216,null,null,1,null,zn)),l.rb(2,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.jb(16777216,null,null,1,null,Wn)),l.rb(4,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,2,0,e.context.ngIf.tapToLoadImages&&!t.hasTapped),n(e,4,0,!e.context.ngIf.tapToLoadImages||e.context.ngIf.tapToLoadImages&&t.hasTapped)},null)}function Jn(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["color","primary"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,E.b,E.a)),l.rb(1,4374528,null,0,_.b,[l.k,l.B,[2,I.a],[2,_.a]],{color:[0,"color"],mode:[1,"mode"]},null)],function(n,e){n(e,1,0,"primary","indeterminate")},function(n,e){n(e,0,0,l.Bb(e,1).value,l.Bb(e,1).mode,l.Bb(e,1)._isNoopAnimation)})}function $n(n){return l.Lb(0,[(n()(),l.jb(16777216,null,null,2,null,Xn)),l.rb(1,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Db(131072,A.b,[l.h]),(n()(),l.jb(0,[["loader",2]],null,0,null,Jn))],function(n,e){var t=e.component;n(e,1,0,l.Kb(e,1,0,l.Bb(e,2).transform(t.settings$)))},null)}var Kn=t("La40"),Zn=t("M2Lx"),Qn=t("Fzqc"),ne=t("4c35"),ee=t("qAlS"),te=l.qb({encapsulation:2,styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{padding:0 12px}}@media (max-width:959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],data:{}});function le(n){return l.Lb(0,[(n()(),l.jb(0,null,null,0))],null,null)}function re(n){return l.Lb(0,[(n()(),l.jb(16777216,null,null,1,null,le)),l.rb(1,212992,null,0,ne.c,[l.j,l.R],{portal:[0,"portal"]},null),(n()(),l.jb(0,null,null,0))],function(n,e){n(e,1,0,e.parent.context.$implicit.templateLabel)},null)}function ie(n){return l.Lb(0,[(n()(),l.Jb(0,null,["",""]))],null,function(n,e){n(e,0,0,e.parent.context.$implicit.textLabel)})}function ae(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,8,"div",[["cdkMonitorElementFocus",""],["class","mat-tab-label mat-ripple"],["mat-ripple",""],["matTabLabelWrapper",""],["role","tab"]],[[8,"id",0],[1,"tabIndex",0],[1,"aria-posinset",0],[1,"aria-setsize",0],[1,"aria-controls",0],[1,"aria-selected",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-tab-label-active",null],[2,"mat-ripple-unbounded",null],[2,"mat-tab-disabled",null],[1,"aria-disabled",0]],[[null,"click"]],function(n,e,t){var r=!0;return"click"===e&&(r=!1!==n.component._handleClick(n.context.$implicit,l.Bb(n.parent,3),n.context.index)&&r),r},null,null)),l.rb(1,212992,null,0,w.x,[l.k,l.B,j.a,[2,w.m],[2,I.a]],{disabled:[0,"disabled"]},null),l.rb(2,147456,null,0,z.d,[l.k,z.g],null,null),l.rb(3,16384,[[3,4]],0,Kn.h,[l.k],{disabled:[0,"disabled"]},null),(n()(),l.sb(4,0,null,null,4,"div",[["class","mat-tab-label-content"]],null,null,null,null,null)),(n()(),l.jb(16777216,null,null,1,null,re)),l.rb(6,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.jb(16777216,null,null,1,null,ie)),l.rb(8,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(n,e){n(e,1,0,e.context.$implicit.disabled||e.component.disableRipple),n(e,3,0,e.context.$implicit.disabled),n(e,6,0,e.context.$implicit.templateLabel),n(e,8,0,!e.context.$implicit.templateLabel)},function(n,e){var t=e.component;n(e,0,1,[t._getTabLabelId(e.context.index),t._getTabIndex(e.context.$implicit,e.context.index),e.context.index+1,t._tabs.length,t._getTabContentId(e.context.index),t.selectedIndex==e.context.index,e.context.$implicit.ariaLabel||null,!e.context.$implicit.ariaLabel&&e.context.$implicit.ariaLabelledby?e.context.$implicit.ariaLabelledby:null,t.selectedIndex==e.context.index,l.Bb(e,1).unbounded,l.Bb(e,3).disabled,!!l.Bb(e,3).disabled])})}function oe(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,1,"mat-tab-body",[["class","mat-tab-body"],["role","tabpanel"]],[[8,"id",0],[1,"aria-labelledby",0],[2,"mat-tab-body-active",null]],[[null,"_onCentered"],[null,"_onCentering"]],function(n,e,t){var l=!0,r=n.component;return"_onCentered"===e&&(l=!1!==r._removeTabBodyWrapperHeight()&&l),"_onCentering"===e&&(l=!1!==r._setTabBodyWrapperHeight(t)&&l),l},de,se)),l.rb(1,245760,null,0,Kn.d,[l.k,[2,Qn.b],l.h],{_content:[0,"_content"],origin:[1,"origin"],animationDuration:[2,"animationDuration"],position:[3,"position"]},{_onCentering:"_onCentering",_onCentered:"_onCentered"})],function(n,e){n(e,1,0,e.context.$implicit.content,e.context.$implicit.origin,e.component.animationDuration,e.context.$implicit.position)},function(n,e){var t=e.component;n(e,0,0,t._getTabContentId(e.context.index),t._getTabLabelId(e.context.index),t.selectedIndex==e.context.index)})}function ue(n){return l.Lb(2,[l.Hb(402653184,1,{_tabBodyWrapper:0}),l.Hb(402653184,2,{_tabHeader:0}),(n()(),l.sb(2,0,null,null,4,"mat-tab-header",[["class","mat-tab-header"]],[[2,"mat-tab-header-pagination-controls-enabled",null],[2,"mat-tab-header-rtl",null]],[[null,"indexFocused"],[null,"selectFocusedIndex"]],function(n,e,t){var l=!0,r=n.component;return"indexFocused"===e&&(l=!1!==r._focusChanged(t)&&l),"selectFocusedIndex"===e&&(l=!1!==(r.selectedIndex=t)&&l),l},pe,fe)),l.rb(3,7520256,[[2,4],["tabHeader",4]],1,Kn.g,[l.k,l.h,ee.e,[2,Qn.b],l.B,j.a],{disableRipple:[0,"disableRipple"],selectedIndex:[1,"selectedIndex"]},{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}),l.Hb(603979776,3,{_labelWrappers:1}),(n()(),l.jb(16777216,null,0,1,null,ae)),l.rb(6,278528,null,0,A.l,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(n()(),l.sb(7,0,[[1,0],["tabBodyWrapper",1]],null,2,"div",[["class","mat-tab-body-wrapper"]],null,null,null,null,null)),(n()(),l.jb(16777216,null,null,1,null,oe)),l.rb(9,278528,null,0,A.l,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(n,e){var t=e.component;n(e,3,0,t.disableRipple,t.selectedIndex),n(e,6,0,t._tabs),n(e,9,0,t._tabs)},function(n,e){n(e,2,0,l.Bb(e,3)._showPaginationControls,"rtl"==l.Bb(e,3)._getLayoutDirection())})}var se=l.qb({encapsulation:2,styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}"],data:{animation:[{type:7,name:"translateTab",definitions:[{type:0,name:"center, void, left-origin-center, right-origin-center",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:0,name:"left",styles:{type:6,styles:{transform:"translate3d(-100%, 0, 0)",minHeight:"1px"},offset:null},options:void 0},{type:0,name:"right",styles:{type:6,styles:{transform:"translate3d(100%, 0, 0)",minHeight:"1px"},offset:null},options:void 0},{type:1,expr:"* => left, * => right, left => center, right => center",animation:{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"},options:null},{type:1,expr:"void => left-origin-center",animation:[{type:6,styles:{transform:"translate3d(-100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"}],options:null},{type:1,expr:"void => right-origin-center",animation:[{type:6,styles:{transform:"translate3d(100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"}],options:null}],options:{}}]}});function ce(n){return l.Lb(0,[(n()(),l.jb(0,null,null,0))],null,null)}function de(n){return l.Lb(2,[l.Hb(402653184,1,{_portalHost:0}),(n()(),l.sb(1,0,[["content",1]],null,4,"div",[["class","mat-tab-body-content"]],[[24,"@translateTab",0]],[[null,"@translateTab.start"],[null,"@translateTab.done"]],function(n,e,t){var l=!0,r=n.component;return"@translateTab.start"===e&&(l=!1!==r._onTranslateTabStarted(t)&&l),"@translateTab.done"===e&&(l=!1!==r._translateTabComplete.next(t)&&l),l},null,null)),l.Eb(2,{animationDuration:0}),l.Eb(3,{value:0,params:1}),(n()(),l.jb(16777216,null,null,1,null,ce)),l.rb(5,212992,null,0,Kn.e,[l.j,l.R,Kn.d],null,null)],function(n,e){n(e,5,0)},function(n,e){var t=e.component,l=n(e,3,0,t._position,n(e,2,0,t.animationDuration));n(e,1,0,l)})}var fe=l.qb({encapsulation:2,styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{min-width:72px}}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}@media (-ms-high-contrast:active){.mat-ink-bar{outline:solid 2px;height:0}}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:'';height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-tab-labels{display:flex}[mat-align-tabs=center] .mat-tab-labels{justify-content:center}[mat-align-tabs=end] .mat-tab-labels{justify-content:flex-end}"],data:{}});function pe(n){return l.Lb(2,[l.Hb(402653184,1,{_inkBar:0}),l.Hb(402653184,2,{_tabListContainer:0}),l.Hb(402653184,3,{_tabList:0}),l.Hb(402653184,4,{_nextPaginator:0}),l.Hb(402653184,5,{_previousPaginator:0}),(n()(),l.sb(5,0,[[5,0],["previousPaginator",1]],null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"click"],[null,"mousedown"],[null,"touchend"]],function(n,e,t){var l=!0,r=n.component;return"click"===e&&(l=!1!==r._handlePaginatorClick("before")&&l),"mousedown"===e&&(l=!1!==r._handlePaginatorPress("before")&&l),"touchend"===e&&(l=!1!==r._stopInterval()&&l),l},null,null)),l.rb(6,212992,null,0,w.x,[l.k,l.B,j.a,[2,w.m],[2,I.a]],{disabled:[0,"disabled"]},null),(n()(),l.sb(7,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null)),(n()(),l.sb(8,0,[[2,0],["tabListContainer",1]],null,6,"div",[["class","mat-tab-label-container"]],null,[[null,"keydown"]],function(n,e,t){var l=!0;return"keydown"===e&&(l=!1!==n.component._handleKeydown(t)&&l),l},null,null)),(n()(),l.sb(9,0,[[3,0],["tabList",1]],null,5,"div",[["class","mat-tab-list"],["role","tablist"]],null,[[null,"cdkObserveContent"]],function(n,e,t){var l=!0;return"cdkObserveContent"===e&&(l=!1!==n.component._onContentChanges()&&l),l},null,null)),l.rb(10,1196032,null,0,Zn.a,[Zn.b,l.k,l.B],null,{event:"cdkObserveContent"}),(n()(),l.sb(11,0,null,null,1,"div",[["class","mat-tab-labels"]],null,null,null,null,null)),l.Ab(null,0),(n()(),l.sb(13,0,null,null,1,"mat-ink-bar",[["class","mat-ink-bar"]],null,null,null,null,null)),l.rb(14,16384,[[1,4]],0,Kn.b,[l.k,l.B,Kn.k],null,null),(n()(),l.sb(15,0,[[4,0],["nextPaginator",1]],null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"mousedown"],[null,"click"],[null,"touchend"]],function(n,e,t){var l=!0,r=n.component;return"mousedown"===e&&(l=!1!==r._handlePaginatorPress("after")&&l),"click"===e&&(l=!1!==r._handlePaginatorClick("after")&&l),"touchend"===e&&(l=!1!==r._stopInterval()&&l),l},null,null)),l.rb(16,212992,null,0,w.x,[l.k,l.B,j.a,[2,w.m],[2,I.a]],{disabled:[0,"disabled"]},null),(n()(),l.sb(17,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null))],function(n,e){var t=e.component;n(e,6,0,t._disableScrollBefore||t.disableRipple),n(e,16,0,t._disableScrollAfter||t.disableRipple)},function(n,e){var t=e.component;n(e,5,0,t._disableScrollBefore,l.Bb(e,6).unbounded),n(e,15,0,t._disableScrollAfter,l.Bb(e,16).unbounded)})}var be=l.qb({encapsulation:2,styles:[],data:{}});function me(n){return l.Lb(0,[l.Ab(null,0),(n()(),l.jb(0,null,null,0))],null,null)}function he(n){return l.Lb(2,[l.Hb(402653184,1,{_implicitContent:0}),(n()(),l.jb(0,[[1,2]],null,0,null,me))],null,null)}var ge=t("lDAE"),ve=t("dz7T"),Ee=t("4R65"),_e=Object(Ee.latLng)(40.6943,-73.9249),Ie=15,ye=function(){function n(n){this.geolocationService=n,this.mapReady=new l.n,this.mapConfig=null,this.leafletOptions={layers:[Object(Ee.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"Open Street Map"})],zoom:Ie,center:_e},this.leafletLayers=[],this.userMarker=null,this.leafletMap=null,this.userMarker=Object(Ee.marker)([_e.lat,_e.lng],{icon:Object(Ee.icon)({iconSize:[44,64],iconAnchor:[34,54],iconUrl:"assets/user-sprite.png"})})}return Object.defineProperty(n.prototype,"config",{set:function(n){if(n){this.mapConfig=n;var e=n.checkins,t=Object(Ee.latLng)(e[0].geocache.location.lat,e[0].geocache.location.lng);this.leafletOptions={layers:[Object(Ee.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"Open Street Map"})],zoom:Ie,center:t};var l={icon:Object(Ee.icon)({iconSize:[48,48],iconAnchor:[24,48],iconUrl:"assets/markers/marker.png"})},r={icon:Object(Ee.icon)({iconSize:[48,48],iconAnchor:[16,48],iconUrl:"assets/markers/flag.png"})};this.leafletLayers=e.map(function(n){return Object(Ee.marker)([n.geocache.location.lat,n.geocache.location.lng],l)}),"include-checkin"===n.mode&&(this.leafletLayers=this.leafletLayers.concat(e.map(function(n){return Object(Ee.marker)([n.location.lat,n.location.lng],r)})),this.leafletLayers=this.leafletLayers.concat(e.map(function(n){return Object(Ee.polyline)([[n.location.lat,n.location.lng],[n.geocache.location.lat,n.geocache.location.lng]],{color:"red"})}))),this.leafletLayers.push(this.userMarker)}},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;this.geolocationService.getCurrentPosition().subscribe(function(e){n.userMarker.setLatLng([e.lat,e.lng]),n.mapConfig&&"user"===n.mapConfig.center&&n.leafletMap.setView([e.lat,e.lng],10)})},n.prototype.ngOnDestroy=function(){},n.prototype.onMapReady=function(n){this.leafletMap=n,this.mapReady.emit(n)},n}(),Te=l.qb({encapsulation:0,styles:[["div[_ngcontent-%COMP%]{margin-top:auto!important}"]],data:{}});function Re(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,3,"div",[["class","mat-card-image"],["leaflet",""],["mat-card-image",""],["style","height: 400px;"]],null,[[null,"leafletMapReady"],["window","resize"]],function(n,e,t){var r=!0,i=n.component;return"window:resize"===e&&(r=!1!==l.Bb(n,2).onResize()&&r),"leafletMapReady"===e&&(r=!1!==i.onMapReady(t)&&r),r},null,null)),l.rb(1,16384,null,0,D.f,[],null,null),l.rb(2,606208,null,0,ge.a,[l.k,l.B],{options:[0,"options"]},{mapReady:"leafletMapReady"}),l.rb(3,475136,null,0,ve.a,[ge.a,l.u,l.B],{layers:[0,"layers"]},null)],function(n,e){var t=e.component;n(e,2,0,t.leafletOptions),n(e,3,0,t.leafletLayers)},null)}var Oe=function(){function n(n){this.checkInService=n,this.history$=null,this.leafletMap=null}return n.prototype.ngOnInit=function(){this.history$=this.checkInService.getAll().pipe(Object(Fn.a)(function(n){return n.items}))},n.prototype.onSelectedTabChange=function(n){this.leafletMap.invalidateSize()},n.prototype.onMapReady=function(n){this.leafletMap=n},n}(),we=l.qb({encapsulation:0,styles:[[""]],data:{}});function Se(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,1,"app-secure-image",[],null,null,null,$n,qn)),l.rb(1,114688,null,0,Vn,[Un,sn],{image:[0,"image"]},null)],function(n,e){n(e,1,0,e.parent.context.$implicit.image)},null)}function De(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,30,"mat-card",[["class","mat-card"]],null,null,null,S.d,S.a)),l.rb(1,49152,null,0,D.a,[],null,null),(n()(),l.sb(2,0,null,0,13,"mat-card-header",[["class","mat-card-header"]],null,null,null,S.c,S.b)),l.rb(3,49152,null,0,D.e,[],null,null),(n()(),l.sb(4,0,null,0,3,"div",[["class","mat-card-avatar"],["mat-card-avatar",""]],null,null,null,null,null)),l.rb(5,16384,null,0,D.c,[],null,null),(n()(),l.sb(6,0,null,null,1,":svg:svg",[["height","40"],["width","40"]],null,null,null,null,null)),l.rb(7,540672,null,0,K,[l.k,l.G],{identiconHash:[0,"identiconHash"]},null),(n()(),l.sb(8,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l.rb(9,16384,null,0,D.i,[],null,null),(n()(),l.Jb(10,null,[" #"," "])),(n()(),l.sb(11,0,null,1,4,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),l.rb(12,16384,null,0,D.h,[],null,null),(n()(),l.Jb(13,null,[""," m | ",""])),l.Fb(14,2),l.Fb(15,1),(n()(),l.jb(16777216,null,0,1,null,Se)),l.rb(17,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.sb(18,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(19,16384,null,0,D.d,[],null,null),(n()(),l.sb(20,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.Jb(21,null,[" "," "])),(n()(),l.sb(22,0,null,0,8,"mat-card-actions",[["class","mat-card-actions"],["fxLayout","row"],["fxLayoutAlign","center"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),l.rb(23,16384,null,0,D.b,[],null,null),l.rb(24,671744,null,0,W.c,[l.k,X.i,[2,W.g],X.f],{fxLayout:[0,"fxLayout"]},null),l.rb(25,671744,null,0,W.b,[l.k,X.i,[2,W.f],X.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),l.sb(26,0,null,null,4,"a",[["mat-stroked-button",""]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var r=!0;return"click"===e&&(r=!1!==l.Bb(n,27).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&r),"click"===e&&(r=!1!==l.Bb(n,29)._haltDisabledEvents(t)&&r),r},V.c,V.a)),l.rb(27,671744,null,0,L.l,[L.k,L.a,A.j],{routerLink:[0,"routerLink"]},null),l.Cb(28,4),l.rb(29,180224,null,0,q.a,[j.a,z.g,l.k,[2,I.a]],null,null),(n()(),l.Jb(-1,0,[" Details "]))],function(n,e){n(e,7,0,e.context.$implicit.geocache.location.geohash),n(e,17,0,null!==e.context.$implicit.image),n(e,24,0,"row"),n(e,25,0,"center");var t=n(e,28,0,"/","dashboard","checkin",e.context.$implicit.id);n(e,27,0,t)},function(n,e){n(e,10,0,e.context.$implicit.geocache.location.geohash);var t=l.Kb(e,13,0,n(e,14,0,l.Bb(e.parent.parent.parent,0),e.context.$implicit.final_distance,"1.1-1")),r=l.Kb(e,13,1,n(e,15,0,l.Bb(e.parent.parent.parent,1),e.context.$implicit.created_at));n(e,13,0,t,r),n(e,21,0,e.context.$implicit.text),n(e,22,0,"end"===l.Bb(e,23).align),n(e,26,0,l.Bb(e,27).target,l.Bb(e,27).href,l.Bb(e,29).disabled?-1:l.Bb(e,29).tabIndex||0,l.Bb(e,29).disabled||null,l.Bb(e,29).disabled.toString(),"NoopAnimations"===l.Bb(e,29)._animationMode)})}function Le(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,2,"mat-card",[["class","mat-card"]],null,null,null,S.d,S.a)),l.rb(1,49152,null,0,D.a,[],null,null),(n()(),l.Jb(-1,0,[" No results. "]))],null,null)}function Ae(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,19,"mat-tab-group",[["class","mat-tab-group"],["dynamicHeight",""],["mat-align-tabs","center"],["mat-stretch-tabs",""]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],[[null,"selectedTabChange"]],function(n,e,t){var l=!0;return"selectedTabChange"===e&&(l=!1!==n.component.onSelectedTabChange(t)&&l),l},ue,te)),l.rb(1,3325952,null,1,Kn.f,[l.k,l.h,[2,Kn.a]],{dynamicHeight:[0,"dynamicHeight"]},{selectedTabChange:"selectedTabChange"}),l.Hb(603979776,1,{_tabs:1}),(n()(),l.sb(3,16777216,null,null,7,"mat-tab",[["label","List"]],null,null,null,he,be)),l.rb(4,770048,[[1,4]],2,Kn.c,[l.R],{textLabel:[0,"textLabel"]},null),l.Hb(335544320,2,{templateLabel:0}),l.Hb(335544320,3,{_explicitContent:0}),(n()(),l.jb(16777216,null,0,1,null,De)),l.rb(8,278528,null,0,A.l,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(n()(),l.jb(16777216,null,0,1,null,Le)),l.rb(10,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.sb(11,16777216,null,null,8,"mat-tab",[["label","Map"]],null,null,null,he,be)),l.rb(12,770048,[[1,4]],2,Kn.c,[l.R],{textLabel:[0,"textLabel"]},null),l.Hb(335544320,4,{templateLabel:0}),l.Hb(335544320,5,{_explicitContent:0}),(n()(),l.sb(15,0,null,0,4,"mat-card",[["class","mat-card"]],null,null,null,S.d,S.a)),l.rb(16,49152,null,0,D.a,[],null,null),(n()(),l.sb(17,0,null,0,2,"app-map",[],null,[[null,"mapReady"]],function(n,e,t){var l=!0;return"mapReady"===e&&(l=!1!==n.component.onMapReady(t)&&l),l},Re,Te)),l.rb(18,245760,null,0,ye,[tn.a],{config:[0,"config"]},{mapReady:"mapReady"}),l.Eb(19,{checkins:0,mode:1,center:2})],function(n,e){n(e,1,0,""),n(e,4,0,"List"),n(e,8,0,e.parent.context.ngIf),n(e,10,0,0===e.parent.context.ngIf.length),n(e,12,0,"Map");var t=n(e,19,0,e.parent.context.ngIf,"geocache-only","user");n(e,18,0,t)},function(n,e){n(e,0,0,l.Bb(e,1).dynamicHeight,"below"===l.Bb(e,1).headerPosition)})}function Ce(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,2,"mat-card",[["class","mat-card"]],null,null,null,S.d,S.a)),l.rb(1,49152,null,0,D.a,[],null,null),(n()(),l.Jb(-1,0,[" You have to make history before you can read about it! "]))],null,null)}function Be(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),l.jb(16777216,null,null,1,null,Ae)),l.rb(2,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.jb(16777216,null,null,1,null,Ce)),l.rb(4,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(n,e){n(e,2,0,e.context.ngIf.length>0),n(e,4,0,0===e.context.ngIf.length)},null)}function Pe(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,3,"mat-card",[["class","mat-card"]],null,null,null,S.d,S.a)),l.rb(1,49152,null,0,D.a,[],null,null),(n()(),l.sb(2,0,null,0,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["color","primary"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,E.b,E.a)),l.rb(3,4374528,null,0,_.b,[l.k,l.B,[2,I.a],[2,_.a]],{color:[0,"color"],mode:[1,"mode"]},null)],function(n,e){n(e,3,0,"primary","indeterminate")},function(n,e){n(e,2,0,l.Bb(e,3).value,l.Bb(e,3).mode,l.Bb(e,3)._isNoopAnimation)})}function Me(n){return l.Lb(0,[l.Db(0,A.f,[l.w]),l.Db(0,A.e,[l.w]),(n()(),l.jb(16777216,null,null,2,null,Be)),l.rb(3,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l.Db(131072,A.b,[l.h]),(n()(),l.jb(0,[["loader",2]],null,0,null,Pe))],function(n,e){var t=e.component;n(e,3,0,l.Kb(e,3,0,l.Bb(e,4).transform(t.history$)),l.Bb(e,5))},null)}function xe(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,1,"app-history",[],null,null,null,Me,we)),l.rb(1,114688,null,0,Oe,[On],null,null)],function(n,e){n(e,1,0)},null)}var Ne=l.ob("app-history",Oe,xe,{},{},[]),Ge=t("kWGw"),ke=t("gIcY"),Fe=l.qb({encapsulation:2,styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px,0,0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px,0,0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}.mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-right:8px;margin-left:0}.mat-slide-toggle-label-before .mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0,0,0);transition:all 80ms linear;transition-property:transform;cursor:-webkit-grab;cursor:grab}.mat-slide-toggle-thumb-container.mat-dragging,.mat-slide-toggle-thumb-container:active{cursor:-webkit-grabbing;cursor:grabbing;transition-duration:0s}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media (hover:none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}@media (-ms-high-contrast:active){.mat-slide-toggle-thumb{background:#fff;border:1px solid #000}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background:#000;border:1px solid #fff}.mat-slide-toggle-bar{background:#fff}.mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:1px dotted;outline-offset:5px}}@media (-ms-high-contrast:black-on-white){.mat-slide-toggle-bar{border:1px solid #000}}"],data:{}});function Ue(n){return l.Lb(2,[l.Hb(402653184,1,{_thumbEl:0}),l.Hb(402653184,2,{_thumbBarEl:0}),l.Hb(402653184,3,{_inputElement:0}),(n()(),l.sb(3,0,[["label",1]],null,13,"label",[["class","mat-slide-toggle-label"]],[[1,"for",0]],null,null,null,null)),(n()(),l.sb(4,0,[[2,0],["toggleBar",1]],null,7,"div",[["class","mat-slide-toggle-bar"]],[[2,"mat-slide-toggle-bar-no-side-margin",null]],null,null,null,null)),(n()(),l.sb(5,0,[[3,0],["input",1]],null,0,"input",[["class","mat-slide-toggle-input cdk-visually-hidden"],["role","switch"],["type","checkbox"]],[[8,"id",0],[8,"required",0],[8,"tabIndex",0],[8,"checked",0],[8,"disabled",0],[1,"name",0],[1,"aria-checked",0],[1,"aria-label",0],[1,"aria-labelledby",0]],[[null,"change"],[null,"click"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==r._onChangeEvent(t)&&l),"click"===e&&(l=!1!==r._onInputClick(t)&&l),l},null,null)),(n()(),l.sb(6,0,[[1,0],["thumbContainer",1]],null,5,"div",[["class","mat-slide-toggle-thumb-container"]],null,[[null,"slidestart"],[null,"slide"],[null,"slideend"]],function(n,e,t){var l=!0,r=n.component;return"slidestart"===e&&(l=!1!==r._onDragStart()&&l),"slide"===e&&(l=!1!==r._onDrag(t)&&l),"slideend"===e&&(l=!1!==r._onDragEnd()&&l),l},null,null)),(n()(),l.sb(7,0,null,null,0,"div",[["class","mat-slide-toggle-thumb"]],null,null,null,null,null)),(n()(),l.sb(8,0,null,null,3,"div",[["class","mat-slide-toggle-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),l.rb(9,212992,null,0,w.x,[l.k,l.B,j.a,[2,w.m],[2,I.a]],{centered:[0,"centered"],radius:[1,"radius"],animation:[2,"animation"],disabled:[3,"disabled"],trigger:[4,"trigger"]},null),l.Eb(10,{enterDuration:0}),(n()(),l.sb(11,0,null,null,0,"div",[["class","mat-ripple-element mat-slide-toggle-persistent-ripple"]],null,null,null,null,null)),(n()(),l.sb(12,0,[["labelContent",1]],null,4,"span",[["class","mat-slide-toggle-content"]],null,[[null,"cdkObserveContent"]],function(n,e,t){var l=!0;return"cdkObserveContent"===e&&(l=!1!==n.component._onLabelTextChange()&&l),l},null,null)),l.rb(13,1196032,null,0,Zn.a,[Zn.b,l.k,l.B],null,{event:"cdkObserveContent"}),(n()(),l.sb(14,0,null,null,1,"span",[["style","display:none"]],null,null,null,null,null)),(n()(),l.Jb(-1,null,["\xa0"])),l.Ab(null,0)],function(n,e){var t=e.component,r=n(e,10,0,150);n(e,9,0,!0,20,r,t.disableRipple||t.disabled,l.Bb(e,3))},function(n,e){var t=e.component;n(e,3,0,t.inputId),n(e,4,0,!l.Bb(e,12).textContent||!l.Bb(e,12).textContent.trim()),n(e,5,0,t.inputId,t.required,t.tabIndex,t.checked,t.disabled,t.name,t.checked.toString(),t.ariaLabel,t.ariaLabelledby),n(e,8,0,l.Bb(e,9).unbounded)})}var Ve=t("TtEo"),qe=t("LC5p"),je=t("dJrM"),ze=t("seP3"),He=t("b716"),Ye=t("/VYK"),We=t("lGQG"),Xe=t("Iab2"),Je=function(){function n(n,e,t){this.settingsService=n,this.authService=e,this.router=t,this.settings$=null,this.changePasswordForm=null,this.deleteAccountForm=null,this.deleteAccountForm=new ke.g({password:new ke.e("",ke.q.required)}),this.changePasswordForm=new ke.g({oldPassword:new ke.e("",ke.q.required),newPassword:new ke.e("",ke.q.required)})}return n.prototype.ngOnInit=function(){this.settings$=this.settingsService.observe()},n.prototype.updateSettings=function(n,e){var t;this.settingsService.update(((t={})[n]=e,t))},n.prototype.onDeleteAccount=function(){var n=this;this.authService.deleteAccount(this.deleteAccountForm.value).subscribe(function(){return n.router.navigate(["/"])})},n.prototype.onChangePassword=function(){var n=this.changePasswordForm.value;this.authService.changePassword({old:n.oldPassword,pass:n.newPassword}).subscribe()},n.prototype.onDownloadArchive=function(){this.authService.downloadArchive().subscribe(function(n){var e=new Blob([n],{type:"application/zip"});Object(Xe.saveAs)(e,"archive.zip")})},n}(),$e=l.qb({encapsulation:0,styles:[["section[_ngcontent-%COMP%]{margin-top:2rem}"]],data:{}});function Ke(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,14,"section",[],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,["Options"])),(n()(),l.sb(3,0,null,null,3,"mat-slide-toggle",[["class","mat-slide-toggle"],["color","primary"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"]],function(n,e,t){var r=!0,i=n.component;return"focus"===e&&(r=!1!==l.Bb(n,5)._inputElement.nativeElement.focus()&&r),"change"===e&&(r=!1!==i.updateSettings("doConstantUpdates",!n.context.ngIf.doConstantUpdates)&&r),r},Ue,Fe)),l.Gb(5120,null,ke.k,function(n){return[n]},[Ge.b]),l.rb(5,1228800,null,0,Ge.b,[l.k,j.a,z.g,l.h,[8,null],l.B,Ge.a,[2,I.a],[2,Qn.b]],{color:[0,"color"],checked:[1,"checked"]},{change:"change"}),(n()(),l.Jb(-1,0,[" Update in Background "])),(n()(),l.sb(7,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,[" (Note: consumes more battery) "])),(n()(),l.sb(9,0,null,null,3,"mat-slide-toggle",[["class","mat-slide-toggle"],["color","primary"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"]],function(n,e,t){var r=!0,i=n.component;return"focus"===e&&(r=!1!==l.Bb(n,11)._inputElement.nativeElement.focus()&&r),"change"===e&&(r=!1!==i.updateSettings("tapToLoadImages",!n.context.ngIf.tapToLoadImages)&&r),r},Ue,Fe)),l.Gb(5120,null,ke.k,function(n){return[n]},[Ge.b]),l.rb(11,1228800,null,0,Ge.b,[l.k,j.a,z.g,l.h,[8,null],l.B,Ge.a,[2,I.a],[2,Qn.b]],{color:[0,"color"],checked:[1,"checked"]},{change:"change"}),(n()(),l.Jb(-1,0,[" Tap to Load Images "])),(n()(),l.sb(13,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,[" (Note: helps with cellular data usage) "]))],function(n,e){n(e,5,0,"primary",e.context.ngIf.doConstantUpdates),n(e,11,0,"primary",e.context.ngIf.tapToLoadImages)},function(n,e){n(e,3,0,l.Bb(e,5).id,l.Bb(e,5).disabled?null:-1,l.Bb(e,5).checked,l.Bb(e,5).disabled,"before"==l.Bb(e,5).labelPosition,"NoopAnimations"===l.Bb(e,5)._animationMode),n(e,9,0,l.Bb(e,11).id,l.Bb(e,11).disabled?null:-1,l.Bb(e,11).checked,l.Bb(e,11).disabled,"before"==l.Bb(e,11).labelPosition,"NoopAnimations"===l.Bb(e,11)._animationMode)})}function Ze(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,132,"mat-card",[["class","mat-card"]],null,null,null,S.d,S.a)),l.rb(1,49152,null,0,D.a,[],null,null),(n()(),l.sb(2,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,S.c,S.b)),l.rb(3,49152,null,0,D.e,[],null,null),(n()(),l.sb(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l.rb(5,16384,null,0,D.i,[],null,null),(n()(),l.Jb(-1,null,[" Settings and Help "])),(n()(),l.sb(7,0,null,0,125,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(8,16384,null,0,D.d,[],null,null),(n()(),l.jb(16777216,null,null,2,null,Ke)),l.rb(10,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Db(131072,A.b,[l.h]),(n()(),l.sb(12,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Ve.b,Ve.a)),l.rb(13,49152,null,0,qe.a,[],null,null),(n()(),l.sb(14,0,null,null,9,"section",[],null,null,null,null,null)),(n()(),l.sb(15,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,["Help"])),(n()(),l.sb(17,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,[" The destination resets every day at midnight EST. "])),(n()(),l.sb(19,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,[" We only store your location data for check ins. Deleting your account removes all data associated with your account. This project is licensed GPLv3+. This means you have the right to view the source code, modify the source code, run your modified source code, and distribute the original code and your modifications freely. Check out the "])),(n()(),l.sb(21,0,null,null,1,"a",[["href","https://github.com/off-the-beaten-path"]],null,null,null,null,null)),(n()(),l.Jb(-1,null,["Github"])),(n()(),l.Jb(-1,null,[" for more information. "])),(n()(),l.sb(24,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Ve.b,Ve.a)),l.rb(25,49152,null,0,qe.a,[],null,null),(n()(),l.sb(26,0,null,null,106,"section",[],null,null,null,null,null)),(n()(),l.sb(27,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,["Account"])),(n()(),l.sb(29,0,null,null,59,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,e,t){var r=!0,i=n.component;return"submit"===e&&(r=!1!==l.Bb(n,31).onSubmit(t)&&r),"reset"===e&&(r=!1!==l.Bb(n,31).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.onChangePassword()&&r),r},null,null)),l.rb(30,16384,null,0,ke.s,[],null,null),l.rb(31,540672,null,0,ke.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l.Gb(2048,null,ke.b,null,[ke.h]),l.rb(33,16384,null,0,ke.n,[[4,ke.b]],null,null),(n()(),l.sb(34,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,[" Change Password "])),(n()(),l.sb(36,0,null,null,23,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,je.b,je.a)),l.rb(37,7520256,null,7,ze.b,[l.k,l.h,[2,w.j],[2,Qn.b],[2,ze.a],j.a,l.B,[2,I.a]],{appearance:[0,"appearance"]},null),l.Hb(335544320,1,{_control:0}),l.Hb(335544320,2,{_placeholderChild:0}),l.Hb(335544320,3,{_labelChild:0}),l.Hb(603979776,4,{_errorChildren:1}),l.Hb(603979776,5,{_hintChildren:1}),l.Hb(603979776,6,{_prefixChildren:1}),l.Hb(603979776,7,{_suffixChildren:1}),(n()(),l.sb(45,0,null,3,2,"mat-label",[],null,null,null,null,null)),l.rb(46,16384,[[3,4]],0,ze.f,[],null,null),(n()(),l.Jb(-1,null,["Current Password"])),(n()(),l.sb(48,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","oldPassword"],["matInput",""],["placeholder","******"],["type","password"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,e,t){var r=!0;return"input"===e&&(r=!1!==l.Bb(n,49)._handleInput(t.target.value)&&r),"blur"===e&&(r=!1!==l.Bb(n,49).onTouched()&&r),"compositionstart"===e&&(r=!1!==l.Bb(n,49)._compositionStart()&&r),"compositionend"===e&&(r=!1!==l.Bb(n,49)._compositionEnd(t.target.value)&&r),"blur"===e&&(r=!1!==l.Bb(n,53)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==l.Bb(n,53)._focusChanged(!0)&&r),"input"===e&&(r=!1!==l.Bb(n,53)._onInput()&&r),r},null,null)),l.rb(49,16384,null,0,ke.c,[l.G,l.k,[2,ke.a]],null,null),l.Gb(1024,null,ke.k,function(n){return[n]},[ke.c]),l.rb(51,671744,null,0,ke.f,[[3,ke.b],[8,null],[8,null],[6,ke.k],[2,ke.u]],{name:[0,"name"]},null),l.Gb(2048,null,ke.l,null,[ke.f]),l.rb(53,999424,null,0,He.a,[l.k,j.a,[6,ke.l],[2,ke.o],[2,ke.h],w.d,[8,null],Ye.a,l.B],{placeholder:[0,"placeholder"],type:[1,"type"]},null),l.rb(54,16384,null,0,ke.m,[[4,ke.l]],null,null),l.Gb(2048,[[1,4]],ze.c,null,[He.a]),(n()(),l.sb(56,0,null,4,3,"mat-icon",[["class","mat-icon notranslate"],["matSuffix",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,R.b,R.a)),l.rb(57,9158656,null,0,O.b,[l.k,O.d,[8,null],[2,O.a]],null,null),l.rb(58,16384,[[7,4]],0,ze.g,[],null,null),(n()(),l.Jb(-1,0,["vpn_key"])),(n()(),l.sb(60,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),l.sb(61,0,null,null,23,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,je.b,je.a)),l.rb(62,7520256,null,7,ze.b,[l.k,l.h,[2,w.j],[2,Qn.b],[2,ze.a],j.a,l.B,[2,I.a]],{appearance:[0,"appearance"]},null),l.Hb(335544320,8,{_control:0}),l.Hb(335544320,9,{_placeholderChild:0}),l.Hb(335544320,10,{_labelChild:0}),l.Hb(603979776,11,{_errorChildren:1}),l.Hb(603979776,12,{_hintChildren:1}),l.Hb(603979776,13,{_prefixChildren:1}),l.Hb(603979776,14,{_suffixChildren:1}),(n()(),l.sb(70,0,null,3,2,"mat-label",[],null,null,null,null,null)),l.rb(71,16384,[[10,4]],0,ze.f,[],null,null),(n()(),l.Jb(-1,null,["New Password"])),(n()(),l.sb(73,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","newPassword"],["matInput",""],["placeholder","******"],["type","password"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,e,t){var r=!0;return"input"===e&&(r=!1!==l.Bb(n,74)._handleInput(t.target.value)&&r),"blur"===e&&(r=!1!==l.Bb(n,74).onTouched()&&r),"compositionstart"===e&&(r=!1!==l.Bb(n,74)._compositionStart()&&r),"compositionend"===e&&(r=!1!==l.Bb(n,74)._compositionEnd(t.target.value)&&r),"blur"===e&&(r=!1!==l.Bb(n,78)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==l.Bb(n,78)._focusChanged(!0)&&r),"input"===e&&(r=!1!==l.Bb(n,78)._onInput()&&r),r},null,null)),l.rb(74,16384,null,0,ke.c,[l.G,l.k,[2,ke.a]],null,null),l.Gb(1024,null,ke.k,function(n){return[n]},[ke.c]),l.rb(76,671744,null,0,ke.f,[[3,ke.b],[8,null],[8,null],[6,ke.k],[2,ke.u]],{name:[0,"name"]},null),l.Gb(2048,null,ke.l,null,[ke.f]),l.rb(78,999424,null,0,He.a,[l.k,j.a,[6,ke.l],[2,ke.o],[2,ke.h],w.d,[8,null],Ye.a,l.B],{placeholder:[0,"placeholder"],type:[1,"type"]},null),l.rb(79,16384,null,0,ke.m,[[4,ke.l]],null,null),l.Gb(2048,[[8,4]],ze.c,null,[He.a]),(n()(),l.sb(81,0,null,4,3,"mat-icon",[["class","mat-icon notranslate"],["matSuffix",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,R.b,R.a)),l.rb(82,9158656,null,0,O.b,[l.k,O.d,[8,null],[2,O.a]],null,null),l.rb(83,16384,[[14,4]],0,ze.g,[],null,null),(n()(),l.Jb(-1,0,["vpn_key"])),(n()(),l.sb(85,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),l.sb(86,0,null,null,2,"button",[["mat-stroked-button",""],["type","submit"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,V.d,V.b)),l.rb(87,180224,null,0,q.b,[l.k,j.a,z.g,[2,I.a]],{disabled:[0,"disabled"]},null),(n()(),l.Jb(-1,0,[" Change Password "])),(n()(),l.sb(89,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,[" Data Export "])),(n()(),l.sb(91,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,[" Download all of your data as a zip archive. Includes user account, checkins, and images. "])),(n()(),l.sb(93,0,null,null,2,"button",[["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.onDownloadArchive()&&l),l},V.d,V.b)),l.rb(94,180224,null,0,q.b,[l.k,j.a,z.g,[2,I.a]],null,null),(n()(),l.Jb(-1,0,[" Download Archive "])),(n()(),l.sb(96,0,null,null,36,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,e,t){var r=!0,i=n.component;return"submit"===e&&(r=!1!==l.Bb(n,98).onSubmit(t)&&r),"reset"===e&&(r=!1!==l.Bb(n,98).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.onDeleteAccount()&&r),r},null,null)),l.rb(97,16384,null,0,ke.s,[],null,null),l.rb(98,540672,null,0,ke.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l.Gb(2048,null,ke.b,null,[ke.h]),l.rb(100,16384,null,0,ke.n,[[4,ke.b]],null,null),(n()(),l.sb(101,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,[" Delete Account "])),(n()(),l.sb(103,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.Jb(-1,null,[" Note: this action cannot be undone! "])),(n()(),l.sb(105,0,null,null,23,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,je.b,je.a)),l.rb(106,7520256,null,7,ze.b,[l.k,l.h,[2,w.j],[2,Qn.b],[2,ze.a],j.a,l.B,[2,I.a]],{appearance:[0,"appearance"]},null),l.Hb(335544320,15,{_control:0}),l.Hb(335544320,16,{_placeholderChild:0}),l.Hb(335544320,17,{_labelChild:0}),l.Hb(603979776,18,{_errorChildren:1}),l.Hb(603979776,19,{_hintChildren:1}),l.Hb(603979776,20,{_prefixChildren:1}),l.Hb(603979776,21,{_suffixChildren:1}),(n()(),l.sb(114,0,null,3,2,"mat-label",[],null,null,null,null,null)),l.rb(115,16384,[[17,4]],0,ze.f,[],null,null),(n()(),l.Jb(-1,null,["Password"])),(n()(),l.sb(117,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","password"],["matInput",""],["placeholder","******"],["type","password"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,e,t){var r=!0;return"input"===e&&(r=!1!==l.Bb(n,118)._handleInput(t.target.value)&&r),"blur"===e&&(r=!1!==l.Bb(n,118).onTouched()&&r),"compositionstart"===e&&(r=!1!==l.Bb(n,118)._compositionStart()&&r),"compositionend"===e&&(r=!1!==l.Bb(n,118)._compositionEnd(t.target.value)&&r),"blur"===e&&(r=!1!==l.Bb(n,122)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==l.Bb(n,122)._focusChanged(!0)&&r),"input"===e&&(r=!1!==l.Bb(n,122)._onInput()&&r),r},null,null)),l.rb(118,16384,null,0,ke.c,[l.G,l.k,[2,ke.a]],null,null),l.Gb(1024,null,ke.k,function(n){return[n]},[ke.c]),l.rb(120,671744,null,0,ke.f,[[3,ke.b],[8,null],[8,null],[6,ke.k],[2,ke.u]],{name:[0,"name"]},null),l.Gb(2048,null,ke.l,null,[ke.f]),l.rb(122,999424,null,0,He.a,[l.k,j.a,[6,ke.l],[2,ke.o],[2,ke.h],w.d,[8,null],Ye.a,l.B],{placeholder:[0,"placeholder"],type:[1,"type"]},null),l.rb(123,16384,null,0,ke.m,[[4,ke.l]],null,null),l.Gb(2048,[[15,4]],ze.c,null,[He.a]),(n()(),l.sb(125,0,null,4,3,"mat-icon",[["class","mat-icon notranslate"],["matSuffix",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,R.b,R.a)),l.rb(126,9158656,null,0,O.b,[l.k,O.d,[8,null],[2,O.a]],null,null),l.rb(127,16384,[[21,4]],0,ze.g,[],null,null),(n()(),l.Jb(-1,0,["vpn_key"])),(n()(),l.sb(129,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),l.sb(130,0,null,null,2,"button",[["color","warn"],["mat-stroked-button",""],["type","submit"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,V.d,V.b)),l.rb(131,180224,null,0,q.b,[l.k,j.a,z.g,[2,I.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(n()(),l.Jb(-1,0,[" Delete Account "]))],function(n,e){var t=e.component;n(e,10,0,l.Kb(e,10,0,l.Bb(e,11).transform(t.settings$))),n(e,31,0,t.changePasswordForm),n(e,37,0,"outline"),n(e,51,0,"oldPassword"),n(e,53,0,"******","password"),n(e,57,0),n(e,62,0,"outline"),n(e,76,0,"newPassword"),n(e,78,0,"******","password"),n(e,82,0),n(e,87,0,t.changePasswordForm.invalid),n(e,98,0,t.deleteAccountForm),n(e,106,0,"outline"),n(e,120,0,"password"),n(e,122,0,"******","password"),n(e,126,0),n(e,131,0,t.deleteAccountForm.invalid,"warn")},function(n,e){n(e,12,0,l.Bb(e,13).vertical?"vertical":"horizontal",l.Bb(e,13).vertical,!l.Bb(e,13).vertical,l.Bb(e,13).inset),n(e,24,0,l.Bb(e,25).vertical?"vertical":"horizontal",l.Bb(e,25).vertical,!l.Bb(e,25).vertical,l.Bb(e,25).inset),n(e,29,0,l.Bb(e,33).ngClassUntouched,l.Bb(e,33).ngClassTouched,l.Bb(e,33).ngClassPristine,l.Bb(e,33).ngClassDirty,l.Bb(e,33).ngClassValid,l.Bb(e,33).ngClassInvalid,l.Bb(e,33).ngClassPending),n(e,36,1,["standard"==l.Bb(e,37).appearance,"fill"==l.Bb(e,37).appearance,"outline"==l.Bb(e,37).appearance,"legacy"==l.Bb(e,37).appearance,l.Bb(e,37)._control.errorState,l.Bb(e,37)._canLabelFloat,l.Bb(e,37)._shouldLabelFloat(),l.Bb(e,37)._hasFloatingLabel(),l.Bb(e,37)._hideControlPlaceholder(),l.Bb(e,37)._control.disabled,l.Bb(e,37)._control.autofilled,l.Bb(e,37)._control.focused,"accent"==l.Bb(e,37).color,"warn"==l.Bb(e,37).color,l.Bb(e,37)._shouldForward("untouched"),l.Bb(e,37)._shouldForward("touched"),l.Bb(e,37)._shouldForward("pristine"),l.Bb(e,37)._shouldForward("dirty"),l.Bb(e,37)._shouldForward("valid"),l.Bb(e,37)._shouldForward("invalid"),l.Bb(e,37)._shouldForward("pending"),!l.Bb(e,37)._animationsEnabled]),n(e,48,1,[l.Bb(e,53)._isServer,l.Bb(e,53).id,l.Bb(e,53).placeholder,l.Bb(e,53).disabled,l.Bb(e,53).required,l.Bb(e,53).readonly&&!l.Bb(e,53)._isNativeSelect||null,l.Bb(e,53)._ariaDescribedby||null,l.Bb(e,53).errorState,l.Bb(e,53).required.toString(),l.Bb(e,54).ngClassUntouched,l.Bb(e,54).ngClassTouched,l.Bb(e,54).ngClassPristine,l.Bb(e,54).ngClassDirty,l.Bb(e,54).ngClassValid,l.Bb(e,54).ngClassInvalid,l.Bb(e,54).ngClassPending]),n(e,56,0,l.Bb(e,57).inline,"primary"!==l.Bb(e,57).color&&"accent"!==l.Bb(e,57).color&&"warn"!==l.Bb(e,57).color),n(e,61,1,["standard"==l.Bb(e,62).appearance,"fill"==l.Bb(e,62).appearance,"outline"==l.Bb(e,62).appearance,"legacy"==l.Bb(e,62).appearance,l.Bb(e,62)._control.errorState,l.Bb(e,62)._canLabelFloat,l.Bb(e,62)._shouldLabelFloat(),l.Bb(e,62)._hasFloatingLabel(),l.Bb(e,62)._hideControlPlaceholder(),l.Bb(e,62)._control.disabled,l.Bb(e,62)._control.autofilled,l.Bb(e,62)._control.focused,"accent"==l.Bb(e,62).color,"warn"==l.Bb(e,62).color,l.Bb(e,62)._shouldForward("untouched"),l.Bb(e,62)._shouldForward("touched"),l.Bb(e,62)._shouldForward("pristine"),l.Bb(e,62)._shouldForward("dirty"),l.Bb(e,62)._shouldForward("valid"),l.Bb(e,62)._shouldForward("invalid"),l.Bb(e,62)._shouldForward("pending"),!l.Bb(e,62)._animationsEnabled]),n(e,73,1,[l.Bb(e,78)._isServer,l.Bb(e,78).id,l.Bb(e,78).placeholder,l.Bb(e,78).disabled,l.Bb(e,78).required,l.Bb(e,78).readonly&&!l.Bb(e,78)._isNativeSelect||null,l.Bb(e,78)._ariaDescribedby||null,l.Bb(e,78).errorState,l.Bb(e,78).required.toString(),l.Bb(e,79).ngClassUntouched,l.Bb(e,79).ngClassTouched,l.Bb(e,79).ngClassPristine,l.Bb(e,79).ngClassDirty,l.Bb(e,79).ngClassValid,l.Bb(e,79).ngClassInvalid,l.Bb(e,79).ngClassPending]),n(e,81,0,l.Bb(e,82).inline,"primary"!==l.Bb(e,82).color&&"accent"!==l.Bb(e,82).color&&"warn"!==l.Bb(e,82).color),n(e,86,0,l.Bb(e,87).disabled||null,"NoopAnimations"===l.Bb(e,87)._animationMode),n(e,93,0,l.Bb(e,94).disabled||null,"NoopAnimations"===l.Bb(e,94)._animationMode),n(e,96,0,l.Bb(e,100).ngClassUntouched,l.Bb(e,100).ngClassTouched,l.Bb(e,100).ngClassPristine,l.Bb(e,100).ngClassDirty,l.Bb(e,100).ngClassValid,l.Bb(e,100).ngClassInvalid,l.Bb(e,100).ngClassPending),n(e,105,1,["standard"==l.Bb(e,106).appearance,"fill"==l.Bb(e,106).appearance,"outline"==l.Bb(e,106).appearance,"legacy"==l.Bb(e,106).appearance,l.Bb(e,106)._control.errorState,l.Bb(e,106)._canLabelFloat,l.Bb(e,106)._shouldLabelFloat(),l.Bb(e,106)._hasFloatingLabel(),l.Bb(e,106)._hideControlPlaceholder(),l.Bb(e,106)._control.disabled,l.Bb(e,106)._control.autofilled,l.Bb(e,106)._control.focused,"accent"==l.Bb(e,106).color,"warn"==l.Bb(e,106).color,l.Bb(e,106)._shouldForward("untouched"),l.Bb(e,106)._shouldForward("touched"),l.Bb(e,106)._shouldForward("pristine"),l.Bb(e,106)._shouldForward("dirty"),l.Bb(e,106)._shouldForward("valid"),l.Bb(e,106)._shouldForward("invalid"),l.Bb(e,106)._shouldForward("pending"),!l.Bb(e,106)._animationsEnabled]),n(e,117,1,[l.Bb(e,122)._isServer,l.Bb(e,122).id,l.Bb(e,122).placeholder,l.Bb(e,122).disabled,l.Bb(e,122).required,l.Bb(e,122).readonly&&!l.Bb(e,122)._isNativeSelect||null,l.Bb(e,122)._ariaDescribedby||null,l.Bb(e,122).errorState,l.Bb(e,122).required.toString(),l.Bb(e,123).ngClassUntouched,l.Bb(e,123).ngClassTouched,l.Bb(e,123).ngClassPristine,l.Bb(e,123).ngClassDirty,l.Bb(e,123).ngClassValid,l.Bb(e,123).ngClassInvalid,l.Bb(e,123).ngClassPending]),n(e,125,0,l.Bb(e,126).inline,"primary"!==l.Bb(e,126).color&&"accent"!==l.Bb(e,126).color&&"warn"!==l.Bb(e,126).color),n(e,130,0,l.Bb(e,131).disabled||null,"NoopAnimations"===l.Bb(e,131)._animationMode)})}function Qe(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,1,"app-settings",[],null,null,null,Ze,$e)),l.rb(1,114688,null,0,Je,[sn,We.a,L.k],null,null)],function(n,e){n(e,1,0)},null)}var nt=l.ob("app-settings",Je,Qe,{},{},[]),et=l.qb({encapsulation:2,styles:[""],data:{}});function tt(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,1,"div",[["class","filepond--wrapper"]],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,0,"input",[["type","file"]],null,null,null,null,null))],null,null)}var lt=t("xMyE"),rt=function(){function n(n,e,t){var l=this;this.checkinService=n,this.route=e,this.authService=t,this.checkin$=null,this.editing=!1,this.hasDeletedImage=!1,this.updateForm=null,this.pondOptions=null,this.updateForm=new ke.g({text:new ke.e(""),image_id:new ke.e(null),checkin_id:new ke.e}),this.pondOptions={acceptedFileTypes:"image/jpeg, image/png",maxFileSize:"10MB",server:{url:C.a.api,process:{url:"/image/",method:"POST",withCredentials:!1,headers:{Authorization:"Bearer "+t.currentUserValue.jwt},onload:function(n){return n=JSON.parse(n),l.updateForm.patchValue({image_id:n.id}),n.id}},load:null,fetch:null,revert:null,restore:null}}}return n.prototype.ngOnInit=function(){var n=this;this.checkin$=this.route.paramMap.pipe(Object(wn.a)(function(e){return n.checkinService.getOne(+e.get("id"))}),Object(lt.a)(function(e){n.updateForm.setValue({text:e.text,image_id:e.image&&e.image.id,checkin_id:e.id})}))},n.prototype.updateCheckin=function(){var n=this;this.checkin$=this.checkinService.update(this.updateForm.value).pipe(Object(lt.a)(function(){n.exitEditingMode()}))},n.prototype.onImageDelete=function(){this.updateForm.patchValue({image_id:-1}),this.hasDeletedImage=!0},n.prototype.enterEditingMode=function(){this.editing=!0,this.hasDeletedImage=!1},n.prototype.exitEditingMode=function(){this.editing=!1,this.hasDeletedImage=!1},n}(),it=l.qb({encapsulation:0,styles:[[""]],data:{}});function at(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,1,"app-secure-image",[],null,[[null,"delete"]],function(n,e,t){var l=!0;return"delete"===e&&(l=!1!==n.component.onImageDelete()&&l),l},$n,qn)),l.rb(1,114688,null,0,Vn,[Un,sn],{image:[0,"image"],allowDelete:[1,"allowDelete"]},{delete:"delete"})],function(n,e){n(e,1,0,e.parent.context.ngIf.image,e.component.editing)},null)}function ot(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,1,"file-pond",[["name","file"]],null,null,null,tt,et)),l.rb(1,4898816,[[1,4],["myPond",4]],0,s,[l.k,l.B],{options:[0,"options"]},null)],function(n,e){n(e,1,0,e.component.pondOptions)},null)}function ut(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(1,16384,null,0,D.d,[],null,null),(n()(),l.sb(2,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.Jb(3,null,[" "," "]))],null,function(n,e){n(e,3,0,e.parent.context.ngIf.text)})}function st(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,6,"mat-card-actions",[["class","mat-card-actions"],["fxLayout","row"],["fxLayoutAlign","center"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),l.rb(1,16384,null,0,D.b,[],null,null),l.rb(2,671744,null,0,W.c,[l.k,X.i,[2,W.g],X.f],{fxLayout:[0,"fxLayout"]},null),l.rb(3,671744,null,0,W.b,[l.k,X.i,[2,W.f],X.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),l.sb(4,0,null,null,2,"button",[["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.enterEditingMode()&&l),l},V.d,V.b)),l.rb(5,180224,null,0,q.b,[l.k,j.a,z.g,[2,I.a]],null,null),(n()(),l.Jb(-1,0,["Edit "]))],function(n,e){n(e,2,0,"row"),n(e,3,0,"center")},function(n,e){n(e,0,0,"end"===l.Bb(e,1).align),n(e,4,0,l.Bb(e,5).disabled||null,"NoopAnimations"===l.Bb(e,5)._animationMode)})}function ct(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,23,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(1,16384,null,0,D.d,[],null,null),(n()(),l.sb(2,0,null,null,21,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,e,t){var r=!0;return"submit"===e&&(r=!1!==l.Bb(n,4).onSubmit(t)&&r),"reset"===e&&(r=!1!==l.Bb(n,4).onReset()&&r),r},null,null)),l.rb(3,16384,null,0,ke.s,[],null,null),l.rb(4,540672,null,0,ke.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Gb(2048,null,ke.b,null,[ke.h]),l.rb(6,16384,null,0,ke.n,[[4,ke.b]],null,null),(n()(),l.sb(7,0,null,null,16,"mat-form-field",[["class","mat-form-field"],["style","width: 100%;"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,je.b,je.a)),l.rb(8,7520256,null,7,ze.b,[l.k,l.h,[2,w.j],[2,Qn.b],[2,ze.a],j.a,l.B,[2,I.a]],null,null),l.Hb(335544320,2,{_control:0}),l.Hb(335544320,3,{_placeholderChild:0}),l.Hb(335544320,4,{_labelChild:0}),l.Hb(603979776,5,{_errorChildren:1}),l.Hb(603979776,6,{_hintChildren:1}),l.Hb(603979776,7,{_prefixChildren:1}),l.Hb(603979776,8,{_suffixChildren:1}),(n()(),l.sb(16,0,null,1,7,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","text"],["matInput",""],["placeholder","Comment"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,e,t){var r=!0;return"input"===e&&(r=!1!==l.Bb(n,17)._handleInput(t.target.value)&&r),"blur"===e&&(r=!1!==l.Bb(n,17).onTouched()&&r),"compositionstart"===e&&(r=!1!==l.Bb(n,17)._compositionStart()&&r),"compositionend"===e&&(r=!1!==l.Bb(n,17)._compositionEnd(t.target.value)&&r),"blur"===e&&(r=!1!==l.Bb(n,21)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==l.Bb(n,21)._focusChanged(!0)&&r),"input"===e&&(r=!1!==l.Bb(n,21)._onInput()&&r),r},null,null)),l.rb(17,16384,null,0,ke.c,[l.G,l.k,[2,ke.a]],null,null),l.Gb(1024,null,ke.k,function(n){return[n]},[ke.c]),l.rb(19,671744,null,0,ke.f,[[3,ke.b],[8,null],[8,null],[6,ke.k],[2,ke.u]],{name:[0,"name"]},null),l.Gb(2048,null,ke.l,null,[ke.f]),l.rb(21,999424,null,0,He.a,[l.k,j.a,[6,ke.l],[2,ke.o],[2,ke.h],w.d,[8,null],Ye.a,l.B],{placeholder:[0,"placeholder"]},null),l.rb(22,16384,null,0,ke.m,[[4,ke.l]],null,null),l.Gb(2048,[[2,4]],ze.c,null,[He.a])],function(n,e){n(e,4,0,e.component.updateForm),n(e,19,0,"text"),n(e,21,0,"Comment")},function(n,e){n(e,2,0,l.Bb(e,6).ngClassUntouched,l.Bb(e,6).ngClassTouched,l.Bb(e,6).ngClassPristine,l.Bb(e,6).ngClassDirty,l.Bb(e,6).ngClassValid,l.Bb(e,6).ngClassInvalid,l.Bb(e,6).ngClassPending),n(e,7,1,["standard"==l.Bb(e,8).appearance,"fill"==l.Bb(e,8).appearance,"outline"==l.Bb(e,8).appearance,"legacy"==l.Bb(e,8).appearance,l.Bb(e,8)._control.errorState,l.Bb(e,8)._canLabelFloat,l.Bb(e,8)._shouldLabelFloat(),l.Bb(e,8)._hasFloatingLabel(),l.Bb(e,8)._hideControlPlaceholder(),l.Bb(e,8)._control.disabled,l.Bb(e,8)._control.autofilled,l.Bb(e,8)._control.focused,"accent"==l.Bb(e,8).color,"warn"==l.Bb(e,8).color,l.Bb(e,8)._shouldForward("untouched"),l.Bb(e,8)._shouldForward("touched"),l.Bb(e,8)._shouldForward("pristine"),l.Bb(e,8)._shouldForward("dirty"),l.Bb(e,8)._shouldForward("valid"),l.Bb(e,8)._shouldForward("invalid"),l.Bb(e,8)._shouldForward("pending"),!l.Bb(e,8)._animationsEnabled]),n(e,16,1,[l.Bb(e,21)._isServer,l.Bb(e,21).id,l.Bb(e,21).placeholder,l.Bb(e,21).disabled,l.Bb(e,21).required,l.Bb(e,21).readonly&&!l.Bb(e,21)._isNativeSelect||null,l.Bb(e,21)._ariaDescribedby||null,l.Bb(e,21).errorState,l.Bb(e,21).required.toString(),l.Bb(e,22).ngClassUntouched,l.Bb(e,22).ngClassTouched,l.Bb(e,22).ngClassPristine,l.Bb(e,22).ngClassDirty,l.Bb(e,22).ngClassValid,l.Bb(e,22).ngClassInvalid,l.Bb(e,22).ngClassPending])})}function dt(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,9,"mat-card-actions",[["class","mat-card-actions"],["fxLayout","row"],["fxLayoutAlign","space-between"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),l.rb(1,16384,null,0,D.b,[],null,null),l.rb(2,671744,null,0,W.c,[l.k,X.i,[2,W.g],X.f],{fxLayout:[0,"fxLayout"]},null),l.rb(3,671744,null,0,W.b,[l.k,X.i,[2,W.f],X.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),l.sb(4,0,null,null,2,"button",[["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.updateCheckin()&&l),l},V.d,V.b)),l.rb(5,180224,null,0,q.b,[l.k,j.a,z.g,[2,I.a]],null,null),(n()(),l.Jb(-1,0,["Submit "])),(n()(),l.sb(7,0,null,null,2,"button",[["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.exitEditingMode()&&l),l},V.d,V.b)),l.rb(8,180224,null,0,q.b,[l.k,j.a,z.g,[2,I.a]],null,null),(n()(),l.Jb(-1,0,["Cancel "]))],function(n,e){n(e,2,0,"row"),n(e,3,0,"space-between")},function(n,e){n(e,0,0,"end"===l.Bb(e,1).align),n(e,4,0,l.Bb(e,5).disabled||null,"NoopAnimations"===l.Bb(e,5)._animationMode),n(e,7,0,l.Bb(e,8).disabled||null,"NoopAnimations"===l.Bb(e,8)._animationMode)})}function ft(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,32,"div",[],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,31,"mat-card",[["class","mat-card"]],null,null,null,S.d,S.a)),l.rb(2,49152,null,0,D.a,[],null,null),(n()(),l.sb(3,0,null,0,13,"mat-card-header",[["class","mat-card-header"]],null,null,null,S.c,S.b)),l.rb(4,49152,null,0,D.e,[],null,null),(n()(),l.sb(5,0,null,0,3,"div",[["class","mat-card-avatar"],["mat-card-avatar",""]],null,null,null,null,null)),l.rb(6,16384,null,0,D.c,[],null,null),(n()(),l.sb(7,0,null,null,1,":svg:svg",[["height","40"],["width","40"]],null,null,null,null,null)),l.rb(8,540672,null,0,K,[l.k,l.G],{identiconHash:[0,"identiconHash"]},null),(n()(),l.sb(9,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l.rb(10,16384,null,0,D.i,[],null,null),(n()(),l.Jb(11,null,[" #"," "])),(n()(),l.sb(12,0,null,1,4,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),l.rb(13,16384,null,0,D.h,[],null,null),(n()(),l.Jb(14,null,[""," m | ",""])),l.Fb(15,2),l.Fb(16,1),(n()(),l.sb(17,0,null,0,3,"app-map",[],null,null,null,Re,Te)),l.rb(18,245760,null,0,ye,[tn.a],{config:[0,"config"]},null),l.Cb(19,1),l.Eb(20,{checkins:0,mode:1,center:2}),(n()(),l.jb(16777216,null,0,1,null,at)),l.rb(22,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.jb(16777216,null,0,1,null,ot)),l.rb(24,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.jb(16777216,null,0,1,null,ut)),l.rb(26,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.jb(16777216,null,0,1,null,st)),l.rb(28,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.jb(16777216,null,0,1,null,ct)),l.rb(30,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.jb(16777216,null,0,1,null,dt)),l.rb(32,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,8,0,e.context.ngIf.geocache.location.geohash);var l=n(e,20,0,n(e,19,0,e.context.ngIf),"include-checkin","checkin");n(e,18,0,l),n(e,22,0,null!==e.context.ngIf.image&&!t.hasDeletedImage),n(e,24,0,t.editing&&(null===e.context.ngIf.image||t.hasDeletedImage)),n(e,26,0,!t.editing),n(e,28,0,!t.editing),n(e,30,0,t.editing),n(e,32,0,t.editing)},function(n,e){n(e,11,0,e.context.ngIf.geocache.location.geohash);var t=l.Kb(e,14,0,n(e,15,0,l.Bb(e.parent,0),e.context.ngIf.final_distance,"1.1-1")),r=l.Kb(e,14,1,n(e,16,0,l.Bb(e.parent,1),e.context.ngIf.created_at));n(e,14,0,t,r)})}function pt(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,3,"mat-card",[["class","mat-card"]],null,null,null,S.d,S.a)),l.rb(1,49152,null,0,D.a,[],null,null),(n()(),l.sb(2,0,null,0,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["color","primary"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,E.b,E.a)),l.rb(3,4374528,null,0,_.b,[l.k,l.B,[2,I.a],[2,_.a]],{color:[0,"color"],mode:[1,"mode"]},null)],function(n,e){n(e,3,0,"primary","indeterminate")},function(n,e){n(e,2,0,l.Bb(e,3).value,l.Bb(e,3).mode,l.Bb(e,3)._isNoopAnimation)})}function bt(n){return l.Lb(0,[l.Db(0,A.f,[l.w]),l.Db(0,A.e,[l.w]),l.Hb(671088640,1,{myPond:0}),(n()(),l.jb(16777216,null,null,2,null,ft)),l.rb(4,16384,null,0,A.m,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l.Db(131072,A.b,[l.h]),(n()(),l.jb(0,[["loader",2]],null,0,null,pt))],function(n,e){var t=e.component;n(e,4,0,l.Kb(e,4,0,l.Bb(e,5).transform(t.checkin$)),l.Bb(e,6))},null)}function mt(n){return l.Lb(0,[(n()(),l.sb(0,0,null,null,1,"app-checkin",[],null,null,null,bt,it)),l.rb(1,114688,null,0,rt,[On,L.a,We.a],null,null)],function(n,e){n(e,1,0)},null)}var ht=l.ob("app-checkin",rt,mt,{},{},[]),gt=t("t68o"),vt=t("zbXB"),Et=t("XePT"),_t=t("OkvK"),It=t("eDkP"),yt=t("uGex"),Tt=t("4tE/"),Rt=t("o3x0"),Ot=t("jQLj"),wt=function(){return function(){}}(),St=t("r43C"),Dt=t("y4qS"),Lt=t("BHnd"),At=t("/dO6"),Ct=t("YhbO"),Bt=t("jlZm"),Pt=t("Blfk"),Mt=t("Nsh5"),xt=t("hctd"),Nt=t("hUWP"),Gt=t("3pJQ"),kt=t("V9q+"),Ft=t("SZbH"),Ut=t("foBm"),Vt=t("YSh2");t.d(e,"DashboardModuleNgFactory",function(){return qt});var qt=l.pb(g,[],function(n){return l.yb([l.zb(512,l.j,l.eb,[[8,[v.a,U,Gn,Ne,nt,ht,gt.a,vt.b,vt.a,Et.a]],[3,l.j],l.z]),l.zb(4608,A.o,A.n,[l.w,[2,A.y]]),l.zb(4608,Zn.c,Zn.c,[]),l.zb(4608,w.d,w.d,[]),l.zb(5120,_t.b,_t.a,[[3,_t.b]]),l.zb(4608,It.a,It.a,[It.g,It.c,l.j,It.f,It.d,l.s,l.B,A.d,Qn.b,[2,A.i]]),l.zb(5120,It.h,It.i,[It.a]),l.zb(5120,yt.a,yt.b,[It.a]),l.zb(5120,Tt.a,Tt.b,[It.a]),l.zb(5120,Rt.b,Rt.c,[It.a]),l.zb(135680,Rt.d,Rt.d,[It.a,l.s,[2,A.i],[2,Rt.a],Rt.b,[3,Rt.d],It.c]),l.zb(4608,Ot.h,Ot.h,[]),l.zb(5120,Ot.a,Ot.b,[It.a]),l.zb(4608,w.c,w.z,[[2,w.h],j.a]),l.zb(4608,Q.f,w.e,[[2,w.i],[2,w.n]]),l.zb(4608,ke.t,ke.t,[]),l.zb(4608,ke.d,ke.d,[]),l.zb(5120,l.b,function(n,e){return[X.j(n,e)]},[A.d,l.D]),l.zb(4608,B.i,B.o,[A.d,l.D,B.m]),l.zb(4608,B.p,B.p,[B.i,B.n]),l.zb(5120,B.a,function(n){return[n]},[B.p]),l.zb(4608,B.l,B.l,[]),l.zb(6144,B.j,null,[B.l]),l.zb(4608,B.h,B.h,[B.j]),l.zb(6144,B.b,null,[B.h]),l.zb(4608,B.g,B.k,[B.b,l.s]),l.zb(4608,B.c,B.c,[B.g]),l.zb(1073742336,A.c,A.c,[]),l.zb(1073742336,L.m,L.m,[[2,L.s],[2,L.k]]),l.zb(1073742336,wt,wt,[]),l.zb(1073742336,Qn.a,Qn.a,[]),l.zb(1073742336,w.n,w.n,[[2,w.f],[2,Q.g]]),l.zb(1073742336,Y.b,Y.b,[]),l.zb(1073742336,O.c,O.c,[]),l.zb(1073742336,j.b,j.b,[]),l.zb(1073742336,w.y,w.y,[]),l.zb(1073742336,q.c,q.c,[]),l.zb(1073742336,w.p,w.p,[]),l.zb(1073742336,w.w,w.w,[]),l.zb(1073742336,qe.b,qe.b,[]),l.zb(1073742336,T.d,T.d,[]),l.zb(1073742336,D.g,D.g,[]),l.zb(1073742336,Zn.d,Zn.d,[]),l.zb(1073742336,ze.d,ze.d,[]),l.zb(1073742336,Ye.c,Ye.c,[]),l.zb(1073742336,He.b,He.b,[]),l.zb(1073742336,St.a,St.a,[]),l.zb(1073742336,_.c,_.c,[]),l.zb(1073742336,Dt.o,Dt.o,[]),l.zb(1073742336,Lt.a,Lt.a,[]),l.zb(1073742336,At.d,At.d,[]),l.zb(1073742336,_t.c,_t.c,[]),l.zb(1073742336,ne.g,ne.g,[]),l.zb(1073742336,ee.c,ee.c,[]),l.zb(1073742336,It.e,It.e,[]),l.zb(1073742336,w.t,w.t,[]),l.zb(1073742336,yt.c,yt.c,[]),l.zb(1073742336,Ct.c,Ct.c,[]),l.zb(1073742336,Bt.a,Bt.a,[]),l.zb(1073742336,Tt.c,Tt.c,[]),l.zb(1073742336,Rt.g,Rt.g,[]),l.zb(1073742336,z.a,z.a,[]),l.zb(1073742336,Ot.i,Ot.i,[]),l.zb(1073742336,w.A,w.A,[]),l.zb(1073742336,w.q,w.q,[]),l.zb(1073742336,Pt.a,Pt.a,[]),l.zb(1073742336,Mt.h,Mt.h,[]),l.zb(1073742336,Ge.c,Ge.c,[]),l.zb(1073742336,Kn.j,Kn.j,[]),l.zb(1073742336,xt.a,xt.a,[]),l.zb(1073742336,ke.r,ke.r,[]),l.zb(1073742336,ke.i,ke.i,[]),l.zb(1073742336,ke.p,ke.p,[]),l.zb(1073742336,X.c,X.c,[]),l.zb(1073742336,W.d,W.d,[]),l.zb(1073742336,Nt.a,Nt.a,[]),l.zb(1073742336,Gt.a,Gt.a,[]),l.zb(1073742336,kt.a,kt.a,[[2,X.g],l.D]),l.zb(1073742336,B.e,B.e,[]),l.zb(1073742336,B.d,B.d,[]),l.zb(1073742336,Ft.i,Ft.i,[]),l.zb(1073742336,c,c,[]),l.zb(1073742336,Ut.a,Ut.a,[]),l.zb(1073742336,g,g,[]),l.zb(1024,L.i,function(){return[[{path:"",component:M},{path:"play",component:Sn},{path:"history",component:Oe},{path:"settings",component:Je},{path:"checkin/:id",component:rt}]]},[]),l.zb(256,At.a,{separatorKeyCodes:[Vt.f]},[]),l.zb(256,w.g,w.k,[]),l.zb(256,B.m,"XSRF-TOKEN",[]),l.zb(256,B.n,"X-XSRF-TOKEN",[])])})},wGJR:function(n,e,t){!function(n){"use strict";var e,t,l,r=function(n,e){for(var t in n)n.hasOwnProperty(t)&&e(t,n[t])},i=function(n){var e={};return r(n,function(t){!function(n,e,t){"function"!=typeof t?Object.defineProperty(n,e,Object.assign({},t)):n[e]=t}(e,t,n[t])}),e},a=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===t)return n.getAttribute(e)||n.hasAttribute(e);n.setAttribute(e,t)},o=["svg","path"],u=function(n){return o.includes(n)},s=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof e&&(t=e,e=null);var l=u(n)?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n);return e&&(u(n)?a(l,"class",e):l.className=e),r(t,function(n,e){a(l,n,e)}),l},c=function(n,e){return function(n,t){return void 0!==t?e.splice(t,0,n):e.push(n),n}},d=function(n,e){return function(t){return e.splice(e.indexOf(t),1),t.element.parentNode&&n.removeChild(t.element),t}},f=function(n,e,t,l){var r=t[0]||n.left,i=t[1]||n.top,a=r+n.width,o=i+n.height*(l[1]||1),u={element:Object.assign({},n),inner:{left:n.left,top:n.top,right:n.right,bottom:n.bottom},outer:{left:r,top:i,right:a,bottom:o}};return e.filter(function(n){return!n.isRectIgnored()}).map(function(n){return n.rect}).forEach(function(n){p(u.inner,Object.assign({},n.inner)),p(u.outer,Object.assign({},n.outer))}),b(u.inner),u.outer.bottom+=u.element.marginBottom,u.outer.right+=u.element.marginRight,b(u.outer),u},p=function(n,e){e.top+=n.top,e.right+=n.left,e.bottom+=n.top,e.left+=n.left,e.bottom>n.bottom&&(n.bottom=e.bottom),e.right>n.right&&(n.right=e.right)},b=function(n){n.width=n.right-n.left,n.height=n.bottom-n.top},m=function(n){return"number"==typeof n},h=function(n){return n<.5?2*n*n:(4-2*n)*n-1},g={spring:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.stiffness,t=void 0===e?.5:e,l=n.damping,r=void 0===l?.75:l,a=n.mass,o=void 0===a?10:a,u=null,s=null,c=0,d=!1,f=i({interpolate:function(){if(!d)return m(u)&&m(s)?void(function(n,e,t){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(n-e)<l&&Math.abs(t)<l}(s+=c+=-(s-u)*t/o,u,c*=r)?(c=0,d=!0,f.onupdate(s=u),f.oncomplete(s)):f.onupdate(s)):(d=!0,void(c=0))},target:{set:function(n){if(m(n)&&!m(s)&&(s=n),null===u&&(u=n,s=n),s===(u=n)||void 0===u)return d=!0,c=0,f.onupdate(s),void f.oncomplete(s);d=!1},get:function(){return u}},resting:{get:function(){return d}},onupdate:function(n){},oncomplete:function(n){}});return f},tween:function(){var n,e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=t.duration,r=void 0===l?500:l,a=t.easing,o=void 0===a?h:a,u=t.delay,s=void 0===u?0:u,c=null,d=!0,f=!1,p=null,b=i({interpolate:function(t){d||null===p||(null===c&&(c=t),t-c<s||((n=t-c-s)<r?(e=n/r,b.onupdate((n>=0?o(f?1-e:e):0)*p)):(n=1,b.onupdate((e=f?0:1)*p),b.oncomplete(e*p),d=!0)))},target:{get:function(){return f?0:p},set:function(n){if(null===p)return p=n,b.onupdate(n),void b.oncomplete(n);n<p?(p=1,f=!0):(f=!1,p=n),d=!1,c=null}},resting:{get:function(){return d}},onupdate:function(n){},oncomplete:function(n){}});return b}},v=function(n,e,t){var l=n[e]&&"object"==typeof n[e][t]?n[e][t]:n[e]||n,r="string"==typeof l?l:l.type,i="object"==typeof l?Object.assign({},l):{};return g[r]?g[r](i):null},E=function(n,e,t){var l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(e=Array.isArray(e)?e:[e]).forEach(function(e){n.forEach(function(n){var r=n,i=function(){return t[n]},a=function(e){return t[n]=e};"object"==typeof n&&(r=n.key,i=n.getter||i,a=n.setter||a),e[r]&&!l||(e[r]={get:i,set:a})})})},_=function(n){return null!=n},I={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},y={styles:function(n){var e=n.mixinConfig,t=n.viewProps,l=n.viewInternalAPI,r=n.viewExternalAPI,i=n.view,a=Object.assign({},t),o={};E(e,[l,r],t);var u=function(){return i.rect?f(i.rect,i.childViews,[t.translateX||0,t.translateY||0],[t.scaleX||0,t.scaleY||0]):null};return l.rect={get:u},r.rect={get:u},e.forEach(function(n){t[n]=void 0===a[n]?I[n]:a[n]}),{write:function(){if(function(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!0;for(var t in e)if(e[t]!==n[t])return!0;return!1}(o,t))return function(n,e){var l=t.opacity,r=t.perspective,i=t.translateX,a=t.translateY,o=t.scaleX,u=t.scaleY,s=t.rotateX,c=t.rotateY,d=t.rotateZ,f=t.originX,p=t.originY,b=t.width,m=t.height,h="",g="";(_(f)||_(p))&&(g+="transform-origin: "+(f||0)+"px "+(p||0)+"px;"),_(r)&&(h+="perspective("+r+"px) "),(_(i)||_(a))&&(h+="translate3d("+(i||0)+"px, "+(a||0)+"px, 0) "),(_(o)||_(u))&&(h+="scale3d("+(_(o)?o:1)+", "+(_(u)?u:1)+", 1) "),_(d)&&(h+="rotateZ("+d+"rad) "),_(s)&&(h+="rotateX("+s+"rad) "),_(c)&&(h+="rotateY("+c+"rad) "),h.length&&(g+="transform:"+h+";"),_(l)&&(g+="opacity:"+l+";",0===l&&(g+="visibility:hidden;"),l<1&&(g+="pointer-events:none;")),_(m)&&(g+="height:"+m+"px;"),_(b)&&(g+="width:"+b+"px;");var v=n.elementCurrentStyle||"";g.length===v.length&&g===v||(n.setAttribute("style",g),n.elementCurrentStyle=g)}(i.element),Object.assign(o,Object.assign({},t)),!0},destroy:function(){}}},listeners:function(n){var e,t=n.viewExternalAPI,l=n.view,r=[],i=(e=l.element,function(n,t){e.addEventListener(n,t)}),a=function(n){return function(e,t){n.removeEventListener(e,t)}}(l.element);return t.on=function(n,e){r.push({type:n,fn:e}),i(n,e)},t.off=function(n,e){r.splice(r.findIndex(function(t){return t.type===n&&t.fn===e}),1),a(n,e)},{write:function(){return!0},destroy:function(){r.forEach(function(n){a(n.type,n.fn)})}}},animations:function(n){var e=n.mixinConfig,t=n.viewProps,l=n.viewInternalAPI,i=n.viewExternalAPI,a=Object.assign({},t),o=[];return r(e,function(n,e){var r=v(e);r&&(r.onupdate=function(e){t[n]=e},r.target=a[n],E([{key:n,setter:function(n){r.target!==n&&(r.target=n)},getter:function(){return t[n]}}],[l,i],t,!0),o.push(r))}),{write:function(n){var e=!0;return o.forEach(function(t){t.resting||(e=!1),t.interpolate(n)}),e},destroy:function(){}}},apis:function(n){E(n.mixinConfig,n.viewExternalAPI,n.viewProps)}},T=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.layoutCalculated||(n.paddingTop=parseInt(t.paddingTop,10)||0,n.marginTop=parseInt(t.marginTop,10)||0,n.marginRight=parseInt(t.marginRight,10)||0,n.marginBottom=parseInt(t.marginBottom,10)||0,n.marginLeft=parseInt(t.marginLeft,10)||0,e.layoutCalculated=!0),n.left=e.offsetLeft||0,n.top=e.offsetTop||0,n.width=e.offsetWidth||0,n.height=e.offsetHeight||0,n.right=n.left+n.width,n.bottom=n.top+n.height,n.scrollTop=e.scrollTop,n.hidden=null===e.offsetParent,n},R=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.tag,t=void 0===e?"div":e,l=n.name,r=void 0===l?null:l,a=n.attributes,o=void 0===a?{}:a,u=n.read,p=void 0===u?function(){}:u,b=n.write,m=void 0===b?function(){}:b,h=n.create,g=void 0===h?function(){}:h,v=n.destroy,E=void 0===v?function(){}:v,_=n.filterFrameActionsForChild,I=void 0===_?function(n,e){return e}:_,R=n.didCreateView,O=void 0===R?function(){}:R,w=n.didWriteView,S=void 0===w?function(){}:w,D=n.ignoreRect,L=void 0!==D&&D,A=n.ignoreRectUpdate,C=void 0!==A&&A,B=n.mixins,P=void 0===B?[]:B;return function(n){var e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=s(t,"filepond--"+r,o),u=window.getComputedStyle(a,null),b=T(),h=null,v=!1,_=[],R=[],w={},D={},A=[m],B=[p],M=[E],x=function(){return a},N=function(){return _.concat()},G=function(){return h||(h=f(b,_,[0,0],[1,1]))},k={element:{get:x},style:{get:function(){return u}},childViews:{get:N}},F=Object.assign({},k,{rect:{get:G},ref:{get:function(){return w}},is:function(n){return r===n},appendChild:(e=a,function(n,t){void 0!==t&&e.children[t]?e.insertBefore(n,e.children[t]):e.appendChild(n)}),createChildView:function(n){return function(e,t){return e(n,t)}}(n),linkView:function(n){return _.push(n),n},unlinkView:function(n){_.splice(_.indexOf(n),1)},appendChildView:c(0,_),removeChildView:d(a,_),registerWriter:function(n){return A.push(n)},registerReader:function(n){return B.push(n)},registerDestroyer:function(n){return M.push(n)},invalidateLayout:function(){return a.layoutCalculated=!1},dispatch:n.dispatch,query:n.query}),U={element:{get:x},childViews:{get:N},rect:{get:G},resting:{get:function(){return v}},isRectIgnored:function(){return L},_read:function(){h=null,_.forEach(function(n){return n._read()}),C&&b.width&&b.height||T(b,a,u);var n={root:q,props:l,rect:b};B.forEach(function(e){return e(n)})},_write:function(n,e,t){var r=0===e.length;return A.forEach(function(i){!1===i({props:l,root:q,actions:e,timestamp:n,shouldOptimize:t})&&(r=!1)}),R.forEach(function(e){!1===e.write(n)&&(r=!1)}),_.filter(function(n){return!!n.element.parentNode}).forEach(function(l){l._write(n,I(l,e),t)||(r=!1)}),_.forEach(function(l,i){l.element.parentNode||(q.appendChild(l.element,i),l._read(),l._write(n,I(l,e),t),r=!1)}),v=r,S({props:l,root:q,actions:e,timestamp:n}),r},_destroy:function(){R.forEach(function(n){return n.destroy()}),M.forEach(function(n){n({root:q,props:l})}),_.forEach(function(n){return n._destroy()})}},V=Object.assign({},k,{rect:{get:function(){return b}}});Object.keys(P).sort(function(n,e){return"styles"===n?1:"styles"===e?-1:0}).forEach(function(n){var e=y[n]({mixinConfig:P[n],viewProps:l,viewState:D,viewInternalAPI:F,viewExternalAPI:U,view:i(V)});e&&R.push(e)});var q=i(F);g({root:q,props:l});var j=a.children.length;return _.forEach(function(n,e){q.appendChild(n.element,j+e)}),O(q),i(U)}},O=function(n,e){return function(t){var l=t.root,r=t.props,i=t.actions,a=void 0===i?[]:i,o=t.timestamp,u=t.shouldOptimize;a.filter(function(e){return n[e.type]}).forEach(function(e){return n[e.type]({root:l,props:r,action:e.data,timestamp:o,shouldOptimize:u})}),e&&e({root:l,props:r,actions:a,timestamp:o,shouldOptimize:u})}},w=function(n,e){return e.parentNode.insertBefore(n,e)},S=function(n,e){return e.parentNode.insertBefore(n,e.nextSibling)},D=function(n){return Array.isArray(n)},L=function(n){return null==n},A=function(n){return n.trim()},C=function(n){return""+n},B=function(n){return"boolean"==typeof n},P=function(n){return B(n)?n:"true"===n},M=function(n){return"string"==typeof n},x=function(n){return m(n)?n:M(n)?C(n).replace(/[a-z]+/gi,""):0},N=function(n){return parseInt(x(n),10)},G=function(n){return parseFloat(x(n))},k=function(n){return m(n)&&isFinite(n)&&Math.floor(n)===n},F=function(n){if(k(n))return n;var e=C(n).trim();return/MB$/i.test(e)?(e=e.replace(/MB$i/,"").trim(),1e3*N(e)*1e3):/KB/i.test(e)?(e=e.replace(/KB$i/,"").trim(),1e3*N(e)):N(e)},U=function(n){return"function"==typeof n},V={process:"POST",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},q=function(n){return"object"==typeof n&&null!==n},j=function(n){return D(n)?"array":function(n){return null===n}(n)?"null":k(n)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(n)?"bytes":function(n){return q(n)&&M(n.url)&&q(n.process)&&q(n.revert)&&q(n.restore)&&q(n.fetch)}(n)?"api":typeof n},z={array:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return L(n)?[]:D(n)?n:C(n).split(e).map(A).filter(function(n){return n.length})},boolean:P,int:function(n){return"bytes"===j(n)?F(n):N(n)},number:G,float:G,bytes:F,string:function(n){return U(n)?n:C(n)},function:function(n){return function(e){for(var t=self,l=n.split("."),r=null;r=l.shift();)if(!(t=t[r]))return null;return t}()},serverapi:function(n){return(t={}).url=M(e=n)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,r(V,function(n){t[n]=function(e,l,r,i){if(null===l)return null;if("function"==typeof l)return l;var a={url:"GET"===r?"?"+n+"=":"",method:r,headers:{},withCredentials:!1,timeout:t.timeout,onload:null,ondata:null,onerror:null};if(M(l))return a.url=l,a;if(Object.assign(a,l),M(a.headers)){var o=a.headers.split(/:(.+)/);a.headers={header:o[0],value:o[1]}}return a.withCredentials=P(a.withCredentials),a}(0,e[n],V[n])}),t.remove=e.remove||null,t;var e,t},object:function(n){try{return JSON.parse(n.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'))}catch(e){return null}}},H=function(n,e,t){if(n===e)return n;var l=j(n);if(l!==t){var r=z[t](n);if(l=j(r),null===r)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+t+'"';n=r}return n},Y=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return n.split(/(?=[A-Z])/).map(function(n){return n.toLowerCase()}).join(e)},W=function(n){return function(e,t,l){var i={};return r(n,function(n){var t=Y(n,"_").toUpperCase();i["SET_"+t]=function(r){try{l.options[n]=r.value}catch(i){}e("DID_SET_"+t,{value:l.options[n]})}}),i}},X=function(n){return function(e){var t={};return r(n,function(n){t["GET_"+Y(n,"_").toUpperCase()]=function(t){return e.options[n]}}),t}},J=function(){return Math.random().toString(36).substr(2,9)},$=function(n,e){return n.splice(e,1)},K=function(){var n=[],e=function(e,t){$(n,n.findIndex(function(n){return n.event===e&&(n.cb===t||!t)}))};return{fire:function(e){for(var t=arguments.length,l=new Array(t>1?t-1:0),r=1;r<t;r++)l[r-1]=arguments[r];n.filter(function(n){return n.event===e}).map(function(n){return n.cb}).forEach(function(n){setTimeout(function(){n.apply(void 0,l)},0)})},on:function(e,t){n.push({event:e,cb:t})},onOnce:function(t,l){n.push({event:t,cb:function(){e(t,l),l.apply(void 0,arguments)}})},off:e}},Z=function(n,e,t){Object.getOwnPropertyNames(n).filter(function(n){return!t.includes(n)}).forEach(function(t){return Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})},Q=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],nn=function(n){var e={};return Z(n,e,Q),e},en={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},tn={INPUT:1,LIMBO:2,LOCAL:3},ln=function(n){return/[^0-9]+/.exec(n)},rn=function(){return ln(1.1.toLocaleString())[0]},an={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},on=[],un=function(n,e,t){return new Promise(function(l,r){var i=on.filter(function(e){return e.key===n}).map(function(n){return n.cb});if(0!==i.length){var a=i.shift();i.reduce(function(n,e){return n.then(function(n){return e(n,t)})},a(e,t)).then(function(n){return l(n)}).catch(function(n){return r(n)})}else l(e)})},sn=function(n,e,t){return on.filter(function(e){return e.key===n}).map(function(n){return n.cb(e,t)})},cn=function(n,e){return on.push({key:n,cb:e})},dn=function(){return Object.assign({},fn)},fn={id:[null,an.STRING],name:["filepond",an.STRING],disabled:[!1,an.BOOLEAN],className:[null,an.STRING],required:[!1,an.BOOLEAN],captureMethod:[null,an.STRING],allowDrop:[!0,an.BOOLEAN],allowBrowse:[!0,an.BOOLEAN],allowPaste:[!0,an.BOOLEAN],allowMultiple:[!1,an.BOOLEAN],allowReplace:[!0,an.BOOLEAN],allowRevert:[!0,an.BOOLEAN],forceRevert:[!1,an.BOOLEAN],maxFiles:[null,an.INT],checkValidity:[!1,an.BOOLEAN],itemInsertLocationFreedom:[!0,an.BOOLEAN],itemInsertLocation:["before",an.STRING],itemInsertInterval:[75,an.INT],dropOnPage:[!1,an.BOOLEAN],dropOnElement:[!0,an.BOOLEAN],dropValidation:[!1,an.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],an.ARRAY],instantUpload:[!0,an.BOOLEAN],maxParallelUploads:[2,an.INT],server:[null,an.SERVER_API],labelDecimalSeparator:[rn(),an.STRING],labelThousandsSeparator:[(e=rn(),t=1e3.toLocaleString(),l=1e3.toString(),t!==l?ln(t)[0]:"."===e?",":"."),an.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',an.STRING],labelInvalidField:["Field contains invalid files",an.STRING],labelFileWaitingForSize:["Waiting for size",an.STRING],labelFileSizeNotAvailable:["Size not available",an.STRING],labelFileCountSingular:["file in list",an.STRING],labelFileCountPlural:["files in list",an.STRING],labelFileLoading:["Loading",an.STRING],labelFileAdded:["Added",an.STRING],labelFileLoadError:["Error during load",an.STRING],labelFileRemoved:["Removed",an.STRING],labelFileRemoveError:["Error during remove",an.STRING],labelFileProcessing:["Uploading",an.STRING],labelFileProcessingComplete:["Upload complete",an.STRING],labelFileProcessingAborted:["Upload cancelled",an.STRING],labelFileProcessingError:["Error during upload",an.STRING],labelFileProcessingRevertError:["Error during revert",an.STRING],labelTapToCancel:["tap to cancel",an.STRING],labelTapToRetry:["tap to retry",an.STRING],labelTapToUndo:["tap to undo",an.STRING],labelButtonRemoveItem:["Remove",an.STRING],labelButtonAbortItemLoad:["Abort",an.STRING],labelButtonRetryItemLoad:["Retry",an.STRING],labelButtonAbortItemProcessing:["Cancel",an.STRING],labelButtonUndoItemProcessing:["Undo",an.STRING],labelButtonRetryItemProcessing:["Retry",an.STRING],labelButtonProcessItem:["Upload",an.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',an.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',an.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',an.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',an.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',an.STRING],oninit:[null,an.FUNCTION],onwarning:[null,an.FUNCTION],onerror:[null,an.FUNCTION],onactivatefile:[null,an.FUNCTION],onaddfilestart:[null,an.FUNCTION],onaddfileprogress:[null,an.FUNCTION],onaddfile:[null,an.FUNCTION],onprocessfilestart:[null,an.FUNCTION],onprocessfileprogress:[null,an.FUNCTION],onprocessfileabort:[null,an.FUNCTION],onprocessfilerevert:[null,an.FUNCTION],onprocessfile:[null,an.FUNCTION],onprocessfiles:[null,an.FUNCTION],onremovefile:[null,an.FUNCTION],onpreparefile:[null,an.FUNCTION],onupdatefiles:[null,an.FUNCTION],beforeDropFile:[null,an.FUNCTION],beforeAddFile:[null,an.FUNCTION],beforeRemoveFile:[null,an.FUNCTION],stylePanelLayout:[null,an.STRING],stylePanelAspectRatio:[null,an.STRING],styleItemPanelAspectRatio:[null,an.STRING],styleButtonRemoveItemPosition:["left",an.STRING],styleButtonProcessItemPosition:["right",an.STRING],styleLoadIndicatorPosition:["right",an.STRING],styleProgressIndicatorPosition:["right",an.STRING],files:[[],an.ARRAY]},pn=function(n,e){return L(e)?n[0]||null:k(e)?n[e]||null:("object"==typeof e&&(e=e.id),n.find(function(n){return n.id===e})||null)},bn=function(n){if(L(n))return n;if(/:/.test(n)){var e=n.split(":");return e[1]/e[0]}return parseFloat(n)},mn=function(n){return n.filter(function(n){return!n.archived})},hn={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},gn=[en.LOAD_ERROR,en.PROCESSING_ERROR,en.PROCESSING_REVERT_ERROR],vn=[en.LOADING,en.PROCESSING,en.PROCESSING_QUEUED,en.INIT],En=[en.PROCESSING_COMPLETE],_n=function(n){return gn.includes(n.status)},In=function(n){return vn.includes(n.status)},yn=function(n){return En.includes(n.status)},Tn=function(n){return{GET_STATUS:function(){var e=mn(n.items),t=hn.ERROR,l=hn.BUSY,r=hn.IDLE,i=hn.READY;return 0===e.length?hn.EMPTY:e.some(_n)?t:e.some(In)?l:e.some(yn)?i:r},GET_ITEM:function(e){return pn(n.items,e)},GET_ACTIVE_ITEM:function(e){return pn(mn(n.items),e)},GET_ACTIVE_ITEMS:function(e){return mn(n.items)},GET_ITEMS:function(e){return n.items},GET_ITEM_NAME:function(e){var t=pn(n.items,e);return t?t.filename:null},GET_ITEM_SIZE:function(e){var t=pn(n.items,e);return t?t.fileSize:null},GET_STYLES:function(){return Object.keys(n.options).filter(function(n){return/^style/.test(n)}).map(function(e){return{name:e,value:n.options[e]}})},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(n.options.stylePanelLayout)?1:bn(n.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return n.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(e){return mn(n.items).filter(function(n){return n.status===e})},GET_TOTAL_ITEMS:function(){return mn(n.items).length},IS_ASYNC:function(){return q(n.options.server)&&(q(n.options.server.process)||U(n.options.server.process))}}},Rn=function(n){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(n)},On=function(n){return n.split("/").pop().split("?").shift()},wn=function(n){return n.split(".").pop()},Sn=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(e+n).slice(-e.length)},Dn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return n.getFullYear()+"-"+Sn(n.getMonth()+1,"00")+"-"+Sn(n.getDate(),"00")+"_"+Sn(n.getHours(),"00")+"-"+Sn(n.getMinutes(),"00")+"-"+Sn(n.getSeconds(),"00")},Ln=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=n.slice(0,n.size,"string"==typeof t?t:n.type);return r.lastModifiedDate=new Date,M(e)||(e=Dn()),e&&null===l&&wn(e)?r.name=e:(l=l||function(n){if("string"!=typeof n)return"";var e=n.split("/").pop();return/svg/.test(e)?"svg":/zip|compressed/.test(e)?"zip":/plain/.test(e)?"txt":/msword/.test(e)?"doc":/[a-z]+/.test(e)?"jpeg"===e?"jpg":e:""}(r.type),r.name=e+(l?"."+l:"")),r},An=function(n,e){var t=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(t){var l=new t;return l.append(n),l.getBlob(e)}return new Blob([n],{type:e})},Cn=function(n){return(/^data:(.+);/.exec(n)||[])[1]||null},Bn=function(n){if(!/^content-disposition:/i.test(n))return null;var e=n.split(/filename=|filename\*=.+''/).splice(1).map(function(n){return n.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(n){return n.length});return e.length?decodeURI(e[e.length-1]):null},Pn=function(n){if(/content-length:/i.test(n)){var e=n.match(/[0-9]+/)[0];return e?parseInt(e,10):null}return null},Mn=function(n){return/x-content-transfer-id:/i.test(n)&&(n.split(":")[1]||"").trim()||null},xn=function(n){var e={source:null,name:null,size:null},t=n.split("\n"),l=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(l=(a=o.next()).done);l=!0){var u=a.value,s=Bn(u);if(s)e.name=s;else{var c=Pn(u);if(c)e.size=c;else{var d=Mn(u);d&&(e.source=d)}}}}catch(f){r=!0,i=f}finally{try{l||null==o.return||o.return()}finally{if(r)throw i}}return e},Nn=function(n){return/GET|HEAD/.test(n)},Gn=function(n,e,t){var l={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){r=!0,a.abort()}},r=!1,i=!1;t=Object.assign({method:"POST",headers:{},withCredentials:!1},t),e=encodeURI(e),Nn(t.method)&&n&&(e=""+e+encodeURIComponent("string"==typeof n?n:JSON.stringify(n)));var a=new XMLHttpRequest;return(Nn(t.method)?a:a.upload).onprogress=function(n){r||l.onprogress(n.lengthComputable,n.loaded,n.total)},a.onreadystatechange=function(){a.readyState<2||4===a.readyState&&0===a.status||i||(i=!0,l.onheaders(a))},a.onload=function(){a.status>=200&&a.status<300?l.onload(a):l.onerror(a)},a.onerror=function(){return l.onerror(a)},a.onabort=function(){r=!0,l.onabort()},a.ontimeout=function(){return l.ontimeout(a)},a.open(t.method,e,!0),k(t.timeout)&&(a.timeout=t.timeout),Object.keys(t.headers).forEach(function(n){a.setRequestHeader(n,t.headers[n])}),t.responseType&&(a.responseType=t.responseType),t.withCredentials&&(a.withCredentials=!0),a.send(n),l},kn=function(n,e,t,l){return{type:n,code:e,body:t,headers:l}},Fn=function(n){return function(e){n(kn("error",0,"Timeout",e.getAllResponseHeaders()))}},Un=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if("function"==typeof e)return e;if(!e||!M(e.url))return null;var t=e.onload||function(n){return n},l=e.onerror||function(n){return null};return function(r,i,a,o,u,s){var c=Gn(r,n+e.url,Object.assign({},e,{responseType:"blob"}));return c.onload=function(n){var e=n.getAllResponseHeaders(),l=xn(e).name||On(r);i(kn("load",n.status,Ln(t(n.response),l),e))},c.onerror=function(n){a(kn("error",n.status,l(n.response)||n.statusText,n.getAllResponseHeaders()))},c.onheaders=function(n){s(kn("headers",n.status,null,n.getAllResponseHeaders()))},c.ontimeout=Fn(a),c.onprogress=o,c.onabort=u,c}},Vn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if("function"==typeof e)return e;if(!e||!M(e.url))return function(n,e){return e()};var t=e.onload||function(n){return n},l=e.onerror||function(n){return null};return function(r,i,a){var o=Gn(r,n+e.url,e);return o.onload=function(n){i(kn("load",n.status,t(n.response),n.getAllResponseHeaders()))},o.onerror=function(n){a(kn("error",n.status,l(n.response)||n.statusText,n.getAllResponseHeaders()))},o.ontimeout=Fn(a),o}},qn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n+Math.random()*(e-n)},jn=function(n){return n.substr(0,n.lastIndexOf("."))||n},zn=function(n){return n instanceof File||n instanceof Blob&&n.name},Hn=function(n,e){var t=function(n,e){return L(e)?0:M(e)?n.findIndex(function(n){return n.id===e}):-1}(n,e);if(!(t<0))return n[t]||null},Yn=function(n,e,t,l,r,i){var a=Gn(null,n,{method:"GET",responseType:"blob"});return a.onload=function(t){var l=t.getAllResponseHeaders(),r=xn(l).name||On(n);e(kn("load",t.status,Ln(t.response,r),l))},a.onerror=function(n){t(kn("error",n.status,n.statusText,n.getAllResponseHeaders()))},a.onheaders=function(n){i(kn("headers",n.status,null,n.getAllResponseHeaders()))},a.ontimeout=Fn(t),a.onprogress=l,a.onabort=r,a},Wn=function(n){return 0===n.indexOf("//")&&(n=location.protocol+n),n.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},Xn=function(n){return function(){return U(n)?n.apply(void 0,arguments):n}},Jn=function(n,e){clearTimeout(e.listUpdateTimeout),e.listUpdateTimeout=setTimeout(function(){n("DID_UPDATE_ITEMS",{items:mn(e.items)})},0)},$n=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),l=1;l<e;l++)t[l-1]=arguments[l];return new Promise(function(e){if(!n)return e(!0);var l=n.apply(void 0,t);return null==l?e(!0):"boolean"==typeof l?e(l):void("function"==typeof l.then&&l.then(e))})},Kn=function(n,e){n.items.sort(function(n,t){return e(nn(n),nn(t))})},Zn=function(n,e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=t.success,r=void 0===l?function(){}:l,i=t.failure,a=void 0===i?function(){}:i,o=pn(n.items,t.query);o?e(o,r,a):a({error:kn("error",0,"Item not found"),file:null})}},Qn=function(n,e,t){return{ABORT_ALL:function(){mn(t.items).forEach(function(n){n.freeze(),n.abortLoad(),n.abortProcessing()})},DID_SET_FILES:function(e){var l=e.value,r=(void 0===l?[]:l).map(function(n){return{source:n.source?n.source:n,options:n.options}}),i=mn(t.items);i.forEach(function(e){r.find(function(n){return n.source===e.source||n.source===e.file})||n("REMOVE_ITEM",{query:e})}),i=mn(t.items),r.forEach(function(e,t){i.find(function(n){return n.source===e.source||n.file===e.source})||n("ADD_ITEM",Object.assign({},e,{interactionMethod:5,index:t}))})},DID_UPDATE_ITEM_METADATA:function(l){var r=l.id,i=Hn(t.items,r);if(e("IS_ASYNC")){var a,o=function(){setTimeout(function(){n("REQUEST_ITEM_PROCESSING",{query:r})},32)};return i.status===en.PROCESSING_COMPLETE?(a=t.options.instantUpload,void i.revert(Vn(t.options.server.url,t.options.server.revert),e("GET_FORCE_REVERT")).then(a?o:function(){}).catch(function(){})):i.status===en.PROCESSING?function(n){i.abortProcessing().then(n?o:function(){})}(t.options.instantUpload):void(t.options.instantUpload&&o())}un("SHOULD_PREPARE_OUTPUT",!1,{item:i,query:e}).then(function(e){e&&n("REQUEST_PREPARE_OUTPUT",{query:r,item:i,ready:function(e){n("DID_PREPARE_OUTPUT",{id:r,file:e})}},!0)})},SORT:function(n){Kn(t,n.compare)},ADD_ITEMS:function(t){var l=t.items,r=t.index,i=t.interactionMethod,a=t.success,o=void 0===a?function(){}:a,u=t.failure,s=void 0===u?function(){}:u,c=r;if(-1===r||void 0===r){var d=e("GET_ITEM_INSERT_LOCATION"),f=e("GET_TOTAL_ITEMS");c="before"===d?0:f}var p=e("GET_IGNORED_FILES"),b=l.filter(function(n){return zn(n)?!p.includes(n.name.toLowerCase()):!L(n)}).map(function(e){return new Promise(function(t,l){n("ADD_ITEM",{interactionMethod:i,source:e.source||e,success:t,failure:l,index:c++,options:e.options||{}})})});Promise.all(b).then(o).catch(s)},ADD_ITEM:function(l){var r=l.source,a=l.index,o=void 0===a?-1:a,u=l.interactionMethod,s=l.success,c=void 0===s?function(){}:s,d=l.failure,f=void 0===d?function(){}:d,p=l.options,b=void 0===p?{}:p;if(L(r))f({error:kn("error",0,"No source"),file:null});else if(!zn(r)||!t.options.ignoredFiles.includes(r.name.toLowerCase())){if(!function(n){var e=mn(n.items).length;if(!n.options.allowMultiple)return 0===e;var t=n.options.maxFiles;return null===t||e<t}(t)){if(t.options.allowMultiple||!t.options.allowMultiple&&!t.options.allowReplace){var m=kn("warning",0,"Max files");return n("DID_THROW_MAX_FILES",{source:r,error:m}),void f({error:m,file:null})}var h=mn(t.items)[0];if(h.status===en.PROCESSING_COMPLETE||h.status===en.PROCESSING_REVERT_ERROR){var g=e("GET_FORCE_REVERT");if(h.revert(Vn(t.options.server.url,t.options.server.revert),g).then(function(){g&&n("ADD_ITEM",{source:r,index:o,interactionMethod:u,success:c,failure:f,options:b})}).catch(function(){}),g)return}n("REMOVE_ITEM",{query:h.id})}var v="local"===b.type?tn.LOCAL:"limbo"===b.type?tn.LIMBO:tn.INPUT,E=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=J(),r={archived:!1,frozen:!1,released:!1,source:null,file:t,serverFileReference:e,status:e?en.PROCESSING_COMPLETE:en.INIT,activeLoader:null,activeProcessor:null},a=null,o={},u=function(n){return r.status=n},s=function(n){if(!r.released&&!r.frozen){for(var e=arguments.length,t=new Array(e>1?e-1:0),l=1;l<e;l++)t[l-1]=arguments[l];d.fire.apply(d,[n].concat(t))}},c=function(n,e,t){var l=n.split("."),r=l[0],i=l.pop(),a=o;l.forEach(function(n){return a=a[n]}),JSON.stringify(a[i])!==JSON.stringify(e)&&(a[i]=e,t||s("metadata-update",{key:r,value:o[r]}))},d=Object.assign({id:{get:function(){return l}},origin:{get:function(){return n}},serverId:{get:function(){return r.serverFileReference}},status:{get:function(){return r.status}},filename:{get:function(){return r.file.name}},filenameWithoutExtension:{get:function(){return jn(r.file.name)}},fileExtension:{get:function(){return wn(r.file.name)}},fileType:{get:function(){return r.file.type}},fileSize:{get:function(){return r.file.size}},file:{get:function(){return r.file}},source:{get:function(){return r.source}},getMetadata:function(n){return function n(e){if(!q(e))return e;var t=D(e)?[]:{};for(var l in e)if(e.hasOwnProperty(l)){var r=e[l];t[l]=r&&q(r)?n(r):r}return t}(n?o[n]:o)},setMetadata:function(n,e,t){if(q(n)){var l=n;return Object.keys(l).forEach(function(n){c(n,l[n],e)}),n}return c(n,e,t),e},extend:function(n,e){return f[n]=e},abortLoad:function(){r.activeLoader?r.activeLoader.abort():(u(en.INIT),s("load-abort"))},retryLoad:function(){r.activeLoader&&r.activeLoader.load()},requestProcessing:function(){u(en.PROCESSING_QUEUED)},abortProcessing:function(){return new Promise(function(n){if(!r.activeProcessor)return u(en.IDLE),s("process-abort"),void n();a=function(){n()},r.activeProcessor.abort()})},load:function(e,t,l){r.source=e,r.file?s("load-skip"):(r.file=function(n){var e=[n.name,n.size,n.type];return n instanceof Blob||Rn(n)?e[0]=n.name||Dn():Rn(n)?(e[1]=n.length,e[2]=Cn(n)):M(n)&&(e[0]=On(n),e[1]=0,e[2]="application/octet-stream"),{name:e[0],size:e[1],type:e[2]}}(e),t.on("init",function(){s("load-init")}),t.on("meta",function(e){r.file.size=e.size,r.file.filename=e.filename,e.source&&(n=tn.LIMBO,r.serverFileReference=e.source,r.status=en.PROCESSING_COMPLETE),s("load-meta")}),t.on("progress",function(n){u(en.LOADING),s("load-progress",n)}),t.on("error",function(n){u(en.LOAD_ERROR),s("load-request-error",n)}),t.on("abort",function(){u(en.INIT),s("load-abort")}),t.on("load",function(e){r.activeLoader=null;var t=function(e){r.file=zn(e)?e:r.file,u(n===tn.LIMBO&&r.serverFileReference?en.PROCESSING_COMPLETE:en.IDLE),s("load")};r.serverFileReference?t(e):l(e,t,function(n){r.file=e,s("load-meta"),u(en.LOAD_ERROR),s("load-file-error",n)})}),t.setSource(e),r.activeLoader=t,t.load())},process:function n(e,t){u(en.PROCESSING),a=null,r.file instanceof Blob?(e.on("load",function(n){r.serverFileReference=n}),e.on("load-perceived",function(n){r.activeProcessor=null,r.serverFileReference=n,u(en.PROCESSING_COMPLETE),s("process-complete",n)}),e.on("start",function(){s("process-start")}),e.on("error",function(n){r.activeProcessor=null,u(en.PROCESSING_ERROR),s("process-error",n)}),e.on("abort",function(n){r.activeProcessor=null,r.serverFileReference=n,u(en.IDLE),s("process-abort"),a&&a()}),e.on("progress",function(n){s("process-progress",n)}),t(r.file,function(n){r.archived||e.process(n,Object.assign({},o))},function(n){}),r.activeProcessor=e):d.on("load",function(){n(e,t)})},revert:function(n,e){return new Promise(function(t,l){null!==r.serverFileReference?(n(r.serverFileReference,function(){r.serverFileReference=null,t()},function(n){e?(u(en.PROCESSING_REVERT_ERROR),s("process-revert-error"),l(n)):t()}),u(en.IDLE),s("process-revert")):t()})}},K(),{freeze:function(){return r.frozen=!0},release:function(){return r.released=!0},released:{get:function(){return r.released}},archive:function(){return r.archived=!0},archived:{get:function(){return r.archived}}}),f=i(d);return f}(v,v===tn.INPUT?null:r,b.file);Object.keys(b.metadata||{}).forEach(function(n){E.setMetadata(n,b.metadata[n])}),sn("DID_CREATE_ITEM",E,{query:e,dispatch:n});var _=e("GET_ITEM_INSERT_LOCATION");t.options.itemInsertLocationFreedom||(o="before"===_?-1:t.items.length),function(n,e,t){L(e)||(void 0===t?n.push(e):function(e,t,l){n.splice(t,0,l)}(0,t=Math.max(Math.min(n.length,t),0),e))}(t.items,E,o),U(_)&&r&&Kn(t,_);var I=E.id;E.on("load-init",function(){n("DID_START_ITEM_LOAD",{id:I})}),E.on("load-meta",function(){n("DID_UPDATE_ITEM_META",{id:I})}),E.on("load-progress",function(e){n("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:I,progress:e})}),E.on("load-request-error",function(e){var l=Xn(t.options.labelFileLoadError)(e);if(e.code>=400&&e.code<500)return n("DID_THROW_ITEM_INVALID",{id:I,error:e,status:{main:l,sub:e.code+" ("+e.body+")"}}),void f({error:e,file:nn(E)});n("DID_THROW_ITEM_LOAD_ERROR",{id:I,error:e,status:{main:l,sub:t.options.labelTapToRetry}})}),E.on("load-file-error",function(e){n("DID_THROW_ITEM_INVALID",{id:I,error:e.status,status:e.status})}),E.on("load-abort",function(){n("REMOVE_ITEM",{query:I})}),E.on("load-skip",function(){n("COMPLETE_LOAD_ITEM",{query:I,item:E,data:{source:r,success:c}})}),E.on("load",function(){var l=function(l){l?(E.on("metadata-update",function(e){n("DID_UPDATE_ITEM_METADATA",{id:I,change:e})}),un("SHOULD_PREPARE_OUTPUT",!1,{item:E,query:e}).then(function(e){var l=function(){n("COMPLETE_LOAD_ITEM",{query:I,item:E,data:{source:r,success:c}}),Jn(n,t)};e?n("REQUEST_PREPARE_OUTPUT",{query:I,item:E,ready:function(e){n("DID_PREPARE_OUTPUT",{id:I,file:e}),l()}},!0):l()})):n("REMOVE_ITEM",{query:I})};un("DID_LOAD_ITEM",E,{query:e,dispatch:n}).then(function(){$n(e("GET_BEFORE_ADD_FILE"),nn(E)).then(l)}).catch(function(){l(!1)})}),E.on("process-start",function(){n("DID_START_ITEM_PROCESSING",{id:I})}),E.on("process-progress",function(e){n("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:I,progress:e})}),E.on("process-error",function(e){n("DID_THROW_ITEM_PROCESSING_ERROR",{id:I,error:e,status:{main:Xn(t.options.labelFileProcessingError)(e),sub:t.options.labelTapToRetry}})}),E.on("process-revert-error",function(e){n("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:I,error:e,status:{main:Xn(t.options.labelFileProcessingRevertError)(e),sub:t.options.labelTapToRetry}})}),E.on("process-complete",function(e){n("DID_COMPLETE_ITEM_PROCESSING",{id:I,error:null,serverFileReference:e})}),E.on("process-abort",function(){n("DID_ABORT_ITEM_PROCESSING",{id:I})}),E.on("process-revert",function(){n("DID_REVERT_ITEM_PROCESSING",{id:I})}),n("DID_ADD_ITEM",{id:I,index:o,interactionMethod:u}),Jn(n,t);var y=t.options.server||{},T=y.url,R=y.load,O=y.restore,w=y.fetch;E.load(r,function(n){var e={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},t=Object.assign({},K(),{setSource:function(n){return e.source=n},getProgress:function(){return e.progress},abort:function(){e.request&&e.request.abort()},load:function(){var l,r,i,a=e.source;t.fire("init",a),a instanceof File?t.fire("load",a):a instanceof Blob?t.fire("load",Ln(a,a.name)):Rn(a)?t.fire("load",Ln((i=Cn(r=a),function(n,e){for(var t=new ArrayBuffer(n.length),l=new Uint8Array(t),r=0;r<n.length;r++)l[r]=n.charCodeAt(r);return An(t,e)}(function(n){return atob(function(n){return n.split(",")[1].replace(/\s/g,"")}(n))}(r),i)),void 0,null,void 0)):(l=a,n?(e.timestamp=Date.now(),e.request=n(l,function(n){e.duration=Date.now()-e.timestamp,e.complete=!0,n instanceof Blob&&(n=Ln(n,On(l))),t.fire("load",n instanceof Blob?n:n.body)},function(n){t.fire("error","string"==typeof n?{type:"error",code:0,body:n}:n)},function(n,l,r){r&&(e.size=r),e.duration=Date.now()-e.timestamp,n?(e.progress=l/r,t.fire("progress",e.progress)):e.progress=null},function(){t.fire("abort")},function(n){var l=xn("string"==typeof n?n:n.headers);t.fire("meta",{size:e.size||l.size,filename:l.name,source:l.source})})):t.fire("error",{type:"error",body:"Can't load URL",code:400}))}});return t}(v===tn.INPUT?M(r)&&function(n){return(n.indexOf(":")>-1||n.indexOf("//")>-1)&&Wn(location.href)!==Wn(n)}(r)?Un(T,w):Yn:Un(T,v===tn.LIMBO?O:R)),function(n,t,l){un("LOAD_FILE",n,{query:e}).then(t).catch(l)})}},REQUEST_PREPARE_OUTPUT:function(n){var t=n.item,l=n.ready;t.archived||un("PREPARE_OUTPUT",t.file,{query:e,item:t}).then(function(n){un("COMPLETE_PREPARE_OUTPUT",n,{query:e,item:t}).then(function(n){t.archived||l(n)})})},COMPLETE_LOAD_ITEM:function(l){var r=l.item,i=l.data,a=i.success,o=i.source,u=e("GET_ITEM_INSERT_LOCATION");U(u)&&o&&Kn(t,u),n("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===tn.INPUT?null:o}),a(nn(r)),r.origin!==tn.LOCAL?r.origin!==tn.LIMBO?e("IS_ASYNC")&&t.options.instantUpload&&n("REQUEST_ITEM_PROCESSING",{query:r.id}):n("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:o}):n("DID_LOAD_LOCAL_ITEM",{id:r.id})},RETRY_ITEM_LOAD:Zn(t,function(n){n.retryLoad()}),REQUEST_ITEM_PROCESSING:Zn(t,function(l,r,i){if(l.status===en.IDLE||l.status===en.PROCESSING_ERROR)l.status!==en.PROCESSING_QUEUED&&(l.requestProcessing(),n("DID_REQUEST_ITEM_PROCESSING",{id:l.id}),n("PROCESS_ITEM",{query:l,success:r,failure:i},!0));else{var a=function(){setTimeout(function(){n("REQUEST_ITEM_PROCESSING",{query:l,success:r,failure:i})},32)};l.status===en.PROCESSING_COMPLETE||l.status===en.PROCESSING_REVERT_ERROR?l.revert(Vn(t.options.server.url,t.options.server.revert),e("GET_FORCE_REVERT")).then(a).catch(function(){}):l.status===en.PROCESSING&&l.abortProcessing().then(a)}}),PROCESS_ITEM:Zn(t,function(l,r,i){var a=e("GET_MAX_PARALLEL_UPLOADS");if(e("GET_ITEMS_BY_STATUS",en.PROCESSING).length!==a){if(l.status!==en.PROCESSING){var o=function e(){var l=t.processingQueue.shift();if(l){var r=l.id,i=l.success,a=l.failure,o=pn(t.items,r);o&&!o.archived?n("PROCESS_ITEM",{query:r,success:i,failure:a},!0):e()}};l.onOnce("process-complete",function(){r(nn(l)),o(),e("GET_ITEMS_BY_STATUS",en.PROCESSING_COMPLETE).length===t.items.length&&n("DID_COMPLETE_ITEM_PROCESSING_ALL")}),l.onOnce("process-error",function(n){i({error:n,file:nn(l)}),o()}),l.process(function(n){var e={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},t=function(){e.request&&(e.perceivedPerformanceUpdater.clear(),e.request.abort(),e.complete=!0)},l=Object.assign({},K(),{process:function(t,r){var i=function(){0!==e.duration&&null!==e.progress&&l.fire("progress",l.getProgress())},a=function(){e.complete=!0,l.fire("load-perceived",e.response.body)};l.fire("start"),e.timestamp=Date.now(),e.perceivedPerformanceUpdater=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,r=null,i=Date.now();return function a(){var o=Date.now()-i,u=qn(t,l);o+u>e&&(u=o+u-e);var s=o/e;s>=1?n(1):(n(s),r=setTimeout(a,u))}(),{clear:function(){clearTimeout(r)}}}(function(n){e.perceivedProgress=n,e.perceivedDuration=Date.now()-e.timestamp,i(),e.response&&1===e.perceivedProgress&&!e.complete&&a()},qn(750,1500)),e.request=n(t,r,function(n){e.response=q(n)?n:{type:"load",code:200,body:""+n,headers:{}},e.duration=Date.now()-e.timestamp,e.progress=1,l.fire("load",e.response.body),1===e.perceivedProgress&&a()},function(n){e.perceivedPerformanceUpdater.clear(),l.fire("error",q(n)?n:{type:"error",code:0,body:""+n})},function(n,t,l){e.duration=Date.now()-e.timestamp,e.progress=n?t/l:null,i()},function(){e.perceivedPerformanceUpdater.clear(),l.fire("abort",e.response?e.response.body:null)})},abort:t,getProgress:function(){return e.progress?Math.min(e.progress,e.perceivedProgress):null},getDuration:function(){return Math.min(e.duration,e.perceivedDuration)},reset:function(){t(),e.complete=!1,e.perceivedProgress=0,e.progress=0,e.timestamp=null,e.perceivedDuration=0,e.duration=0,e.request=null,e.response=null}});return l}(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return"function"==typeof e?function(){for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e.apply(void 0,[t].concat(l))}:e&&M(e.url)?function(l,r,i,a,o,u){var s=e.ondata||function(n){return n},c=e.onload||function(n){return n},d=e.onerror||function(n){return null};if(l){var f=new FormData;q(r)&&f.append(t,JSON.stringify(r)),(l instanceof Blob?[{name:null,file:l}]:l).forEach(function(n){f.append(t,n.file,null===n.name?n.file.name:""+n.name+n.file.name)});var p=Gn(s(f),n+e.url,e);return p.onload=function(n){i(kn("load",n.status,c(n.response),n.getAllResponseHeaders()))},p.onerror=function(n){a(kn("error",n.status,d(n.response)||n.statusText,n.getAllResponseHeaders()))},p.ontimeout=Fn(a),p.onprogress=o,p.onabort=u,p}}:null}(t.options.server.url,t.options.server.process,t.options.name)),function(t,r,i){un("PREPARE_OUTPUT",t,{query:e,item:l}).then(function(e){n("DID_PREPARE_OUTPUT",{id:l.id,file:e}),r(e)}).catch(i)})}}else t.processingQueue.push({id:l.id,success:r,failure:i})}),RETRY_ITEM_PROCESSING:Zn(t,function(e){n("REQUEST_ITEM_PROCESSING",{query:e})}),REQUEST_REMOVE_ITEM:Zn(t,function(t){$n(e("GET_BEFORE_REMOVE_FILE"),nn(t)).then(function(e){e&&n("REMOVE_ITEM",{query:t})})}),RELEASE_ITEM:Zn(t,function(n){n.release()}),REMOVE_ITEM:Zn(t,function(e,l){var r=function(){var r=e.id;Hn(t.items,r).archive(),n("DID_REMOVE_ITEM",{error:null,id:r,item:e}),Jn(n,t),l(nn(e))},i=t.options.server;e.origin===tn.LOCAL&&i&&U(i.remove)?(n("DID_START_ITEM_REMOVE",{id:e.id}),i.remove(e.source,function(){return r()},function(l){n("DID_THROW_ITEM_REMOVE_ERROR",{id:e.id,error:kn("error",0,l,null),status:{main:Xn(t.options.labelFileRemoveError)(l),sub:t.options.labelTapToRetry}})})):r()}),ABORT_ITEM_LOAD:Zn(t,function(n){n.abortLoad()}),ABORT_ITEM_PROCESSING:Zn(t,function(e){e.serverId?n("REVERT_ITEM_PROCESSING",{id:e.id}):e.abortProcessing().then(function(){t.options.instantUpload&&n("REMOVE_ITEM",{query:e.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Zn(t,function(l){if(t.options.instantUpload){var r=function(e){e&&n("REVERT_ITEM_PROCESSING",{query:l})},i=e("GET_BEFORE_REMOVE_FILE");if(!i)return r(!0);var a=i(nn(l));return null==a?r(!0):"boolean"==typeof a?r(a):void("function"==typeof a.then&&a.then(r))}n("REVERT_ITEM_PROCESSING",{query:l})}),REVERT_ITEM_PROCESSING:Zn(t,function(l){l.revert(Vn(t.options.server.url,t.options.server.revert),e("GET_FORCE_REVERT")).then(function(){(t.options.instantUpload||function(n){return!zn(n.file)}(l))&&n("REMOVE_ITEM",{query:l.id})}).catch(function(){})}),SET_OPTIONS:function(e){r(e.options,function(e,t){n("SET_"+Y(e,"_").toUpperCase(),{value:t})})}}},ne=function(n){return n},ee=function(n){return document.createElement(n)},te=function(n,e){var t=n.childNodes[0];t?e!==t.nodeValue&&(t.nodeValue=e):(t=document.createTextNode(e),n.appendChild(t))},le=function(n,e,t,l){var r=(l%360-90)*Math.PI/180;return{x:n+t*Math.cos(r),y:e+t*Math.sin(r)}},re=R({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(n){var e=n.root,t=n.props;t.spin=!1,t.progress=0,t.opacity=0;var l=s("svg");e.ref.path=s("path",{"stroke-width":2,"stroke-linecap":"round"}),l.appendChild(e.ref.path),e.ref.svg=l,e.appendChild(l)},write:function(n){var e,t,l,r=n.root,i=n.props;if(0!==i.opacity){i.align&&(r.element.dataset.align=i.align);var o=parseInt(a(r.ref.path,"stroke-width"),10),u=.5*r.rect.element.width,s=0,c=0;i.spin?(s=0,c=.5):(s=0,c=i.progress);var d=(l=1,(t=c)>(e=s)&&t-e<=.5&&(l=0),e>t&&e-t>=.5&&(l=0),function(n,e,t,l,r,i){var a=le(n,e,t,r),o=le(n,e,t,l);return["M",a.x,a.y,"A",t,t,0,i,0,o.x,o.y].join(" ")}(u,u,u-o,360*Math.min(.9999,e),360*Math.min(.9999,t),l));a(r.ref.path,"d",d),a(r.ref.path,"stroke-opacity",i.spin||i.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),ie=R({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(n){var e=n.props;n.root.element.innerHTML=(e.icon||"")+"<span>"+e.label+"</span>",e.isDisabled=!1},write:function(n){var e=n.root,t=n.props,l=t.isDisabled,r=e.query("GET_DISABLED")||0===t.opacity;r&&!l?(t.isDisabled=!0,a(e.element,"disabled","disabled")):!r&&l&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))}}),ae=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return(n=Math.round(Math.abs(n)))<1e3?n+" bytes":n<ue?Math.floor(n/oe)+" KB":n<se?ce(n/ue,1,e)+" MB":ce(n/se,2,e)+" GB"},oe=1e3,ue=1e6,se=1e9,ce=function(n,e,t){return n.toFixed(e).split(".").filter(function(n){return"0"!==n}).join(t)},de=function(n){var e=n.root,t=n.props;te(e.ref.fileSize,ae(e.query("GET_ITEM_SIZE",t.id))),te(e.ref.fileName,ne(e.query("GET_ITEM_NAME",t.id)))},fe=function(n){var e=n.root;k(e.query("GET_ITEM_SIZE",n.props.id))||te(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},pe=R({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:O({DID_LOAD_ITEM:de,DID_UPDATE_ITEM_META:de,DID_THROW_ITEM_LOAD_ERROR:fe,DID_THROW_ITEM_INVALID:fe}),didCreateView:function(n){sn("CREATE_VIEW",Object.assign({},n,{view:n}))},create:function(n){var e=n.root,t=n.props,l=ee("span");l.className="filepond--file-info-main",a(l,"aria-hidden","true"),e.appendChild(l),e.ref.fileName=l;var r=ee("span");r.className="filepond--file-info-sub",e.appendChild(r),e.ref.fileSize=r,te(r,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),te(l,ne(e.query("GET_ITEM_NAME",t.id)))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),be=function(n){return Math.round(100*n)},me=function(n){var e=n.root,t=n.action,l=null===t.progress?e.query("GET_LABEL_FILE_LOADING"):e.query("GET_LABEL_FILE_LOADING")+" "+be(t.progress)+"%";te(e.ref.main,l),te(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},he=function(n){var e=n.root;te(e.ref.main,""),te(e.ref.sub,"")},ge=function(n){var e=n.root,t=n.action;te(e.ref.main,t.status.main),te(e.ref.sub,t.status.sub)},ve=R({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:O({DID_LOAD_ITEM:he,DID_REVERT_ITEM_PROCESSING:he,DID_REQUEST_ITEM_PROCESSING:function(n){var e=n.root;te(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),te(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(n){var e=n.root;te(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),te(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(n){var e=n.root;te(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),te(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(n){var e=n.root,t=n.action,l=null===t.progress?e.query("GET_LABEL_FILE_PROCESSING"):e.query("GET_LABEL_FILE_PROCESSING")+" "+be(t.progress)+"%";te(e.ref.main,l),te(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:me,DID_THROW_ITEM_LOAD_ERROR:ge,DID_THROW_ITEM_INVALID:ge,DID_THROW_ITEM_PROCESSING_ERROR:ge,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:ge,DID_THROW_ITEM_REMOVE_ERROR:ge}),didCreateView:function(n){sn("CREATE_VIEW",Object.assign({},n,{view:n}))},create:function(n){var e=n.root,t=ee("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;var l=ee("span");l.className="filepond--file-status-sub",e.appendChild(l),e.ref.sub=l,me({root:e,action:{progress:null}})},mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Ee={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},_e=[];r(Ee,function(n){_e.push(n)});var Ie,ye=function(n){var e=n.ref.buttonRemoveItem.rect.element;return e.hidden?null:e.width+e.left},Te=function(n){return Math.floor(n.ref.buttonRemoveItem.rect.element.height/4)},Re=function(n){return Math.floor(n.ref.buttonRemoveItem.rect.element.left/2)},Oe=function(n){return n.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},we={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(n){return n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(n){return n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Se={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ye},status:{translateX:ye}},De={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Le={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:ye},status:{translateX:ye,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:ye},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Oe},info:{translateX:ye},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Oe},buttonRemoveItem:{opacity:1},info:{translateX:ye},status:{opacity:1,translateX:ye}},DID_LOAD_ITEM:Se,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:ye},status:{translateX:ye}},DID_START_ITEM_PROCESSING:De,DID_REQUEST_ITEM_PROCESSING:De,DID_UPDATE_ITEM_PROCESS_PROGRESS:De,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:ye}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ye},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Se},Ae=R({create:function(n){var e=n.root;e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Ce=O({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(n){n.root.ref.buttonAbortItemProcessing.label=n.action.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(n){n.root.ref.buttonAbortItemLoad.label=n.action.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(n){n.root.ref.buttonAbortItemRemoval.label=n.action.value},DID_REQUEST_ITEM_PROCESSING:function(n){var e=n.root;e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(n){var e=n.root;e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(n){var e=n.root;e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(n){var e=n.root,t=n.action;e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(n){var e=n.root,t=n.action;e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),Be=R({create:function(n){var e=n.root,t=n.props.id,l=e.query("GET_ALLOW_REVERT"),i=e.query("GET_INSTANT_UPLOAD"),a=e.query("IS_ASYNC"),o=a?_e.concat():_e.filter(function(n){return!/Process/.test(n)});if(a&&!l){o.splice(-1,1);var u=Le.DID_COMPLETE_ITEM_PROCESSING;u.info.translateX=Re,u.info.translateY=Te,u.status.translateY=Te,u.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}i&&l&&(Ee.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",Ee.RevertItemProcessing.icon="GET_ICON_REMOVE"),r(Ee,function(n,l){var r=e.createChildView(ie,{label:e.query(l.label),icon:e.query(l.icon),opacity:0});o.includes(n)&&e.appendChildView(r),r.element.dataset.align=e.query("GET_STYLE_"+l.align),r.element.classList.add(l.className),r.on("click",function(n){n.stopPropagation(),e.dispatch(l.action,{query:t})}),e.ref["button"+n]=r}),e.ref.info=e.appendChildView(e.createChildView(pe,{id:t})),e.ref.status=e.appendChildView(e.createChildView(ve,{id:t})),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(Ae)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION");var s=e.appendChildView(e.createChildView(re,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));s.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=s;var c=e.appendChildView(e.createChildView(re,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));c.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=c,e.ref.activeStyles=[]},write:function(n){var e=n.root,t=n.actions;Ce({root:e,actions:t,props:n.props});var l=t.concat().filter(function(n){return/^DID_/.test(n.type)}).reverse().find(function(n){return Le[n.type]});if(l){e.ref.activeStyles=[];var i=Le[l.type];r(we,function(n,t){var l=e.ref[n];r(t,function(t,r){e.ref.activeStyles.push({control:l,key:t,value:i[n]&&void 0!==i[n][t]?i[n][t]:r})})})}e.ref.activeStyles.forEach(function(n){var t=n.value;n.control[n.key]="function"==typeof t?t(e):t})},didCreateView:function(n){sn("CREATE_VIEW",Object.assign({},n,{view:n}))},name:"file"}),Pe=R({create:function(n){var e=n.root,t=n.props;e.ref.fileName=ee("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(Be,{id:t.id}));var l=ee("input");l.type="hidden",l.name=e.query("GET_NAME"),l.disabled=e.query("GET_DISABLED"),e.ref.data=l,e.appendChild(l)},ignoreRect:!0,write:O({DID_SET_DISABLED:function(n){var e=n.root;e.ref.data.disabled=e.query("GET_DISABLED")},DID_LOAD_ITEM:function(n){var e=n.root,t=n.props;e.ref.data.value=n.action.serverFileReference,te(e.ref.fileName,ne(e.query("GET_ITEM_NAME",t.id)))},DID_REMOVE_ITEM:function(n){n.root.ref.data.removeAttribute("value")},DID_COMPLETE_ITEM_PROCESSING:function(n){n.root.ref.data.value=n.action.serverFileReference},DID_REVERT_ITEM_PROCESSING:function(n){n.root.ref.data.removeAttribute("value")}}),didCreateView:function(n){sn("CREATE_VIEW",Object.assign({},n,{view:n}))},tag:"fieldset",name:"file-wrapper"}),Me={type:"spring",damping:.6,mass:7},xe=R({name:"panel",write:function(n){var e=n.root,t=n.props;if(null!==e.ref.scalable&&t.scalable===e.ref.scalable||(e.ref.scalable=!B(t.scalable)||t.scalable,e.element.dataset.scalable=e.ref.scalable),t.height){var l=e.ref.top.rect.element,r=e.ref.bottom.rect.element,i=Math.max(l.height+r.height,t.height);e.ref.center.translateY=l.height,e.ref.center.scaleY=(i-l.height-r.height)/100,e.ref.bottom.translateY=i-r.height}},create:function(n){var e=n.root,t=n.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Me},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Me},styles:["translateY"]}}].forEach(function(n){!function(n,e,l){var r=R({name:"panel-"+e.name+" filepond--"+t.name,mixins:e.mixins,ignoreRectUpdate:!0}),i=n.createChildView(r,e.props);n.ref[e.name]=n.appendChildView(i)}(e,n)}),e.element.classList.add("filepond--"+t.name),e.ref.scalable=null},ignoreRect:!0,mixins:{apis:["height","scalable"]}}),Ne={type:"spring",stiffness:.75,damping:.45,mass:10},Ge={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy",DID_REQUEST_ITEM_PROCESSING:"busy",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},ke=O({DID_UPDATE_PANEL_HEIGHT:function(n){n.root.height=n.action.height}}),Fe=R({create:function(n){var e=n.root,t=n.props;e.ref.handleClick=function(){return e.dispatch("DID_ACTIVATE_ITEM",{id:t.id})},e.element.id="filepond--item-"+t.id,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(Pe,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(xe,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1},write:function(n){var e=n.root,t=n.actions,l=n.props,r=n.shouldOptimize,i=t.concat().filter(function(n){return/^DID_/.test(n.type)}).reverse().find(function(n){return Ge[n.type]});i&&i.type!==l.currentState&&(l.currentState=i.type,e.element.dataset.filepondItemState=Ge[l.currentState]||"");var a=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");a?r||(e.height=e.rect.element.width*a):(ke({root:e,actions:t,props:l}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),r&&(e.ref.panel.height=null),e.ref.panel.height=e.height},destroy:function(n){var e=n.root,t=n.props;e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:"spring",scaleY:"spring",translateX:Ne,translateY:Ne,opacity:{type:"tween",duration:150}}}}),Ue=function(n,e){if(e){var t=n.childViews,l=t.length,r=null;if(0===l||e.top<t[0].rect.element.top)return-1;var i=t[0].rect.element,a=i.width+(i.marginLeft+i.marginRight),o=Math.round(n.rect.element.width/a);if(1===o){for(var u=0;u<l;u++){var s=t[u];if(e.top<s.rect.outer.top+.5*s.rect.element.height)return u}return l}for(var c=i.height+(i.marginTop+i.marginBottom),d=0;d<l;d++){var f=d%o,p=Math.floor(d/o)*c;if(e.top<p+c+i.marginBottom&&e.top>p-i.marginTop){if(e.left<f*a+a)return d;r=d!==l-1?d:null}}return null!==r?r:l}},Ve=function(n,e,t){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;n.translateX=e,n.translateY=t,Date.now()>n.spawnDate&&(0===n.opacity&&qe(n,e,t,l,r),n.scaleX=1,n.scaleY=1,n.opacity=1)},qe=function(n,e,t,l,r){5===n.interactionMethod?(n.translateX=null,n.translateX=e,n.translateY=null,n.translateY=t):2===n.interactionMethod?(n.translateX=null,n.translateX=e-20*l,n.translateY=null,n.translateY=t-10*r,n.scaleX=.8,n.scaleY=.8):3===n.interactionMethod?(n.translateY=null,n.translateY=t-30):1===n.interactionMethod&&(n.translateX=null,n.translateX=e-30,n.translateY=null)},je=O({DID_ADD_ITEM:function(n){var e=n.root,t=n.action,l=t.id,r=t.index,i=t.interactionMethod;e.ref.addIndex=r;var a=Date.now(),o=a,u=1;if(5!==i){u=0;var s=e.query("GET_ITEM_INSERT_INTERVAL"),c=a-e.ref.lastItemSpanwDate;o=c<s?a+(s-c):a}e.ref.lastItemSpanwDate=o,e.appendChildView(e.createChildView(Fe,{spawnDate:o,id:l,opacity:u,interactionMethod:i}),r)},DID_REMOVE_ITEM:function(n){var e=n.action.id,t=n.root.childViews.find(function(n){return n.id===e});t&&(t.scaleX=.9,t.scaleY=.9,t.opacity=0,t.markedForRemoval=!0)}}),ze=R({create:function(n){var e=n.root;a(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},write:function(n){var e=n.root,t=n.props,l=n.shouldOptimize;je({root:e,props:t,actions:n.actions});var r=t.dragCoordinates,i=r?Ue(e,r):null,a=e.rect.element.width,o=e.childViews.filter(function(n){return n.rect.element.height}),u=e.query("GET_ACTIVE_ITEMS").map(function(n){return o.find(function(e){return e.id===n.id})}).filter(function(n){return n}),s=e.ref.addIndex||null;e.ref.addIndex=null;var c=0,d=0,f=0;if(0!==u.length){var p=u[0].rect.element,b=p.marginTop+p.marginBottom,m=p.width+(p.marginLeft+p.marginRight),h=p.height+b,g=Math.round(a/m);if(1===g){var v=0,E=0;u.forEach(function(n,e){if(i){var t=e-i;E=-2===t?.25*-b:-1===t?.75*-b:0===t?.75*b:1===t?.25*b:0}l&&(n.translateX=null,n.translateY=null),n.markedForRemoval||Ve(n,0,v+E),v+=(n.rect.element.height+b)*(n.markedForRemoval?n.opacity:1)})}else{var _=0,I=0;u.forEach(function(n,e){e===i&&(c=1),e===s&&(f+=1),n.markedForRemoval&&n.opacity<.5&&(d-=1);var t=e+f+c+d,r=t%g,a=Math.floor(t/g),o=r*m,u=a*h,p=Math.sign(o-_),b=Math.sign(u-I);_=o,I=u,n.markedForRemoval||(l&&(n.translateX=null,n.translateY=null),Ve(n,o,u,p,b))})}}},tag:"ul",name:"list",didWriteView:function(n){var e=n.root;e.childViews.filter(function(n){return n.markedForRemoval&&0===n.opacity&&n.resting}).forEach(function(n){n._destroy(),e.removeChildView(n)})},filterFrameActionsForChild:function(n,e){return e.filter(function(e){return!e.data||!e.data.id||n.id===e.data.id})},mixins:{apis:["dragCoordinates"]}}),He=O({DID_DRAG:function(n){var e=n.root,t=n.props,l=n.action;e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:l.position.scopeLeft-e.ref.list.rect.element.left,top:l.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},DID_END_DRAG:function(n){n.props.dragCoordinates=null}}),Ye=R({create:function(n){var e=n.root,t=n.props;e.ref.list=e.appendChildView(e.createChildView(ze)),t.dragCoordinates=null,t.overflowing=!1},write:function(n){var e=n.root,t=n.props;if(He({root:e,props:t,actions:n.actions}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){var l=Math.round(t.overflow);l!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=l)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),We=function(n,e,t){t?a(n,e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):n.removeAttribute(e)},Xe=function(n){var e=n.root,t=e.query("GET_DISABLED"),l=e.query("GET_ALLOW_BROWSE");We(e.element,"disabled",t||!l)},Je=function(n){var e=n.root,t=e.element;e.query("GET_TOTAL_ITEMS")>0?(We(t,"required",!1),We(t,"name",!1)):(We(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&We(t,"required",!0))},$e=R({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:function(n){var e=n.root,t=n.props;e.element.id="filepond--browser-"+t.id,a(e.element,"name",e.query("GET_NAME")),a(e.element,"aria-controls","filepond--assistant-"+t.id),a(e.element,"aria-labelledby","filepond--drop-label-"+t.id),e.ref.handleChange=function(n){if(e.element.value){var l=Array.from(e.element.files);setTimeout(function(){t.onload(l),function(n){if(n&&""!==n.value){try{n.value=""}catch(r){}if(n.value){var e=ee("form"),t=n.parentNode,l=n.nextSibling;e.appendChild(n),e.reset(),l?t.insertBefore(n,l):t.appendChild(n)}}}(e.element)},250)}},e.element.addEventListener("change",e.ref.handleChange)},destroy:function(n){var e=n.root;e.element.removeEventListener("change",e.ref.handleChange)},write:O({DID_LOAD_ITEM:Je,DID_REMOVE_ITEM:Je,DID_THROW_ITEM_INVALID:function(n){var e=n.root;e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:Xe,DID_SET_ALLOW_BROWSE:Xe,DID_SET_ALLOW_MULTIPLE:function(n){We(n.root.element,"multiple",n.action.value)},DID_SET_ACCEPTED_FILE_TYPES:function(n){var e=n.action;We(n.root.element,"accept",!!e.value,e.value?e.value.join(","):"")},DID_SET_CAPTURE_METHOD:function(n){var e=n.action;We(n.root.element,"capture",!!e.value,!0===e.value?"":e.value)},DID_SET_REQUIRED:function(n){var e=n.root;n.action.value?0===e.query("GET_TOTAL_ITEMS")&&We(e.element,"required",!0):We(e.element,"required",!1)}})}),Ke=function(n,e){n.innerHTML=e;var t=n.querySelector(".filepond--label-action");return t&&a(t,"tabindex","0"),e},Ze=R({name:"drop-label",ignoreRect:!0,create:function(n){var e=n.root,t=n.props,l=ee("label");a(l,"for","filepond--browser-"+t.id),a(l,"id","filepond--drop-label-"+t.id),a(l,"aria-hidden","true"),l.addEventListener("keydown",function(n){(13===n.keyCode||32===n.keyCode)&&(n.preventDefault(),e.ref.label.click())}),e.element.addEventListener("click",function(n){n.target===l||l.contains(n.target)||e.ref.label.click()}),Ke(l,t.caption),e.appendChild(l),e.ref.label=l},write:O({DID_SET_LABEL_IDLE:function(n){Ke(n.root.ref.label,n.action.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Qe=R({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),nt=O({DID_DRAG:function(n){var e=n.root,t=n.action;e.ref.blob?(e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1):function(n){var e=n.root;e.ref.blob=e.appendChildView(e.createChildView(Qe,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:.5*e.rect.element.width,translateY:.5*e.rect.element.height}))}({root:e})},DID_DROP:function(n){var e=n.root;e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},DID_END_DRAG:function(n){var e=n.root;e.ref.blob&&(e.ref.blob.opacity=0)}}),et=R({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:function(n){var e=n.root,t=n.actions;nt({root:e,props:n.props,actions:t});var l=e.ref.blob;0===t.length&&l&&0===l.opacity&&(e.removeChildView(l),e.ref.blob=null)}}),tt=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],lt=["css","csv","html","txt"],rt={zip:"zip|compressed",epub:"application/epub+zip"},it=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n=n.toLowerCase(),tt.includes(n)?"image/"+("jpg"===n?"jpeg":"svg"===n?"svg+xml":n):lt.includes(n)?"text/"+n:rt[n]||null},at=function(n){return new Promise(function(e,t){var l=mt(n);l.length?e(l):ot(n).then(e)})},ot=function(n){return new Promise(function(e,t){var l=(n.items?Array.from(n.items):[]).filter(function(n){return ut(n)}).map(function(n){return st(n)});l.length?Promise.all(l).then(function(n){var t=[];n.forEach(function(n){t.push.apply(t,n)}),e(t.filter(function(n){return n}))}):e(n.files?Array.from(n.files):[])})},ut=function(n){if(pt(n)){var e=bt(n);if(e)return e.isFile||e.isDirectory}return"file"===n.kind},st=function(n){return new Promise(function(e,t){ft(n)?ct(bt(n)).then(e):e([n.getAsFile()])})},ct=function(n){return new Promise(function(e,t){var l=[],r=0;!function n(t){t.createReader().readEntries(function(t){t.forEach(function(t){t.isDirectory?n(t):(r++,t.file(function(n){l.push(dt(n)),r===l.length&&e(l)}))})})}(n)})},dt=function(n){if(n.type.length)return n;var e=n.lastModifiedDate,t=n.name;return(n=n.slice(0,n.size,it(wn(n.name)))).name=t,n.lastModifiedDate=e,n},ft=function(n){return pt(n)&&(bt(n)||{}).isDirectory},pt=function(n){return"webkitGetAsEntry"in n},bt=function(n){return n.webkitGetAsEntry()},mt=function(n){var e=[];try{if((e=gt(n)).length)return e;e=ht(n)}catch(t){}return e},ht=function(n){var e=n.getData("url");return"string"==typeof e&&e.length?[e]:[]},gt=function(n){var e=n.getData("text/html");if("string"==typeof e&&e.length){var t=e.match(/src\s*=\s*"(.+?)"/);if(t)return[t[1]]}return[]},vt=[],Et=function(n){return{pageLeft:n.pageX,pageTop:n.pageY,scopeLeft:n.offsetX||n.layerX,scopeTop:n.offsetY||n.layerY}},_t=function(n,e){var t,l=function(n,e){return"elementFromPoint"in n||(n=document),n.elementFromPoint(e.x,e.y)}("getRootNode"in(t=e)?t.getRootNode():document,{x:n.pageX-window.pageXOffset,y:n.pageY-window.pageYOffset});return l===e||e.contains(l)},It=null,yt=function(n,e){try{n.dropEffect=e}catch(t){}},Tt=function(n,e){return function(n){n.preventDefault(),It=n.target,e.forEach(function(e){var t=e.onenter;_t(n,e.element)&&(e.state="enter",t(Et(n)))})}},Rt=function(n,e){return function(n){n.preventDefault();var t=n.dataTransfer;at(t).then(function(l){var r=!1;e.some(function(e){var i=e.filterElement,a=e.element,o=e.onenter,u=e.onexit,s=e.ondrag,c=e.allowdrop;yt(t,"copy");var d=c(l);if(d)if(_t(n,a)){if(r=!0,null===e.state)return e.state="enter",void o(Et(n));if(e.state="over",i&&!d)return void yt(t,"none");s(Et(n))}else i&&!r&&yt(t,"none"),e.state&&(e.state=null,u(Et(n)));else yt(t,"none")})})}},Ot=function(n,e){return function(n){n.preventDefault(),at(n.dataTransfer).then(function(t){e.forEach(function(e){var l=e.filterElement,r=e.element,i=e.ondrop,a=e.onexit,o=e.allowdrop;e.state=null,o(t)?l&&!_t(n,r)||i(Et(n),t):a(Et(n))})})}},wt=function(n,e){return function(n){It===n.target&&e.forEach(function(e){var t=e.onexit;e.state=null,t(Et(n))})}},St=function(n,e,t){n.classList.add("filepond--hopper");var l=function(n,e,t){var l=function(n){var e=vt.find(function(e){return e.element===n});if(e)return e;var t=function(n){var e=[],t={dragenter:Tt,dragover:Rt,dragleave:wt,drop:Ot},l={};r(t,function(t,r){l[t]=r(n,e),n.addEventListener(t,l[t],!1)});var i={element:n,addListener:function(a){return e.push(a),function(){e.splice(e.indexOf(a),1),0===e.length&&(vt.splice(vt.indexOf(i),1),r(t,function(e){n.removeEventListener(e,l[e],!1)}))}}};return i}(n);return vt.push(t),t}(e),i={element:n,filterElement:t,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return i.destroy=l.addListener(i),i}(n,t.catchesDropsOnPage?document.documentElement:n,t.requiresDropOnElement),i="",a="";l.allowdrop=function(n){return e(n)},l.ondrop=function(n,t){e(t)?(a="drag-drop",o.onload(t,n)):o.ondragend(n)},l.ondrag=function(n){o.ondrag(n)},l.onenter=function(n){a="drag-over",o.ondragstart(n)},l.onexit=function(n){a="drag-exit",o.ondragend(n)};var o={updateHopperState:function(){i!==a&&(n.dataset.hopperState=a,i=a)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){l.destroy()}};return o},Dt=!1,Lt=[],At=function(n){at(n.clipboardData).then(function(n){n.length&&Lt.forEach(function(e){return e(n)})})},Ct=null,Bt=null,Pt=[],Mt=function(n,e){n.element.textContent=e},xt=function(n,e,t){var l=n.query("GET_TOTAL_ITEMS");Mt(n,t+" "+e+", "+l+" "+n.query(1===l?"GET_LABEL_FILE_COUNT_SINGULAR":"GET_LABEL_FILE_COUNT_PLURAL")),clearTimeout(Bt),Bt=setTimeout(function(){!function(n){n.element.textContent=""}(n)},1500)},Nt=function(n){return n.element.parentNode.contains(document.activeElement)},Gt=function(n){var e=n.root,t=e.query("GET_ITEM",n.action.id).filename,l=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");Mt(e,t+" "+l)},kt=function(n){var e=n.root,t=n.action,l=e.query("GET_ITEM",t.id);Mt(e,t.status.main+" "+l.filename+" "+t.status.sub)},Ft=R({create:function(n){var e=n.root;e.element.id="filepond--assistant-"+n.props.id,a(e.element,"role","status"),a(e.element,"aria-live","polite"),a(e.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:O({DID_LOAD_ITEM:function(n){var e=n.root,t=n.action;if(Nt(e)){e.element.textContent="";var l=e.query("GET_ITEM",t.id);Pt.push(l.filename),clearTimeout(Ct),Ct=setTimeout(function(){xt(e,Pt.join(", "),e.query("GET_LABEL_FILE_ADDED")),Pt.length=0},750)}},DID_REMOVE_ITEM:function(n){var e=n.root,t=n.action;Nt(e)&&xt(e,t.item.filename,e.query("GET_LABEL_FILE_REMOVED"))},DID_COMPLETE_ITEM_PROCESSING:function(n){var e=n.root,t=e.query("GET_ITEM",n.action.id).filename,l=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Mt(e,t+" "+l)},DID_ABORT_ITEM_PROCESSING:Gt,DID_REVERT_ITEM_PROCESSING:Gt,DID_THROW_ITEM_REMOVE_ERROR:kt,DID_THROW_ITEM_LOAD_ERROR:kt,DID_THROW_ITEM_INVALID:kt,DID_THROW_ITEM_PROCESSING_ERROR:kt}),tag:"span",name:"assistant"}),Ut=function(n){return n.replace(new RegExp((arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-")+".","g"),function(n){return n.charAt(1).toUpperCase()})},Vt=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=Date.now(),r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(r);var u=Date.now()-l,s=function(){l=Date.now(),n.apply(void 0,a)};u<e?t||(r=setTimeout(s,e-u)):s()}},qt=function(n,e){var t=n.query("GET_ALLOW_REPLACE"),l=n.query("GET_ALLOW_MULTIPLE"),r=n.query("GET_TOTAL_ITEMS"),i=n.query("GET_MAX_FILES"),a=e.length;return!l&&a>1||!!(k(i=l?i:t?i:1)&&r+a>i)&&(n.dispatch("DID_THROW_MAX_FILES",{source:e,error:kn("warning",0,"Max files")}),!0)},jt=function(n,e){var t=n.childViews[0];return Ue(t,{left:e.scopeLeft-t.rect.element.left,top:e.scopeTop-(n.rect.outer.top+n.rect.element.marginTop+n.rect.element.scrollTop)})},zt=function(n){var e=n.query("GET_ALLOW_DROP"),t=n.query("GET_DISABLED"),l=e&&!t;if(l&&!n.ref.hopper){var r=St(n.element,function(e){if(qt(n,e))return!1;var t=n.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!n.query("GET_DROP_VALIDATION")||e.every(function(e){return sn("ALLOW_HOPPER_ITEM",e,{query:n.query}).every(function(n){return!0===n})&&t(e)})},{catchesDropsOnPage:n.query("GET_DROP_ON_PAGE"),requiresDropOnElement:n.query("GET_DROP_ON_ELEMENT")});r.onload=function(e,t){n.dispatch("ADD_ITEMS",{items:e,index:jt(n.ref.list,t),interactionMethod:2}),n.dispatch("DID_DROP",{position:t}),n.dispatch("DID_END_DRAG",{position:t})},r.ondragstart=function(e){n.dispatch("DID_START_DRAG",{position:e})},r.ondrag=Vt(function(e){n.dispatch("DID_DRAG",{position:e})}),r.ondragend=function(e){n.dispatch("DID_END_DRAG",{position:e})},n.ref.hopper=r,n.ref.drip=n.appendChildView(n.createChildView(et))}else!l&&n.ref.hopper&&(n.ref.hopper.destroy(),n.ref.hopper=null,n.removeChildView(n.ref.drip))},Ht=function(n,e){var t=n.query("GET_ALLOW_BROWSE"),l=n.query("GET_DISABLED"),r=t&&!l;r&&!n.ref.browser?n.ref.browser=n.appendChildView(n.createChildView($e,Object.assign({},e,{onload:function(e){if(qt(n,e))return!1;n.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:3})}})),0):!r&&n.ref.browser&&(n.removeChildView(n.ref.browser),n.ref.browser=null)},Yt=function(n){var e,t,l=n.query("GET_ALLOW_PASTE"),r=n.query("GET_DISABLED"),i=l&&!r;i&&!n.ref.paster?(n.ref.paster=(e=function(n){t.onload(n)},t={destroy:function(){$(Lt,Lt.indexOf(e)),0===Lt.length&&(document.removeEventListener("paste",At),Dt=!1)},onload:function(){}},function(n){Lt.includes(n)||(Lt.push(n),Dt||(Dt=!0,document.addEventListener("paste",At)))}(e),t),n.ref.paster.onload=function(e){n.dispatch("ADD_ITEMS",{items:e,index:jt(n.ref.list,position),interactionMethod:4})}):!i&&n.ref.paster&&(n.ref.paster.destroy(),n.ref.paster=null)},Wt=O({DID_SET_ALLOW_BROWSE:function(n){Ht(n.root,n.props)},DID_SET_ALLOW_DROP:function(n){zt(n.root)},DID_SET_ALLOW_PASTE:function(n){Yt(n.root)},DID_SET_DISABLED:function(n){var e=n.root,t=n.props;zt(e),Yt(e),Ht(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":delete e.element.dataset.disabled}}),Xt=R({name:"root",read:function(n){var e=n.root;e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:function(n){var e=n.root,t=n.props,l=e.query("GET_ID");l&&(e.element.id=l);var r=e.query("GET_CLASS_NAME");r&&r.split(" ").forEach(function(n){e.element.classList.add(n)}),e.ref.label=e.appendChildView(e.createChildView(Ze,Object.assign({},t,{translateY:null,caption:e.query("GET_LABEL_IDLE")}))),e.ref.list=e.appendChildView(e.createChildView(Ye,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(xe,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(Ft,Object.assign({},t))),e.ref.measure=ee("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(function(n){return!L(n.value)}).map(function(n){e.element.dataset[n.name]=n.value}),e.ref.widthPrevious=null,e.ref.widthUpdated=Vt(function(){e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[]},write:function(n){var e=n.root,t=n.actions;if(Wt({root:e,props:n.props,actions:t}),t.filter(function(n){return/^DID_SET_STYLE_/.test(n.type)}).filter(function(n){return!L(n.data.value)}).map(function(n){var t=n.data,l=Ut(n.type.substr(8).toLowerCase(),"_");e.element.dataset[l]=t.value,e.invalidateLayout()}),!e.rect.element.hidden){e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());var l=e.ref.bounds;l||(l=e.ref.bounds=function(n){var e=n.ref.measureHeight||null;return{cappedHeight:parseInt(n.style.maxHeight,10)||null,fixedHeight:0===e?null:e}}(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);var r=e.ref,i=r.hopper,a=r.label,o=r.list,u=r.panel;i&&i.updateHopperState();var s=e.query("GET_PANEL_ASPECT_RATIO"),c=e.query("GET_ALLOW_MULTIPLE"),d=e.query("GET_TOTAL_ITEMS"),f=d===(c?e.query("GET_MAX_FILES")||1e6:1),p=t.find(function(n){return"DID_ADD_ITEM"===n.type});if(f&&p){var b=p.data.interactionMethod;a.opacity=0,c?a.translateY=-40:1===b?a.translateX=40:a.translateY=3===b?40:30}else f||(a.opacity=1,a.translateX=0,a.translateY=0);var m=function(n){var e=n.ref.list.childViews[0].childViews[0];return e?{top:e.rect.element.marginTop,bottom:e.rect.element.marginBottom}:{top:0,bottom:0}}(e),h=function(n){var e=0,t=0,l=n.ref.list,r=l.childViews[0],i=r.childViews;if(0===i.length)return{visual:e,bounds:t};var a=r.rect.element.width,o=Ue(r,l.dragCoordinates),u=i[0].rect.element,s=u.marginTop+u.marginBottom,c=u.width+(u.marginLeft+u.marginRight),d=u.height+s,f=void 0!==o&&o>=0?1:0,p=i.find(function(n){return n.markedForRemoval&&n.opacity<.45})?-1:0,b=i.length+f+p,m=Math.round(a/c);return 1===m?i.forEach(function(n){var l=n.rect.element.height+s;t+=l,e+=l*n.opacity}):(t=Math.ceil(b/m)*d,e=t),{visual:e,bounds:t}}(e),g=a.rect.element.height,v=!c||f?0:g,E=f?o.rect.element.marginTop:0,_=0===d?0:o.rect.element.marginBottom,I=v+E+h.visual+_,y=v+E+h.bounds+_;if(o.translateY=Math.max(0,v-o.rect.element.marginTop)-m.top,s){var T=e.rect.element.width,R=T*s;s!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=s,e.ref.updateHistory=[]);var O=e.ref.updateHistory;if(O.push(T),O.length>4)for(var w=O.length,S=w-10,D=0,A=w;A>=S;A--)if(O[A]===O[A-2]&&D++,D>=2)return;u.scalable=!1,u.height=R;var C=R-v-(_-m.bottom)-(f?E:0);o.overflow=h.visual>C?C:null,e.height=R}else if(l.fixedHeight){u.scalable=!1;var B=l.fixedHeight-v-(_-m.bottom)-(f?E:0);o.overflow=h.visual>B?B:null}else if(l.cappedHeight){var P=I>=l.cappedHeight,M=Math.min(l.cappedHeight,I);u.scalable=!0,u.height=P?M:M-m.top-m.bottom;var x=M-v-(_-m.bottom)-(f?E:0);o.overflow=I>l.cappedHeight&&h.visual>x?x:null,e.height=Math.min(l.cappedHeight,y-m.top-m.bottom)}else{var N=d>0?m.top+m.bottom:0;u.scalable=!0,u.height=Math.max(g,I-N),e.height=Math.max(g,y-N)}}},destroy:function(n){var e=n.root;e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy()},mixins:{styles:["height"]}}),Jt=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};return r(dn(),function(n,t){e[n]=t[0]}),function(){var n,e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=null,a=dn(),o=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=Object.assign({},n),r=[],i=[],a=function(n,e,t){t?i.push({type:n,data:e}):(c[n]&&c[n](e),r.push({type:n,data:e}))},o=function(n){for(var e,t=arguments.length,l=new Array(t>1?t-1:0),r=1;r<t;r++)l[r-1]=arguments[r];return s[n]?(e=s)[n].apply(e,l):null},u={getState:function(){return Object.assign({},l)},processActionQueue:function(){var n=[].concat(r);return r.length=0,n},processDispatchQueue:function(){var n=[].concat(i);i.length=0,n.forEach(function(n){a(n.type,n.data)})},dispatch:a,query:o},s={};e.forEach(function(n){s=Object.assign({},n(l),s)});var c={};return t.forEach(function(n){c=Object.assign({},n(a,o,l),c)}),u}({items:[],listUpdateTimeout:null,processingQueue:[],options:(n=a,e={},r(n,function(t){var l,r,i,a=n[t];e[t]=(r=a[1],i=l=a[0],{enumerable:!0,get:function(){return i},set:function(n){i=H(n,l,r)}})}),i(e))},[Tn,X(a)],[Qn,W(a)]);o.dispatch("SET_OPTIONS",{options:t});var u=function(){document.hidden||o.dispatch("KICK")};document.addEventListener("visibilitychange",u);var s=null,c=!1,d=!1,f=null,p=null,b=function(){c||(c=!0),clearTimeout(s),s=setTimeout(function(){c=!1,f=null,p=null,d&&(d=!1,o.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",b);var h=Xt(o,{id:J()}),g=!1,v=!1,E={_read:function(){c&&(p=window.innerWidth,f||(f=p),d||p===f||(o.dispatch("DID_START_RESIZE"),d=!0)),v&&g&&(g=null===h.element.offsetParent),g||(h._read(),v=h.rect.element.hidden)},_write:function(n){var e,t=o.processActionQueue().filter(function(n){return!/^SET_/.test(n.type)});g&&!t.length||(y(t),g=h._write(n,t,d),(e=o.query("GET_ITEMS")).forEach(function(n,t){n.released&&$(e,t)}),g&&o.processDispatchQueue())}},_=function(n){return function(e){var t={type:n};if(!e)return t;if(e.hasOwnProperty("error")&&(t.error=e.error?Object.assign({},e.error):null),e.status&&(t.status=Object.assign({},e.status)),e.file&&(t.output=e.file),e.source)t.file=e.source;else if(e.item||e.id){var l=e.item?e.item:o.query("GET_ITEM",e.id);t.file=l?nn(l):null}return e.items&&(t.items=e.items.map(nn)),/progress/.test(n)&&(t.progress=e.progress),t}},I={DID_DESTROY:_("destroy"),DID_INIT:_("init"),DID_THROW_MAX_FILES:_("warning"),DID_START_ITEM_LOAD:_("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:_("addfileprogress"),DID_LOAD_ITEM:_("addfile"),DID_THROW_ITEM_INVALID:[_("error"),_("addfile")],DID_THROW_ITEM_LOAD_ERROR:[_("error"),_("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[_("error"),_("removefile")],DID_PREPARE_OUTPUT:_("preparefile"),DID_START_ITEM_PROCESSING:_("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:_("processfileprogress"),DID_ABORT_ITEM_PROCESSING:_("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:_("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:_("processfiles"),DID_REVERT_ITEM_PROCESSING:_("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[_("error"),_("processfile")],DID_REMOVE_ITEM:_("removefile"),DID_UPDATE_ITEMS:_("updatefiles"),DID_ACTIVATE_ITEM:_("activatefile")},y=function(n){n.length&&n.forEach(function(n){if(I[n.type]){var e=I[n.type];(Array.isArray(e)?e:[e]).forEach(function(e){setTimeout(function(){!function(n){var e=Object.assign({pond:A},n);delete e.type,h.element.dispatchEvent(new CustomEvent("FilePond:"+n.type,{detail:e,bubbles:!0,cancelable:!0,composed:!0}));var t=[];n.hasOwnProperty("error")&&t.push(n.error),n.hasOwnProperty("file")&&t.push(n.file);var l=["type","error","file"];Object.keys(n).filter(function(n){return!l.includes(n)}).forEach(function(e){return t.push(n[e])}),A.fire.apply(A,[n.type].concat(t));var r=o.query("GET_ON"+n.type.toUpperCase());r&&r.apply(void 0,t)}(e(n.data))},0)})}})},T=function(n){return o.dispatch("REMOVE_ITEM",{query:n}),null===o.query("GET_ACTIVE_ITEM",n)},R=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return new Promise(function(n,t){var l=[],r={};if(D(e[0]))l.push.apply(l,e[0]),Object.assign(r,e[1]||{});else{var i=e[e.length-1];"object"!=typeof i||i instanceof Blob||Object.assign(r,e.pop()),l.push.apply(l,e)}o.dispatch("ADD_ITEMS",{items:l,index:r.index,interactionMethod:1,success:n,failure:t})})},O=function(){return o.query("GET_ACTIVE_ITEMS")},L=function(n){return new Promise(function(e,t){o.dispatch("REQUEST_ITEM_PROCESSING",{query:n,success:function(n){e(n)},failure:function(n){t(n)}})})},A=Object.assign({},K(),E,function(n,e){var t={};return r(a,function(e){t[e]={get:function(){return n.getState().options[e]},set:function(t){n.dispatch("SET_"+Y(e,"_").toUpperCase(),{value:t})}}}),t}(o),{setOptions:function(n){return o.dispatch("SET_OPTIONS",{options:n})},addFile:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(t,l){R([{source:n,options:e}],{index:e.index}).then(function(n){return t(n&&n[0])}).catch(l)})},addFiles:R,getFile:function(n){return o.query("GET_ACTIVE_ITEM",n)},processFile:L,removeFile:T,getFiles:O,processFiles:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var l=Array.isArray(e[0])?e[0]:e;if(!l.length){var r=O().filter(function(n){return!(n.status===en.IDLE&&n.origin===tn.LOCAL)&&n.status!==en.PROCESSING&&n.status!==en.PROCESSING_COMPLETE&&n.status!==en.PROCESSING_REVERT_ERROR});return Promise.all(r.map(L))}return Promise.all(l.map(L))},removeFiles:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var l=Array.isArray(e[0])?e[0]:e,r=O();return l.length?l.map(function(n){return m(n)?r[n]?r[n].id:null:n}).filter(function(n){return n}).map(T):Promise.all(r.map(T))},sort:function(n){return o.dispatch("SORT",{compare:n})},browse:function(){var n=h.element.querySelector("input[type=file]");n&&n.click()},destroy:function(){A.fire("destroy",h.element),o.dispatch("ABORT_ALL"),h._destroy(),window.removeEventListener("resize",b),document.addEventListener("visibilitychange",u),o.dispatch("DID_DESTROY")},insertBefore:function(n){return w(h.element,n)},insertAfter:function(n){return S(h.element,n)},appendTo:function(n){return n.appendChild(h.element)},replaceElement:function(n){w(h.element,n),n.parentNode.removeChild(n),l=n},restoreElement:function(){l&&(S(l,h.element),h.element.parentNode.removeChild(h.element),l=null)},isAttachedTo:function(n){return h.element===n||l===n},element:{get:function(){return h.element}},status:{get:function(){return o.query("GET_STATUS")}}});return o.dispatch("DID_INIT"),i(A)}(Object.assign({},e,n))},$t=["fire","_read","_write"],Kt=function(n){var e={};return Z(n,e,$t),e},Zt=function(n,e){return n.replace(/(?:{([a-zA-Z]+)})/g,function(n,t){return e[t]})},Qt=function(n){var e=new Blob(["(",n.toString(),")()"],{type:"application/javascript"}),t=URL.createObjectURL(e),l=new Worker(t);return{transfer:function(n,e){},post:function(n,e,t){var r=J();l.onmessage=function(n){n.data.id===r&&e(n.data.message)},l.postMessage({id:r,message:n},t)},terminate:function(){l.terminate(),URL.revokeObjectURL(t)}}},nl=function(n){return new Promise(function(e,t){var l=new Image;l.onload=function(){e(l)},l.onerror=function(n){t(n)},l.src=n})},el=function(n,e){var t=n.slice(0,n.size,n.type);return t.lastModifiedDate=n.lastModifiedDate,t.name=e,t},tl=function(n){return el(n,n.name)},ll=[],rl=function(n){if(!ll.includes(n)){ll.push(n);var e=n({addFilter:cn,utils:{Type:an,forin:r,isString:M,isFile:zn,toNaturalFileSize:ae,replaceInString:Zt,getExtensionFromFilename:wn,getFilenameWithoutExtension:jn,guesstimateMimeType:it,getFileFromBlob:Ln,getFilenameFromURL:On,createRoute:O,createWorker:Qt,createView:R,createItemAPI:nn,loadImage:nl,copyFile:tl,renameFile:el,createBlob:An,applyFilterChain:un,text:te,getNumericAspectRatioFromString:bn},views:{fileActionButton:ie}});Object.assign(fn,e.options)}},il=(Ie="undefined"!=typeof window&&void 0!==window.document&&!("[object OperaMini]"===Object.prototype.toString.call(window.operamini))&&"visibilityState"in document&&"Promise"in window&&"slice"in Blob.prototype&&"URL"in window&&"createObjectURL"in window.URL&&"performance"in window,function(){return Ie}),al={apps:[]},ol=function(){};if(n.Status={},n.FileStatus={},n.FileOrigin={},n.OptionTypes={},n.create=ol,n.destroy=ol,n.parse=ol,n.find=ol,n.registerPlugin=ol,n.getOptions=ol,n.setOptions=ol,il()){!function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,l="__framePainter";if(window[l])return window[l].readers.push(n),void window[l].writers.push(e);window[l]={readers:[n],writers:[e]};var r=window[l],i=1e3/t,a=null,o=null,u=null,s=null,c=function(){document.hidden?(u=function(){return window.setTimeout(function(){return d(performance.now())},i)},s=function(){return window.clearTimeout(o)}):(u=function(){return window.requestAnimationFrame(d)},s=function(){return window.cancelAnimationFrame(o)})};document.addEventListener("visibilitychange",function(){s&&s(),c(),d(performance.now())});var d=function n(e){o=u(n),a||(a=e);var t=e-a;t<=i||(a=e-t%i,r.readers.forEach(function(n){return n()}),r.writers.forEach(function(n){return n(e)}))};c(),d(performance.now())}(function(){al.apps.forEach(function(n){return n._read()})},function(n){al.apps.forEach(function(e){return e._write(n)})});var ul=function e(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:il,create:n.create,destroy:n.destroy,parse:n.parse,find:n.find,registerPlugin:n.registerPlugin,setOptions:n.setOptions}})),document.removeEventListener("DOMContentLoaded",e)};"loading"!==document.readyState?setTimeout(function(){return ul()},0):document.addEventListener("DOMContentLoaded",ul);var sl=function(){return r(dn(),function(e,t){n.OptionTypes[e]=t[1]})};n.Status=Object.assign({},hn),n.FileOrigin=Object.assign({},tn),n.FileStatus=Object.assign({},en),n.OptionTypes={},sl(),n.create=function(){var e=(function(){return(arguments.length<=0?void 0:arguments[0])instanceof HTMLElement?(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};sn("SET_ATTRIBUTE_TO_OPTION_MAP",t);var l=Object.assign({},e),i=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[];r(n.attributes,function(e){t.push(n.attributes[e])});var l=t.filter(function(n){return n.name}).reduce(function(e,t){var l,r=a(n,t.name);return e[(l=t.name,Ut(l.replace(/^data-/,"")))]=r===t.name||r,e},{});return function n(e,t){r(t,function(t,l){r(e,function(n,r){var i=new RegExp(t);if(i.test(n)&&(delete e[n],!1!==l))if(M(l))e[l]=r;else{var a,o=l.group;q(l)&&!e[o]&&(e[o]={}),e[o][(a=n.replace(i,""),a.charAt(0).toLowerCase()+a.slice(1))]=r}}),l.mapping&&n(e[l.group],l.mapping)})}(l,e),l}("FIELDSET"===n.nodeName?n.querySelector("input[type=file]"):n,t);Object.keys(i).forEach(function(n){q(i[n])?(q(l[n])||(l[n]={}),Object.assign(l[n],i[n])):l[n]=i[n]}),l.files=(e.files||[]).concat(Array.from(n.querySelectorAll("input:not([type=file])")).map(function(n){return{source:n.value,options:{type:n.dataset.type}}}));var o=Jt(l);return n.files&&Array.from(n.files).forEach(function(n){o.addFile(n)}),o.replaceElement(n),o}).apply(void 0,arguments):Jt.apply(void 0,arguments)}).apply(void 0,arguments);return e.on("destroy",n.destroy),al.apps.push(e),Kt(e)},n.destroy=function(n){var e=al.apps.findIndex(function(e){return e.isAttachedTo(n)});return e>=0&&(al.apps.splice(e,1)[0].restoreElement(),!0)},n.parse=function(e){return Array.from(e.querySelectorAll(".filepond")).filter(function(n){return!al.apps.find(function(e){return e.isAttachedTo(n)})}).map(function(e){return n.create(e)})},n.find=function(n){var e=al.apps.find(function(e){return e.isAttachedTo(n)});return e?Kt(e):null},n.registerPlugin=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e.forEach(rl),sl()},n.getOptions=function(){var n={};return r(dn(),function(e,t){n[e]=t[0]}),n},n.setOptions=function(e){return q(e)&&(al.apps.forEach(function(n){n.setOptions(e)}),function(n){r(n,function(n,e){fn[n]&&(fn[n][0]=H(e,fn[n][0],fn[n][1]))})}(e)),n.getOptions()}}n.supported=il,Object.defineProperty(n,"__esModule",{value:!0})}(e)}}]);