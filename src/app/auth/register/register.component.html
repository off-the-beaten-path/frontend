<div id="register-container"
     fxLayout="column"
     fxLayoutAlign="center center">
  <mat-card>
    <mat-card-content>
      <form *ngIf="!hasSubmitted"
            [formGroup]="form"
            (ngSubmit)="register()">

        <p class="mat-h2">Create an Account</p>

        <p>
          <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input id="register-email"
                   matInput
                   formControlName="email"
                   placeholder="you@email"
                   type="email">
            <mat-icon matSuffix>email</mat-icon>
          </mat-form-field>
        </p>

        <p>
          <mat-form-field appearance="outline" hintLabel="Must be 10-32 characters">
            <mat-label>Password</mat-label>
            <input id="register-password"
                   matInput
                   formControlName="password"
                   placeholder="******"
                   type="password">
            <mat-icon matSuffix>vpn_key</mat-icon>
            <mat-hint align="end">{{ form.value.password?.length || 0 }}</mat-hint>
          </mat-form-field>
        </p>

        <p>
          <button id="register-submit"
                  type="submit"
                  mat-stroked-button
                  [disabled]="form.invalid">
            Register
          </button>
        </p>
      </form>

      <div *ngIf="hasSubmitted"
           style="margin-top: 1rem; margin-bottom: 1rem;"
           fxLayout="row">
        <mat-icon>warning</mat-icon>
        <span>
            You will receive an email with further instructions.
          </span>
      </div>

      <mat-divider></mat-divider>

      <div style="margin-top: 2rem;" fxLayout="row" fxLayoutAlign="space-around center">
        <a mat-stroked-button
           [routerLink]="['/', 'auth', 'login']">
          Login
        </a>
      </div>
    </mat-card-content>
  </mat-card>
</div>
